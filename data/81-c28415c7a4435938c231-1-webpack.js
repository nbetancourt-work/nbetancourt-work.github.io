(self.webpackChunkbackend=self.webpackChunkbackend||[]).push([[81],{7057:(e,t,n)=>{(t=e.exports=n(482)(!1)).push([e.id,".InfographicEditor-Thumbs .gh4gFrnDfIaRgyNi2Y-Cb {\n    margin: auto 10px;\n}\n\n._3pH_HfhevWzsAxiwzfCANC {\n    text-align: center;\n    position: absolute;\n    top: -3px;\n    right: 0;\n}\n\n.fNKRflHrCr8f13lc0VCS8 {\n    display: inline-block;\n    width: 16px;\n    height: 16px;\n    margin-right: 14px;\n    cursor: pointer;\n    vertical-align: top;\n}\n\n._1ex7TrsYhTrdhNyhQHlcWm {\n    height: 30px;\n    padding-top: 25px;\n    text-align: center;\n}\n",""]),t.locals={container:"gh4gFrnDfIaRgyNi2Y-Cb",pageToolbar:"_3pH_HfhevWzsAxiwzfCANC",magicToolbarButton:"fNKRflHrCr8f13lc0VCS8",addPageBlock:"_1ex7TrsYhTrdhNyhQHlcWm"}},7068:(e,t,n)=>{e.exports=n.p+"4589f9ee6d28bba505d9296fdd851f78.svg"},7065:(e,t,n)=>{e.exports=n.p+"543fadf916e31048a5aee1d7fca4519b.svg"},7064:(e,t,n)=>{e.exports=n.p+"7f1c43bd7e0c6b0815c4726f70cd9acd.svg"},7067:(e,t,n)=>{e.exports=n.p+"bac35fb27619d8f12f946a9c9fb0ffe6.svg"},7066:(e,t,n)=>{e.exports=n.p+"46bf271973a4a017b5165e14eaaba332.svg"},7061:(e,t,n)=>{n.r(t),n.d(t,{default:()=>o});let o="data:image/svg+xml,%3csvg viewBox='0 0 25 25' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' id='el_1rNzpgNeL'%3e%3cstyle%3e%40-webkit-keyframes kf_el_RmcnqVht68_an_5S_hhfRDh%7b0%25%7b-webkit-transform: translate(20.5px%2c 88.5px) scale(0.1%2c 0.1) translate(-20.5px%2c -88.5px)%3btransform: translate(20.5px%2c 88.5px) scale(0.1%2c 0.1) translate(-20.5px%2c -88.5px)%3b%7d51.11%25%7b-webkit-transform: translate(20.5px%2c 88.5px) scale(1%2c 1) translate(-20.5px%2c -88.5px)%3btransform: translate(20.5px%2c 88.5px) scale(1%2c 1) translate(-20.5px%2c -88.5px)%3b%7d100%25%7b-webkit-transform: translate(20.5px%2c 88.5px) scale(1%2c 1) translate(-20.5px%2c -88.5px)%3btransform: translate(20.5px%2c 88.5px) scale(1%2c 1) translate(-20.5px%2c -88.5px)%3b%7d%7d%40keyframes kf_el_RmcnqVht68_an_5S_hhfRDh%7b0%25%7b-webkit-transform: translate(20.5px%2c 88.5px) scale(0.1%2c 0.1) translate(-20.5px%2c -88.5px)%3btransform: translate(20.5px%2c 88.5px) scale(0.1%2c 0.1) translate(-20.5px%2c -88.5px)%3b%7d51.11%25%7b-webkit-transform: translate(20.5px%2c 88.5px) scale(1%2c 1) translate(-20.5px%2c -88.5px)%3btransform: translate(20.5px%2c 88.5px) scale(1%2c 1) translate(-20.5px%2c -88.5px)%3b%7d100%25%7b-webkit-transform: translate(20.5px%2c 88.5px) scale(1%2c 1) translate(-20.5px%2c -88.5px)%3btransform: translate(20.5px%2c 88.5px) scale(1%2c 1) translate(-20.5px%2c -88.5px)%3b%7d%7d%40-webkit-keyframes kf_el_RmcnqVht68_an__czkRQPOg%7b0%25%7bopacity: 0%3b%7d11.11%25%7bopacity: 0.5%3b%7d40%25%7bopacity: 0.5%3b%7d51.11%25%7bopacity: 0%3b%7d100%25%7bopacity: 0%3b%7d%7d%40keyframes kf_el_RmcnqVht68_an__czkRQPOg%7b0%25%7bopacity: 0%3b%7d11.11%25%7bopacity: 0.5%3b%7d40%25%7bopacity: 0.5%3b%7d51.11%25%7bopacity: 0%3b%7d100%25%7bopacity: 0%3b%7d%7d%23el_1rNzpgNeL *%7b-webkit-animation-duration: 1.5s%3banimation-duration: 1.5s%3b-webkit-animation-iteration-count: 1%3banimation-iteration-count: 1%3b-webkit-animation-timing-function: cubic-bezier(0%2c 0%2c 1%2c 1)%3banimation-timing-function: cubic-bezier(0%2c 0%2c 1%2c 1)%3b%7d%23el_lEETVgXren%7bstroke: none%3bstroke-width: 1%3bfill: none%3b%7d%23el_P31aM6_bhF%7b-webkit-transform: translate(-8px%2c -76px)%3btransform: translate(-8px%2c -76px)%3bfill: white%3b%7d%23el_RmcnqVht68%7b-webkit-animation-fill-mode: forwards%3banimation-fill-mode: forwards%3b-webkit-animation-name: kf_el_RmcnqVht68_an__czkRQPOg%3banimation-name: kf_el_RmcnqVht68_an__czkRQPOg%3b-webkit-animation-timing-function: cubic-bezier(0%2c 0%2c 0.58%2c 1)%3banimation-timing-function: cubic-bezier(0%2c 0%2c 0.58%2c 1)%3b%7d%23el_RmcnqVht68_an_5S_hhfRDh%7b-webkit-animation-fill-mode: forwards%3banimation-fill-mode: forwards%3b-webkit-animation-name: kf_el_RmcnqVht68_an_5S_hhfRDh%3banimation-name: kf_el_RmcnqVht68_an_5S_hhfRDh%3b-webkit-animation-timing-function: cubic-bezier(0.42%2c 0%2c 1%2c 1)%3banimation-timing-function: cubic-bezier(0.42%2c 0%2c 1%2c 1)%3b%7d%3c/style%3e%3cg id='el_lEETVgXren' fill-rule='evenodd'%3e%3cg id='el_P31aM6_bhF' fill-rule='nonzero'%3e%3cg id='el_RmcnqVht68_an_5S_hhfRDh' data-animator-group='true' data-animator-type='2'%3e%3cpath d='M20.5%2c96 C24.7896164%2c96 28.1923077%2c92.5973087 28.1923077%2c88.5 C28.1923077%2c84.4026913 24.7896164%2c81 20.5%2c81 C16.2103836%2c81 12.8076923%2c84.4026913 12.8076923%2c88.5 C12.8076923%2c92.5973087 16.2103836%2c96 20.5%2c96 Z M20.5%2c101 C13.5964406%2c101 8%2c95.4035594 8%2c88.5 C8%2c81.5964406 13.5964406%2c76 20.5%2c76 C27.4035594%2c76 33%2c81.5964406 33%2c88.5 C33%2c95.4035594 27.4035594%2c101 20.5%2c101 Z' id='el_RmcnqVht68'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e"},7056:(e,t,n)=>{var o=n(7057);var r;"string"==typeof o&&(o=[[e.id,o,""]]);var a={hmr:!0};a.transform=r,a.insertInto=void 0,n(483)(o,a),o.locals&&(e.exports=o.locals)},7063:(e,t,n)=>{n.r(t),n.d(t,{default:()=>L});var o=n(406);var r=n(423);var a=n(422);function i(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function p(){var e=d(["\n    display: inline-block;\n    position: relative;\n"]);return p=function(){return e},e}function f(){var e=d(["\n            padding: 2px 15px 2px 6px;\n            background: ",";\n            border: 1px solid #dcdee1;\n            color: ",";\n\n            &:focus {\n                border: 1px solid #dcdee1;\n            }\n        "]);return f=function(){return e},e}function v(){var e=d(["\n    width: 30px;\n    background: #656565;\n    border-radius: 4px;\n    line-height: 15px;\n    font-size: 11px;\n    text-align: left;\n    color: #fff;\n    padding: 1px 14px 1px 5px;\n    border: 2px solid transparent;\n\n    &:focus {\n        border: 2px solid #3195cb;\n    }\n\n    ","\n"]);return v=function(){return e},e}function h(){var e=d(["\n    cursor: pointer;\n    position: absolute;\n    height: 10px;\n    width: 15px;\n    right: 0;\n"]);return h=function(){return e},e}function b(){var e=d(["\n    top: 0;\n"]);return b=function(){return e},e}function g(){var e=d(["\n    bottom: 0;\n"]);return g=function(){return e},e}function m(){var e=d(["\n            border-top-color: ",";\n            border-right-color: ",";\n        "]);return m=function(){return e},e}function y(){var e=d(["\n    position: absolute;\n    right: 6px;\n    border: 3px solid transparent;\n    border-top-color: #d8d8d8;\n    border-right-color: #d8d8d8;\n\n    ","\n"]);return y=function(){return e},e}function x(){var e=d(["\n            ",":hover & {\n                border-top-color: ",";\n                border-right-color: ",";\n            }\n        "]);return x=function(){return e},e}function _(){var e=d(["\n    top: 5px;\n    transform: rotate(-45deg);\n\n    ",":hover & {\n        border-top-color: white;\n        border-right-color: white;\n        transform: rotate(-45deg) scale(1.2);\n    }\n\n    ","\n"]);return _=function(){return e},e}function k(){var e=d(["\n            ",":hover & {\n                border-top-color: ",";\n                border-right-color: ",";\n            }\n        "]);return k=function(){return e},e}function w(){var e=d(["\n    bottom: 5px;\n    transform: rotate(135deg);\n\n    ",":hover & {\n        border-top-color: white;\n        border-right-color: white;\n        transform: rotate(135deg) scale(1.2);\n    }\n\n    ","\n"]);return w=function(){return e},e}var E=60*n(4184).VIDEO_MAX_LENGTH_IN_MINUTES;var z=r.default.div(p());var R=r.default.input(v(),function(e){return e.theme.id===a.default.id&&(0,r.css)(f(),a.default.white,a.default.neutral600)});var C=r.default.div(h());var P=(0,r.default)(C)(b());var S=(0,r.default)(C)(g());var O=r.default.span(y(),function(e){return e.theme.id===a.default.id&&(0,r.css)(m(),a.default.neutral600,a.default.neutral600)});var D=(0,r.default)(O)(_(),P,function(e){return e.theme.id===a.default.id&&(0,r.css)(x(),P,a.default.neutral600,a.default.neutral600)});var A=(0,r.default)(O)(w(),S,function(e){return e.theme.id===a.default.id&&(0,r.css)(k(),S,a.default.neutral600,a.default.neutral600)});function T(e){return Math.round(100*e)/100}var L=function(e){"use strict";var t;!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(r,e);var n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=l(r),n;if(t){var o=l(this).constructor;n=Reflect.construct(e,arguments,o)}else n=e.apply(this,arguments);var a;return(a=n)&&("object"==(a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof a)?a:i(this)});function r(){var e;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),e=n.apply(this,arguments),c(i(e),"state",{duration:"".concat(T(e.props.value))}),c(i(e),"timeout",void 0),c(i(e),"interval",void 0),c(i(e),"updateValueOnOuterChange",function(t){e.setState({duration:t})}),c(i(e),"clearTimeouts",function(){clearTimeout(e.timeout),clearTimeout(e.interval)}),c(i(e),"change",function(t){e.triggerChange(e.getDuration()+t),e.timeout=window.setTimeout(function(){e.interval=window.setInterval(function(){return e.triggerChange(e.getDuration()+t)},100)},300)}),c(i(e),"getDuration",function(){var t=parseFloat(e.state.duration);return isNaN(t)?0:t}),c(i(e),"onBlur",function(){e.triggerChange()}),c(i(e),"onFocus",function(e){e.target.setSelectionRange(0,e.target.value.length)}),c(i(e),"onKeyPress",function(t){var n=t.shiftKey?1:.1;"Enter"===t.key?(t.preventDefault(),e.triggerChange()):"ArrowUp"===t.key?(t.preventDefault(),e.triggerChange(e.getDuration()+n)):"ArrowDown"===t.key&&(t.preventDefault(),e.triggerChange(e.getDuration()-n))}),c(i(e),"onChange",function(t){var n=t.target.value;n.length&&isNaN(parseFloat(n))||e.setState({duration:"".concat(n)})}),c(i(e),"triggerChange",function(t){var n=void 0!==t?t:e.state.duration?parseFloat(e.state.duration):e.props.value;n=T(n=Math.min(E,n=Math.max(0,n))),e.setState({duration:"".concat(n)},function(){return e.props.onChange(n)})}),e}var a,d;return a=[{key:"componentDidUpdate",value:function(e){this.props.value!==e.value&&T(parseFloat(this.state.duration))!==T(this.props.value)&&this.updateValueOnOuterChange("".concat(T(this.props.value)))}},{key:"render",value:function(){var e=this;return o.createElement(z,null,o.createElement(R,{type:"text",value:this.state.duration,onBlur:this.onBlur,onFocus:this.onFocus,onKeyDown:this.onKeyPress,onChange:this.onChange}),o.createElement(P,{onMouseDown:function(){return e.change(1)},onMouseUp:this.clearTimeouts,onMouseLeave:this.clearTimeouts},o.createElement(D,null)),o.createElement(S,{onMouseDown:function(){return e.change(-1)},onMouseUp:this.clearTimeouts,onMouseLeave:this.clearTimeouts},o.createElement(A,null)))}}],u(r.prototype,a),d&&u(r,d),r}(o.PureComponent)},7062:(e,t,n)=>{n.r(t),n.d(t,{PageDuration:()=>f});var o=n(406);var r=n(423);var a=n(374);var i=n(7063);var u=n(422);function c(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function l(){var e=c(["\n    box-sizing: content-box;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 5px 5px 5px 10px;\n    width: 135px;\n    height: 21px;\n    background: #272727;\n    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);\n    border-radius: 4px;\n    font-weight: 500;\n    font-size: 11px;\n    color: white;\n\n    ","\n"]);return l=function(){return e},e}function s(){var e=c(["\n    font-size: 11px;\n    margin: 0 10px 0 0;\n"]);return s=function(){return e},e}var d=r.default.div(l(),function(e){return e.theme.id===u.default.id&&"\n        background: ".concat(u.default.neutral50,";\n        color: ").concat(u.default.neutral600,";\n    ")});var p=r.default.label(s());var f=function(e){return o.createElement(d,null,o.createElement(p,null,a.default.t("app.download.duration_in_seconds")),o.createElement(i.default,{value:e.duration,onChange:e.setDuration}))}},7059:(e,t,n)=>{n.r(t),n.d(t,{hideResize:()=>a,resizeHeight:()=>i,resizeLeft:()=>c,resizeRight:()=>u});var o=n(434);var r=n(730);function a(){o.default.dispatch({type:r.PAGE_RESIZE_HIDE})}function i(){o.default.dispatch({type:r.PAGE_RESIZE_HEIGHT})}function u(){o.default.dispatch({type:r.PAGE_RESIZE_RIGHT})}function c(){o.default.dispatch({type:r.PAGE_RESIZE_LEFT})}},7058:(e,t,n)=>{n.r(t),n.d(t,{redo:()=>i,undo:()=>a});var o=n(434);var r=n(701);function a(){o.default.dispatch({type:r.UNDO_POP})}function i(){o.default.dispatch({type:r.UNDO_REDO})}},7060:(e,t,n)=>{n.r(t),n.d(t,{default:()=>x});var o=n(406);var r=n(413);var a=n.n(r);var i=n(423);var u=n(7061);function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function p(){var e=d(["\n    position: absolute;\n    pointer-events: none;\n    ","\n"]);return p=function(){return e},e}function f(){var e=d(["\n    position: absolute;\n    left: -35%;\n    top: -35%;\n    width: 160%;\n    height: 160%;\n    object-fit: contain;\n"]);return f=function(){return e},e}var v=i.default.div(p(),function(e){return"\n        top: ".concat(e.offsetTop||-6,"px;\n        left: ").concat(e.offsetLeft||0,"px;\n        width: ").concat(e.size||25,"px;\n        height: ").concat(e.size||25,"px;\n    ")});var h=i.default.img(f());var b=["kf_el_RmcnqVht68_an","el_1rNzpgNeL"];var g=function(e){"use strict";var t;!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(r,e);var n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=l(r),n;if(t){var o=l(this).constructor;n=Reflect.construct(e,arguments,o)}else n=e.apply(this,arguments);var a;return(a=n)&&("object"==(a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof a)?a:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this)});function r(){return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),n.apply(this,arguments)}var a,i;return a=[{key:"render",value:function(){var e;return o.createElement(v,{top:this.props.offsetTop,left:this.props.offsetLeft,width:this.props.size,height:this.props.size},o.createElement(h,{src:(e=u.default,b.reduce(function(e,t){return e.split(t).join(t+Math.random().toString().split(".")[1])},e))}))}}],c(r.prototype,a),i&&c(r,i),r}(o.PureComponent);var m,y;m="propTypes",y={size:a().number.isRequired,offsetLeft:a().number,offsetTop:a().number},m in g?Object.defineProperty(g,m,{value:y,enumerable:!0,configurable:!0,writable:!0}):g[m]=y;let x=g},7055:(e,t,n)=>{n.r(t),n.d(t,{default:()=>tn});var o=n(374);var r=n(406);var a=n(413);var i=n.n(a);var u=n(875);var c=n.n(u);var l=n(552);var s=n(698);var d=n.n(s);var p=n(2310);var f=n.n(p);var v=n(423);var h=n(418);var b=n.n(h);var g=n(1202);var m=n(731);var y=n(1205);var x=n(6e3);var _=n(7056);var k=n.n(_);var w=n(5162);var E=n(460);var z=n(5151);var R=n(1086);var C=n(1968);var P=n(2846);var S=n(5254);var O=n(730);var D=n(7058);var A=n(5252);var T=n(5247);var L=n(7059);var M=n(4332);var j=n(4076);var B=n(2695);var I=n(728);var q=n(501);var H=n(1250);var N=n(5248);var V=n(7060);var F=n(5257);var Y=n(1206);var K=n(756);var U=n(1161);var G=n(4170);var Z=n(5191);var X=n(422);var W=n(4103);var Q=n(2510);var J=n(434);var $=n(2591);var ee=n(1167);var et=n(7062);function en(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eo(e,t,n,o,r,a,i){try{var u=e[a](i);var c=u.value}catch(e){n(e);return}u.done?t(c):Promise.resolve(c).then(o,r)}function er(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ea(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ei(e){return(ei=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eu(e,t){return(eu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ec(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function el(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function es(){var e=ec(["\n    pointer-events: auto;\n    position: relative;\n    padding-top: 25px;\n    ","\n\n    ","\n"]);return es=function(){return e},e}function ed(){var e=ec(["\n    width: 12px;\n    height: 6px;\n    right: 3px;\n    top: 7px;\n    position: absolute;\n    pointer-events: none;\n    background: url(",") center no-repeat;\n    background-size: contain;\n    opacity: 0.3;\n\n    ","\n"]);return ed=function(){return e},e}function ep(){var e=ec(["\n            color: ",";\n\n            &:hover {\n                color: ",";\n            }\n\n            ","\n        "]);return ep=function(){return e},e}function ef(){var e=ec(["\n    position: absolute;\n    top: 0;\n    left: -5px;\n    cursor: pointer;\n    font-size: 11px;\n    color: #7b7b7b;\n    height: 16px;\n    font-weight: 500;\n    line-height: 16px;\n    padding: 2px 5px;\n    padding-right: 20px;\n\n    &:hover {\n        color: #fff;\n\n        "," {\n            opacity: 1;\n        }\n    }\n\n    ","\n\n    ","\n\n    ","\n"]);return ef=function(){return e},e}function ev(){var e=ec(["\n    position: absolute;\n    top: -10px;\n    right: 110px;\n    pointer-events: auto;\n"]);return ev=function(){return e},e}function eh(){var e=ec(["\n            background-image: url(",");\n\n            &:hover {\n                background-image: url(",");\n            }\n        "]);return eh=function(){return e},e}function eb(){var e=ec(["\n    display: inline-block;\n    width: 14px;\n    height: 14px;\n    margin-right: ","px;\n    cursor: pointer;\n    vertical-align: top;\n    background: url(",") center no-repeat;\n    background-size: contain;\n    opacity: 0.3;\n\n    &:hover {\n        opacity: 1;\n    }\n\n    ","\n"]);return eb=function(){return e},e}function eg(){var e=ec(["\n            background-image: url(",");\n\n            &:hover {\n                background-image: url(",");\n            }\n        "]);return eg=function(){return e},e}function em(){var e=ec(["\n    display: inline-block;\n    width: 18px;\n    height: 18px;\n    margin-right: 12px;\n    margin-top: -4px;\n    cursor: pointer;\n    position: relative;\n    background: url(",") center no-repeat;\n    background-size: contain;\n    opacity: 0.3;\n\n    &:hover {\n        opacity: 1;\n    }\n\n    ","\n"]);return em=function(){return e},e}function ey(){var e=ec(["\n            background-image: url(",");\n\n            &:hover {\n                background-image: url(",");\n            }\n        "]);return ey=function(){return e},e}function ex(){var e=ec(["\n    display: inline-block;\n    width: 14px;\n    height: 14px;\n    cursor: pointer;\n    background: url(",") center no-repeat;\n    background-size: contain;\n    opacity: 0.3;\n\n    &:hover {\n        opacity: 1;\n    }\n\n    ","\n"]);return ex=function(){return e},e}function e_(){var e=ec(["\n    opacity: 0.01;\n    transition: opacity 100ms ease-in;\n    min-width: 130px;\n\n    &:hover {\n        opacity: 1;\n        transition: opacity 100ms ease-in;\n    }\n"]);return e_=function(){return e},e}function ek(){var e=ec(["\n    ","\n    ","\n"]);return ek=function(){return e},e}function ew(){var e=ec(["\n    content: '';\n    position: absolute;\n    width: calc(100% + 30px);\n    height: calc(100% - 51px);\n    left: -15px;\n    top: 10px;\n\n    &:hover {\n        &::before {\n            content: '';\n            position: absolute;\n            left: 14px;\n            top: 14px;\n            width: calc(100% - 30px);\n            height: calc(100% - 29px);\n            border: 1px solid #3195cb;\n\n            ","\n        }\n    }\n"]);return ew=function(){return e},e}function eE(){var e=ec(["\n    display: none;\n    height: 65px;\n    width: 13px;\n    position: absolute;\n    background-color: #3194cb;\n    border: 1px solid #fff;\n    top: calc(50% - 48px);\n    z-index: 1;\n    min-width: auto;\n    padding: 0 0 0 5px;\n    border-radius: 4px;\n\n    &:active {\n        background-color: #3194cb;\n    }\n\n    &::before,\n    &::after {\n        content: '';\n        position: absolute;\n        top: 21px;\n        height: 23px;\n        width: 1px;\n        background: #fff;\n    }\n\n    &::before {\n        left: 3px;\n    }\n\n    &::after {\n        right: 3px;\n    }\n\n    ","\n"]);return eE=function(){return e},e}function ez(){var e=ec([void 0,void 0]);return ez=function(){return e},e}function eR(){var e=ec([void 0,void 0]);return eR=function(){return e},e}function eC(){var e=ec(["\n    width: 65px;\n    height: 13px;\n    position: absolute;\n    background-color: #656565;\n    left: calc(50% - 32px);\n    top: 6px;\n    z-index: 1;\n    cursor: ns-resize;\n    min-width: auto;\n    border-radius: 4px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    &:hover,\n    &:active {\n        background: #3194cb;\n    }\n\n    &::after {\n        content: '';\n        box-sizing: border-box;\n        position: absolute;\n        left: 20px;\n        top: 4px;\n        width: 23px;\n        height: 5px;\n        border-top: 1px solid #fff;\n        border-bottom: 1px solid #fff;\n    }\n\n    ","\n"]);return eC=function(){return e},e}function eP(){var e=ec(["\n    display: none;\n    position: absolute;\n    font-size: 11px;\n    font-weight: 500;\n    background-color: #2d2d2d;\n    padding: 4px 0;\n    box-shadow: 0 10px 40px 0 rgba(0, 0, 0, 0.5);\n    border-radius: 4px;\n    text-align: center;\n    z-index: 2;\n    width: 60px;\n\n    ","\n"]);return eP=function(){return e},e}function eS(){var e=ec(["\n    left: 50%;\n    margin-left: -30px;\n    bottom: 30px;\n"]);return eS=function(){return e},e}function eO(){var e=ec(["\n    top: calc(50% - 26px);\n    right: 14px;\n    z-index: 1;\n"]);return eO=function(){return e},e}function eD(){var e=ec([void 0,void 0]);return eD=function(){return e},e}function eA(){var e=ec(["\n    display: none;\n    position: absolute;\n    left: -1px;\n    top: 24px;\n    width: calc(100%);\n    height: calc(100% - 80px);\n    border: 1px solid #3195cb;\n    z-index: 0;\n\n    ","\n"]);return eA=function(){return e},e}function eT(){var e=ec(["\n    position: absolute;\n    top: 25px;\n    width: 3px;\n    height: calc(100% - 80px);\n    min-width: auto;\n    cursor: ew-resize;\n    z-index: 1;\n\n    &:hover {\n        "," {\n            display: inline-block;\n            cursor: ew-resize;\n        }\n\n        & ~ "," {\n            display: block;\n        }\n    }\n\n    ","\n"]);return eT=function(){return e},e}function eL(){var e=ec([void 0,void 0]);return eL=function(){return e},e}function eM(){var e=ec([void 0,void 0]);return eM=function(){return e},e}function ej(){var e=ec(["\n            border: 1px solid #3195cb;\n\n            ","\n        "]);return ej=function(){return e},e}function eB(){var e=ec(["\n    position: absolute;\n    width: 100%;\n    height: calc(100% - ","px);\n    top: ","px;\n    left: 0;\n    pointer-events: none;\n    margin: -1px;\n    border: 1px solid ","80;\n    ","\n"]);return eB=function(){return e},e}function eI(){var e=ec(["\n            &::before {\n                border-top-color: ",";\n            }\n\n            ","\n        "]);return eI=function(){return e},e}function eq(){var e=ec(["\n    position: absolute;\n    left: 0px;\n    bottom: 30px;\n    width: 100%;\n    height: 25px;\n\n    &::before {\n        border-top: 1px solid #656565;\n        content: '';\n        width: 100%;\n        height: 0;\n        position: absolute;\n        bottom: 12px;\n    }\n\n    ","\n\n    ","\n"]);return eq=function(){return e},e}var eH;var eN=b().getParser(window.navigator.userAgent).isOS(b().OS_MAP.MacOS);var eV=v.default.div(es(),function(e){return e.additionalSpace&&"margin-top: 200px;"},function(e){return e.theme.id===X.default.id&&"\n        padding-top: 20px;\n    "});var eF=v.default.span(ed(),n(5298),function(e){return e.theme.id===X.default.id&&"\n        background-image: url(".concat(n(5299),");\n        width: 8px;\n        height: 4px;\n        right: 7px;\n        top: 7px;\n    ")});var eY=v.default.div(ef(),eF,function(e){return(e.isSelected||!e.interactive)&&"\n        color: #fff;\n\n        ".concat(eF," {\n            opacity: 1;\n        }\n    ")},function(e){return!e.interactive&&"\n        pointer-events: none;\n    "},function(e){return e.theme.id===X.default.id&&(0,v.css)(ep(),X.default.neutral200,X.default.neutral600,(e.isSelected||!e.interactive)&&"\n            color: ".concat(X.default.neutral600,";\n        "))});var eK=v.default.div(ev());var eU=v.default.div(eb(),function(e){return e.marginRight},n(7064),function(e){return e.theme.id===X.default.id&&(0,v.css)(eh(),n(7065),n(7065))});var eG=v.default.div(em(),n(7066),function(e){return e.theme.id===X.default.id&&(0,v.css)(eg(),n(7067),n(7067))});var eZ=v.default.div(ex(),n(7068),function(e){return e.theme.id===X.default.id&&(0,v.css)(ey(),n(4412),n(4412))});var eX=(0,v.default)(E.default)(e_());var eW=v.default.div(ek(),function(e){return e.selected&&"\n        border: 1px solid #3195cb;\n        margin: -1px;\n    "},function(e){var t=e.theme;return e.selected&&t.id===X.default.id&&"\n        border-color: ".concat(X.default.neutral200,";\n    ")});var eQ=v.default.div(ew(),function(e){return e.theme.id===X.default.id&&"\n                border-color: ".concat(X.default.neutral200,";\n                top: 9px;\n                height: calc(100% - 24px);\n                box-sizing: content-box;\n            ")});var eJ=(0,v.default)(E.default)(eE(),function(e){return e.theme.id===X.default.id&&"\n        background-color: ".concat(X.default.neutral300,";\n        outline: none;\n\n        &:hover,\n        &:active {\n            background-color: ").concat(X.default.neutral400,";\n        }\n    ")});var e$=(0,v.default)(eJ)(ez(),"left: -6px;");var e0=(0,v.default)(eJ)(eR(),"left: -3px;");var e1=v.default.button(eC(),function(e){return e.theme.id===X.default.id&&"\n        background-color: ".concat(X.default.neutral300,";\n        outline: none;\n\n        &:hover {\n            background-color: ").concat(X.default.neutral400,";\n        }\n    ")});var e2=v.default.div(eP(),function(e){return e.theme.id===X.default.id&&"\n        box-shadow: ".concat(X.default.shadow.default,";\n        color: ").concat(X.default.neutral600,";\n        background-color:  ").concat(X.default.neutral100,";\n    ")});var e5=(0,v.default)(e2)(eS());var e3=(0,v.default)(e2)(eO());var e7=(0,v.default)(e3)(eD(),"left: 14px;");var e8=v.default.div(eA(),function(e){return e.theme.id===X.default.id&&"\n        border-color: ".concat(X.default.neutral200,";\n        top: 19px;\n        height: calc(100% - 75px);\n    ")});var e6=v.default.div(eT(),eJ,e8,function(e){return e.active&&"\n        ".concat(eJ,",\n        ").concat(e3," {\n            display: inline-block;\n            cursor: ew-resize;\n        }\n    ")});var e4=(0,v.default)(e6)(eL(),"right: -3px;");var e9=(0,v.default)(e6)(eM(),"left: -3px;");var te=v.default.div(eB(),function(e){return e.theme.id===X.default.id?"75":"80"},function(e){return e.theme.id===X.default.id?"20":"25"},function(e){return e.theme.id===X.default.id?"#e7e9ec":"#434343"},function(e){return e.selected&&(0,v.css)(ej(),function(e){return e.theme.id===X.default.id&&"\n            border-color: ".concat(X.default.neutral200,";\n        ")})});var tt=v.default.div(eq(),function(e){return e.active&&"\n        ".concat(e1," {\n            background-color: #3194cb;\n        }\n\n        ").concat(e5," {\n            display: inline-block;\n        }\n    ")},function(e){return e.theme.id===X.default.id&&(0,v.css)(eI(),X.default.neutral100,e.active&&"\n            ".concat(e1," {\n                background-color: ").concat(X.default.neutral300,";\n\n                &:hover {\n                    background-color: ").concat(X.default.neutral400,";\n                }\n            }\n        "))});var tn=(eH=function(e){"use strict";var t;(function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&eu(e,t)})(a,e);var n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=ei(a),n;if(t){var o=ei(this).constructor;n=Reflect.construct(e,arguments,o)}else n=e.apply(this,arguments);var r;return(r=n)&&("object"==(r&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)||"function"==typeof r)?r:en(this)});function a(e){var t;(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,a),ea(en(t=n.call(this,e)),"_openAutoLayout",function(){var e=t.props.block.getKey();t.props.onSelectionChange&&t.props.onSelectionChange(Y.default.createEmpty()),(0,C.openAutoLayout)(e),(0,q.logGenerateAutoLayoutWebJs)({auto_layout_generate_source:"PAGE_SETTINGS"})}),ea(en(t),"_handlePaste",function(e){d().paste().then(function(n){(0,A.default)(n,e,{onUploadMedia:t.props.onUploadMedia})}).catch(T.default)}),ea(en(t),"_resizeRight",function(e){t._startResize(e),(0,L.resizeRight)()}),ea(en(t),"_resizeLeft",function(e){t._startResize(e),(0,L.resizeLeft)()}),ea(en(t),"_resizeHeight",function(e){t._startResize(e),(0,L.resizeHeight)()}),ea(en(t),"_autoSize",function(){t.state.editorState.getCurrentContent().getBlocks().size>1||J.default.dispatch({type:O.PAGE_RESIZE_AUTO,footerHeight:t.props.footerHeight,minHeight:100,minWidth:200})}),ea(en(t),"_startResize",function(e){var n,o,r,a;var i=m.default.editorState;var u;var c;t.props.selected||t._selectPage(!1),(0,M.changeFreeLayoutSettingsTab)(1,e.target),t.initialPageSize=i.getPageSize(),t.resizeStartX=null!==(u=null==e?void 0:e.pageX)&&void 0!==u?u:null==e?void 0:null===(o=e.touches)||void 0===o?void 0:null===(n=o[0])||void 0===n?void 0:n.pageX,t.resizeStartY=null!==(c=null==e?void 0:e.pageY)&&void 0!==c?c:null==e?void 0:null===(a=e.touches)||void 0===a?void 0:null===(r=a[0])||void 0===r?void 0:r.pageY,e.stopPropagation(),document.addEventListener("mouseup",t._stopResize),document.addEventListener("touchend",t._stopResize),document.addEventListener("mousemove",t._doResize),document.addEventListener("touchmove",t._doResize),t.initialEntityPositions=void 0,(0,q.logModifyProjectWebJs)({project_id:I.default.infographicId,modify_project_action:H.modify_project_action.PROJECT_SIZE_CHANGE})}),ea(en(t),"_setupInitialEntityPositions",function(){var e=t.state.editorState;t.initialEntityPositions={};var n=!0,o=!1,r=void 0;try{for(var a=e.getCurrentContent().getBlocks()[Symbol.iterator](),i;!(n=(i=a.next()).done);n=!0){var u=i.value;var c=!0,l=!1,s=void 0;try{for(var d=u.getEntities()[Symbol.iterator](),p;!(c=(p=d.next()).done);c=!0){var f=p.value;t.initialEntityPositions[f.key]={left:f.left,top:f.top}}}catch(e){l=!0,s=e}finally{try{c||null==d.return||d.return()}finally{if(l)throw s}}}}catch(e){o=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw r}}}),ea(en(t),"_doResize",function(e){var n,o,r,a;var i=t.state,u=i.editorState,c=i.resizeWidth,l=i.resizeHeight;var s=t.props,d=s.scaleX,p=s.scaleY;var f;var v=null!==(f=null==e?void 0:e.pageX)&&void 0!==f?f:null==e?void 0:null===(o=e.touches)||void 0===o?void 0:null===(n=o[0])||void 0===n?void 0:n.pageX;var h;var b=null!==(h=null==e?void 0:e.pageY)&&void 0!==h?h:null==e?void 0:null===(a=e.touches)||void 0===a?void 0:null===(r=a[0])||void 0===r?void 0:r.pageY;if("number"!=typeof v||"number"!=typeof b)throw console.error("Could not parse page resize event: ",e),Error("Could not parse page resize event");t.initialEntityPositions||t._setupInitialEntityPositions();var g=c?Math.round((v-t.resizeStartX)/d):0;"left"===c&&(g=-g);var m=l?Math.round((b-t.resizeStartY)/p):0;var y=Math.min(6e3,Math.max(200,t.initialPageSize.width+g));var x=Math.min(1e4,Math.max(100,t.initialPageSize.height+m));var _={};if(e.altKey||"left"===c){var k=y-t.initialPageSize.width;var w=x-t.initialPageSize.height;e.altKey&&(k/=2,w/=2);var E=!0,z=!1,R=void 0;try{for(var C=u.getCurrentContent().getBlocks()[Symbol.iterator](),P;!(E=(P=C.next()).done);E=!0){var S=P.value;var D=!0,A=!1,T=void 0;try{for(var L=S.getEntities()[Symbol.iterator](),M;!(D=(M=L.next()).done);D=!0){var j=M.value;j.getCalloutKey()||(_[j.key]={left:t.initialEntityPositions[j.key].left+k,top:t.initialEntityPositions[j.key].top+w})}}catch(e){A=!0,T=e}finally{try{D||null==L.return||L.return()}finally{if(A)throw T}}}}catch(e){z=!0,R=e}finally{try{E||null==C.return||C.return()}finally{if(z)throw R}}}l&&t.previousResizeY===b&&b>t.resizeStartY+t.initialPageSize.height&&t.resizeStartY--,t.previousResizeY=b,J.default.dispatch({type:O.PAGE_RESIZE,pageSize:{width:y,height:x},entities:_})}),ea(en(t),"_stopResize",function(){t.initialEntityPositions=void 0,(0,L.hideResize)(),document.removeEventListener("mousemove",t._doResize),document.removeEventListener("touchmove",t._doResize),document.removeEventListener("mouseup",t._stopResize),document.removeEventListener("touchend",t._stopResize)}),ea(en(t),"handleAutoLayoutRequest",function(){if(t.state.blockActive&&tn.checkForAutoLayout(t.props.block.getEntities())){var e=(0,Z.getAutoLayoutService)().requestLayouts({pageId:t.props.block.getKey(),delay:1e3});t.autoLayoutRequest!==e&&(t.autoLayoutRequest=e,t.setState({autoLayoutResultAvailable:!1}),t.registerAutoLayoutRequestHandler())}else t.state.autoLayoutResultAvailable&&(t.autoLayoutRequest=void 0,t.setState({autoLayoutResultAvailable:!1}))});var o=en(t);var r;return ea(en(t),"registerAutoLayoutRequestHandler",(r=function(){return function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}(this,function(e){switch(e.label){case 0:return[4,o.autoLayoutRequest.promise];case 1:return e.sent().results.length>0&&o.setState({autoLayoutResultAvailable:!0}),[2]}})},function(){var e=this,t=arguments;return new Promise(function(n,o){var a=r.apply(e,t);function i(e){eo(a,n,o,i,u,"next",e)}function u(e){eo(a,n,o,i,u,"throw",e)}i(void 0)})})),t._duplicateBlock=t._duplicateBlock.bind(en(t)),t.onDeleteClick=t.onDeleteClick.bind(en(t)),t._addPage=t._addPage.bind(en(t)),t._selectPage=t._selectPage.bind(en(t)),t._selectPageOrShowContextMenu=t._selectPageOrShowContextMenu.bind(en(t)),t._onContextMenuOpen=t._onContextMenuOpen.bind(en(t)),t._deselectAll=t._deselectAll.bind(en(t)),t._addComment=t._addComment.bind(en(t)),t.state={autoLayoutResultAvailable:!1,blockActive:!1},t}var i,u;return i=[{key:"_menuActions",value:function(){var e=this.props,t=e.canUndo,n=e.canRedo;var r=[{name:o.default.t("app.editor_context_menu.paste"),onClick:this._handlePaste,separator:!t&&!n,shortcut:eN?"⌘V":"Ctrl+V",id:"paste"},{name:o.default.t("app.editor_context_menu.zoomIn"),onClick:this.props.onZoom.bind(null,1),shortcut:eN?"⌘+":"Ctrl +",id:"zoomin"},{name:o.default.t("app.editor_context_menu.zoomOut"),onClick:this.props.onZoom.bind(null,-1),separator:!0,shortcut:eN?"⌘-":"Ctrl -",id:"zoomout"}];n&&r.splice(1,0,{name:o.default.t("app.editor_context_menu.redo"),onClick:D.redo,separator:!0,shortcut:eN?"⌘Y":"Ctrl+Y",id:"redo"}),t&&r.splice(1,0,{name:o.default.t("app.editor_context_menu.undo"),onClick:D.undo,separator:!n,shortcut:eN?"⌘Z":"Ctrl+Z",id:"undo"});var a=m.default.editorState.getCurrentContent().getBlocks().size>1;return r.push({name:o.default.t("app.editor_context_menu.duplicate"),onClick:this._duplicateBlock,shortcut:eN?"⌘D":"Ctrl+D",separator:a,id:"duplicate"}),this.props.commentingIsAvailable&&r.splice(a?r.length:r.length-1,0,{name:o.default.t("app.editor_context_menu.addComment"),onClick:this._addComment,separator:!0,id:"addComment"}),a&&r.push({name:o.default.t("app.editor_context_menu.delete"),onClick:this.onDeleteClick,shortcut:eN?"⌫":"Del",id:"delete"}),r}},{key:"_duplicateBlock",value:function(e){e.stopPropagation();var t=this.state.editorState.getCurrentContent().getBlockIndex(this.props.block.getKey());(0,z.default)(this.props.block.getKey(),t+1,{scroll:!0})}},{key:"onDeleteClick",value:function(e){e.stopPropagation();var t=this.props.block.getKey();var n=this.state.editorState.getCurrentContent().getBlocks().size;var r=this.state.editorState.getCurrentContent().getBlockIndex(t)+1;(0,W.showConfirmDialog)({title:o.default.t("app.freelayout_editor.delete_page_dialog_title",{page_number:r}),description:o.default.t("app.freelayout_editor.delete_page_dialog_description"),button:o.default.t("delete")}).then(function(){(0,w.default)([t]),r===n&&(0,R.scrollToPage)(r-2)})}},{key:"_addPage",value:function(e){e.stopPropagation();var t=this.state.editorState.getCurrentContent().getBlockIndex(this.props.block.getKey());(0,S.insertPage)(t+1,{scroll:!0})}},{key:"_selectPage",value:function(e){var t=this.props.block.getKey();var n=y.default.currentSelection.clear().addBlocks(t);if((0,j.updateSelectionState)(n),(0,C.openPageSettings)(t),e){var o=this.state.editorState.getCurrentContent().getBlockIndex(t);(0,R.scrollToPage)(o)}}},{key:"_selectPageOrShowContextMenu",value:function(e){if(e.preventDefault(),e.stopPropagation(),this.props.selected){var t=e.target.getBoundingClientRect();(0,P.openEditContextMenu)(this._menuActions(),{x:t.left,y:t.bottom})}else this._selectPage(!0)}},{key:"_onContextMenuOpen",value:function(e){e.preventDefault(),(0,P.openEditContextMenu)(this._menuActions(),{x:e.nativeEvent.pageX,y:e.nativeEvent.pageY})}},{key:"_setDuration",value:function(e,t){(0,P.setAutoplayPresentationDuration)(e,t)}},{key:"_stopPropagation",value:function(e){e.stopPropagation()}},{key:"_deselectAll",value:function(){(0,j.updateSelectionState)(y.default.currentSelection.clear())}},{key:"_addComment",value:function(){this.props.onAddComment(this.props.block.getKey(),null,{scaleX:this.props.scaleX,scaleY:this.props.scaleY,mouseX:N.default.positionX,mouseY:N.default.positionY})}},{key:"componentDidMount",value:function(){this.handleAutoLayoutRequest()}},{key:"componentDidUpdate",value:function(){this.handleAutoLayoutRequest()}},{key:"render",value:function(){var e=this;var t=this.state,n=t.editorState,a=t.autoplayPresentation,i=t.transition;var u=this.state.autoLayoutResultAvailable;var c=n.getPageSize(),l=c.height,s=c.width;var d=this.props,p=d.editable,f=d.selected,v=d.block,h=d.interactive,b=d.elementsOutsideBlockVisible,g=d.activeBlockKey;var m=n.getCurrentContent().getBlockIndex(v.getKey())+1;var y=n.getCurrentContent().getBlocks().size;var x=v.getKey()===g&&b;var _=null==a?void 0:a.getIn(["pageDuration",v.key],1);return r.createElement(eV,{className:k().container,additionalSpace:this.state.transition===ee.InterstateTransition,"data-lookup":"block-wrapper"},r.createElement(eQ,null),r.createElement(eW,{selected:f,onContextMenu:this._onContextMenuOpen},r.createElement(B.default,{block:this.props.block,assets:this.props.assets,width:this.props.width,height:this.props.height,observer:this.props.observer},this.props.children)),x&&r.createElement(te,{selected:f}),h&&this.props.editable&&r.createElement(r.Fragment,null,r.createElement(tt,{active:f&&this.state.resizeHeight},r.createElement(e5,null,"".concat(l," px")),r.createElement(e1,{onMouseDown:this._resizeHeight,onTouchStart:this._resizeHeight,onDoubleClick:this._autoSize})),r.createElement(e9,{active:f&&"left"===this.state.resizeWidth,onMouseDown:this._resizeLeft,onTouchStart:this._resizeLeft,onDoubleClick:this._autoSize},r.createElement(e7,null,"".concat(s," px")),r.createElement(e0,{useButtonTag:!0})),r.createElement(e4,{active:f&&"right"===this.state.resizeWidth,onMouseDown:this._resizeRight,onTouchStart:this._resizeRight,onDoubleClick:this._autoSize},r.createElement(e3,null,"".concat(s," px")),r.createElement(e$,{useButtonTag:!0})),r.createElement(e8,null)),r.createElement(eY,{isSelected:f,interactive:h,onClick:this._selectPageOrShowContextMenu,onContextMenu:this._selectPageOrShowContextMenu,onMouseDown:this._stopPropagation,onMouseUp:this._stopPropagation},o.default.t("app.freelayout_editor.page_n_of_m",{current:m,total:y}),f&&r.createElement(eF,null)),h&&r.createElement(r.Fragment,null,r.createElement("div",{className:k().pageToolbar,onMouseDown:this._stopPropagation,onMouseUp:this._stopPropagation},(u||(0,K.autoLayoutAdminEnabled)())&&r.createElement("div",{className:k().magicToolbarButton,onClick:this._openAutoLayout},u?r.createElement(r.Fragment,null,r.createElement(V.default,{size:25,offsetTop:-6,offsetLeft:-5}),r.createElement(eG,{title:o.default.t("app.autolayout.autoalign")})):"\uD83D\uDE80"),r.createElement(eU,{onClick:this._duplicateBlock,marginRight:y>1?12:0,title:o.default.t("app.editor_context_menu.duplicate"),"data-lookup":"duplicate-button"}),y>1&&"none"!==i&&a&&r.createElement(eK,null,r.createElement(et.PageDuration,{duration:_/1e3,setDuration:function(t){return e._setDuration(v.key,1e3*t)}})),y>1&&r.createElement(eZ,{onClick:this.onDeleteClick,title:o.default.t("app.editor_context_menu.delete")})),r.createElement("div",{className:k().addPageBlock,onClick:this._deselectAll},!this.props.customFooterButton&&p&&r.createElement(eX,{className:k().addPageButton,onClick:this._addPage,gray:!0,small:!0,dataLookup:"add-page"},o.default.t("inspector.free.add_page")),this.props.customFooterButton)))}}],u=[{key:"getStores",value:function(){return[m.default,x.default,U.default,G.default]}},{key:"calculateState",value:function(e,t){return{transition:m.default.presentationTransition,autoplayPresentation:m.default.autoplayPresentation,editorState:m.default.editorState,resizeHeight:x.default.resizeHeight,resizeWidth:x.default.resizeWidth,blockActive:t&&t.block.key===U.default.activePageId}}}],i&&er(a.prototype,i),u&&er(a,u),a}(r.Component),ea(eH,"propTypes",{selected:i().bool.isRequired,children:i().node.isRequired,block:c().record.isRequired,assets:i().shape({getURL:i().func.isRequired}),interactive:i().bool,width:i().number.isRequired,height:i().number.isRequired,scaleX:i().number,scaleY:i().number,commentingIsAvailable:i().bool,onAddComment:i().func,customFooterButton:i().any,editable:i().bool,footerHeight:i().number.isRequired,observer:i().shape({observe:i().func.isRequired,unobserve:i().func.isRequired}),onZoom:i().func.isRequired,onSelectionChange:i().func,onUploadMedia:i().func.isRequired,elementsOutsideBlockVisible:i().bool,activeBlockKey:i().string,canUndo:i().bool.isRequired,canRedo:i().bool.isRequired}),ea(eH,"defaultProps",{interactive:!0,elementsOutsideBlockVisible:!1}),ea(eH,"checkForAutoLayout",f()(F.checkForAutoLayout,{max:1})),eH);tn=function(e,t,n,o){var r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o,i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a}([(0,l.connect)(function(e){var t;var n=e.get("undo");return{footerHeight:e.getIn(["footerSettings","showFooter"])?$.INFOGRAPHIC_FOOTER_HEIGHT:0,elementsOutsideBlockVisible:!!(null===(t=e.get("localProjectSettings"))||void 0===t?void 0:t.elementsOutsideBlockVisible),canUndo:!n.get("undoStack").isEmpty(),canRedo:!n.get("redoStack").isEmpty()}},function(e){return{onZoom:function(t){e({type:O.EDITOR_ZOOM,payload:{direction:t}})},onUploadMedia:function(t){e({type:Q.PREZIGRAM_UPLOAD_MEDIA,payload:t})}}},null,{areStatesEqual:function(e,t){var n,o;return e.getIn(["footerSettings","showFooter"])===t.getIn(["footerSettings","showFooter"])&&!!(null===(n=e.get("localProjectSettings"))||void 0===n?void 0:n.elementsOutsideBlockVisible)==!!(null===(o=t.get("localProjectSettings"))||void 0===o?void 0:o.elementsOutsideBlockVisible)&&e.getIn(["undo","undoStack"]).isEmpty()===t.getIn(["undo","undoStack"]).isEmpty()&&e.getIn(["undo","redoStack"]).isEmpty()===t.getIn(["undo","redoStack"]).isEmpty()}}),(0,g.default)({withProps:!0}),el("design:type",Function),el("design:paramtypes",[void 0])],tn)}}]);