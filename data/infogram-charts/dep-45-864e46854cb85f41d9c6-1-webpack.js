(self.webpackChunkbackend=self.webpackChunkbackend||[]).push([["infogram-charts/dep-45"],{7328:(t,e,a)=>{a.r(e),a.d(e,{Column:()=>N});var r=a(498);var n=a.n(r);var i=a(7248);var o=a(3989);var l=a(1115);var s=a(3975);var c=a(3976);var u=a(420);var d=a(3920);var h=a(7329);var f=a(7258);var v=a(4024);var g=a(7288);var p=a(4025);var m=a(7244);var y=a(7250);var b=a(7252);var x=a(7297);var k=a(1112);var S=a(7330);var O=a(7240);var C=a(4016);var T=a(4013);var w=a(7259);var D=a(1111);var L=a(4022);var E=a(7254);var A=a(3974);var G=a(7239);function B(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function R(t,e,a){return(R="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,a){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=I(t)););return t}(t,e);if(r){var n=Object.getOwnPropertyDescriptor(r,e);return n.get?n.get.call(a||t):n.value}})(t,e,a||t)}function I(t){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function H(t,e){return(H=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}(0,A.putGraph)("column-grouped",S.ColumnGrouped);var N=function(t){"use strict";var e;!function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&H(t,e)}(r,t);var a=(e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t=I(r),a;if(e){var n=I(this).constructor;a=Reflect.construct(t,arguments,n)}else a=t.apply(this,arguments);var i;return(i=a)&&("object"==(i&&"undefined"!=typeof Symbol&&i.constructor===Symbol?"symbol":typeof i)||"function"==typeof i)?i:function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(this)});function r(){return!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,r),a.apply(this,arguments)}var h,A;return A=[{key:"getClassName",value:function(){return"Column"}}],h=[{key:"render",value:function(){var t=this;this.detectDimensions();var e=this.options,a=this.root;var r=new w.Renderer({instance:this});var i=this.getSheetData();var c=(0,p.formatHelper)(i);var u=this.runtime={width:e.width,height:e.height,components:{},layout:{},inanimate:(0,v.inanimated)(e),sheet:i,formatter:c};var h="absolute"===e.series.data;var x=h?(0,f.getAllGraphs)(this):[this.prepareSheetData(i,this.sheetIndex)];var S=h?x[this.sheetIndex]:x[0];this.createTickIntervals(),(0,T.Controls)(this,{width:e.width}),(0,L.DownloadButton)(this,e.style.legend);var E=(0,C.legendHelper)({instance:this});if(!(d.Chart.prototype.sheetsNotFound.call(this)||this.failSafeByHeight(40))){var A=u.categoryData=S[0].data.map(function(t){return t.xLabel});var B=u.margin=u.layout.margin={top:0,right:0,bottom:0,left:0};var R=u.layout.marginTitle={left:0,right:0,top:0,bottom:0};var I=u.layout.marginAxis={left:0,right:0};var H=u.limits={maxCategoryWidth:0,maxCategoryHeight:0};var N=u.bottomLabelPadding={top:6,right:2,bottom:0,left:2};var P=u.xAxisOptions=i.axis[0];var j=u.yAxisOptions=i.axis[1];var W=e.style.axis.x;var z=e.style.axis.y;var M=e.style.grid;var V=(0,C.legendFiltered)(this);var _=(0,f.createGetDomain)("y");var Z=u.yDomain=V?_(S):(0,f.createGetDomainAbsolute)(_)(x);var U=(0,O.limit)(j,Z);var F=Z[0]<0;var X=u.yScale=(0,o.default)().domain(Z).clamp(U);u.categoryLayout=i.categories.layout,u.columnWidth=i.categories.categoryWidth?Number(i.categories.categoryWidth):null,u.xScaleResize=u.columnWidth?function(t,e){t.rangeBandsFixed(e,u.columnWidth)}:function(t,e){t.rangeBandsPct(e)};var q=u.spacing={maxBeforeXAxisTick:50,beforeCategoryBorder:F&&"Waterfall"!==this.getClassName()?N.top:0,beforeBottomCategories:5};var J=this.createAnimationCounter(S.length+2);var K=u.components.yAxisLeftText=(0,y.Axis)().scale(X).orient("left").style(z.tick);if(A.length<1)return this.events.call("startAnimation"),this.events.call("endAnimation"),this.resetRootElement();this.titleLayout(["x","y"]);var Q=u.width-B.left-R.left-B.right-R.right;var Y={width:0,height:0};if(j.ticks){var $=(0,G.ensureMinTicks)(X,this.runtime.yTickInterval);Y=this.yTicksMetrics($),I.left=Y.width,B.top=Y.height}var tt=u.height-B.top-R.top-B.bottom-R.bottom;H.maxCategoryHeight+=Math.floor(.27*tt),u.graphWidth=Q-I.left-I.right,u.igcLeftOffset=B.left+R.left+I.left;var te=this.createXScale();H.maxCategoryWidth=te.rangeBand()+te.padding()-N.left-N.right,1===A.length&&(H.maxCategoryWidth=u.graphWidth-N.left-N.right);var ta=this.createCategoryLabels();H.maxCategoryHeight=ta.height+N.top+N.bottom,P.ticks||(H.maxCategoryHeight=1);var tr=(0,m.Bottom)().style(W.tick).data(P.ticks?ta.renderData:[]).textAlign(ta.renderData.textAlign).bounds({height:H.maxCategoryHeight,y:tt-H.maxCategoryHeight+q.beforeBottomCategories});var tn=u.graphHeight=tt-H.maxCategoryHeight-q.beforeCategoryBorder;X.rangeRound([tn,0]);var ti=n().get(i,"graphOptions.column",{}),to=ti.showValues,tl=ti.valuesOutside;if(to&&tl){var ts=this.options.style.graph.item.value.placementStrategy;var tc=te.rangeBand();var tu=function(e){return t.runtime.formatter.labels.format(e.yLabel)};var td=function(e){return(0,k.getAllTextDimensions)(e,t.options.style.graph.item.value)};var th=V?S:n().flatten(x);var tf=tc>=td(n().flatten(th.map(function(t){return t.data.map(tu)}))).width;var tv=function(t){return t.height};var tg=tv;var tp=3;"aligned"===ts&&(tg=tf?tv:function(t){return t.width},tp=5),(0,g.adjustScaleToOutsideValues)({scale:X,graphs:th,axisOptions:j,getText:tu,getTextMetrics:td,getValue:function(t){return t.y},getTextSize:tg,adjust:function(t,e){return t+e},barSize:function(t,e){return t<0?e(t)-e(0):e(0)-e(t)},padding:tp})}var tm=u.components.yGridLines=(0,b.GridLines)().scale(X).orient(b.GridLines.ORIENTS.horizontal).tickSize(-Q).highlightZero(i.grid.horizontalZeroHighlight).style(M).offset({left:-I.left});var ty=(0,b.GridLines)().scale(te).orient(b.GridLines.ORIENTS.vertical).tickSize(tn).highlightZero(i.grid.verticalZeroHighlight).style(M);i.grid.vertical||ty.tickValues([]),K.textOffset(-(.25*Y.height)).offset({left:-I.left}),this.yTicksSetup(),this.gridSetupHorizontal();var tb=0;j.ticks&&(tb=K.getBorderingTick()-Y.height)>0&&(tb=0),u.layout.firstTickOffset=tb,this.titleComponents(["x","y"]);var tx=u.components,tk=tx.bottomTitle,tS=tx.leftTitle;tk.dispatch().on("animationEnd",J);var tO={igc:{x:B.left+R.left+I.left,y:B.top+R.top}};u.inanimate&&(0,v.removeAnimation)([tS,tk,ty,tm,tr,K]),this.containerSetup();var tC=a.select(".igc");var tT=s[e.animation.ease];var tw=e.animation.duration;a.attr("width",u.width).attr("height",u.height),r.add(function(){tC.selectAll(".igc-labels").remove(),a.transition().ease(tT).duration(tw).on("start",function(){t.events.call("startAnimation")}).on("end",function(){J()}),tC.attr("transform","translate(".concat(tO.igc.x,", ").concat(tO.igc.y,")"))}),r.addGrid(K,"igc-y-axis-text"),r.addGrid(tm,"igc-ygrid"),r.addGrid(ty,"igc-xgrid"),r.addGrid(tr,"igc-x-axis-text"),r.addGraph([{graphs:S,x:te,y:X,textStyle:e.style.graph.item.value,outlineStyle:e.style.graph.item.outline,legend:E,tooltip:(0,D.createStyledTooltip)(this),transitionDuration:tw,animationEnd:J}]),i.grid.horizontal&&P.ticks?r.addGrid(function(t){t.each(function(){var t=(0,l.default)(this).selectAll(".igc-x-axis-border-line").data([0]);var e=tw;0===t.size()&&(e=0),(t=t.merge(t.enter().append("rect"))).attr("class","igc-x-axis-border-line").transition().ease(tT).duration(e).attr("x",-I.left).attr("y",tn+q.beforeCategoryBorder).attr("width",u.graphWidth+I.left).attr("height",2).styles({fill:M.color,stroke:"none","stroke-width":0})})},"igc-x-axis-border"):r.add(function(){a.select(".igc .igc-grid .igc-x-axis-border").remove()}),r.addTitle(tS,"igc-title-left"),r.addTitle(tk,"igc-title-bottom"),r.start()}}},{key:"graphInstanceSetup",value:function(t,e,a,r){var n=e.data.length;var i=this.chartId;var o=this.runtime.formatter;var l=e.colors;var s=r.legend,d=r.tooltip;var h=this.graphData({data:e.data,behaviour:"Waterfall"===this.getClassName()?S.ColumnGrouped.BEHAVIOURS.WATERFALL:S.ColumnGrouped.BEHAVIOURS.COLUMN,colors:l});var f=(0,u.default)("highlightStart","highlightEnd","animationStart","animationUpdateStart","animationEnterStart","animationEnd","animationUpdateEnd","animationEnterEnd","animationTextEnd","openUrl");var g=(0,C.createListenToLegend)({easing:c.linear,ns:"shape",opacity:null,dispatch:f});var p=(0,E.createAddMouseEvents)({dispatch:f,legend:s,opacity:null,tooltip:d,chartId:i,tooltipText:function(t){return t.xLabel},tooltipValue:function(t){return o.tooltip.y.format(t.yLabel)},colors:l});s&&s.data().forEach(function(t,e){s.addListener({id:"".concat(i,"_").concat(e),dispatch:f})});var m=(0,v.removeDelay)(this,function(t,e){return e/n*(r.transitionDuration-200)});t.data(h).listenToLegend(g).addMouseEvents(p).dispatch(f).transitionDelay(m).transitionDuration(r.transitionDuration)}},{key:"createXScale",value:function(){var t=this.runtime;var e=t.categoryData,a=t.graphWidth,r=t.xScaleResize;var n=(0,i.default)(0,e.length);var o=t.xScale=(0,x.Ordinal)().domain(n);return r(o,[0,a]),o}},{key:"emptySheetData",value:function(){return n().merge({},R(I(r.prototype),"emptySheetData",this).call(this),{series:[{axisIndex:1}],graphOptions:{column:{valuesOutside:!1}}})}},{key:"prepareSheetData",value:function(t,e){var a=n().get(t,"graphOptions.column",{}),r=a.showValues,i=a.valuesOutside;var o={type:"column-grouped",colors:t.categories.colors,showValues:!!r,valuesOutside:!!i,data:[]};var l=o.data;var s=t.series[0];if(s.data.reduce(function(e,a,r){return null===(a=(0,k.replaceBlank)(a,null))||e.push({x:0,xLabel:(0,k.replaceBlank)(t.categories.data[r]),y:a,yLabel:(0,k.replaceBlank)(s.rawData[r]),categoryIdx:r,seriesIdx:r,link:n().get(s,"links[".concat(r,"]"),null)}),e},l),e===this.sheetIndex){var c=(0,C.createLegendData)(this);o.data=l.filter(function(t){return c({color:(0,k.getColor)(t.seriesIdx,o.colors),title:t.xLabel,groupId:t.seriesIdx}).active})}return[o]}}],B(r.prototype,h),A&&B(r,A),r}(h.ColumnClass)},7258:(t,e,a)=>{a.r(e),a.d(e,{createGetDomain:()=>d,createGetDomainAbsolute:()=>u,getAllGraphs:()=>c,getGraphsDomainByProperty:()=>h});var r=a(498);var n=a.n(r);var i=a(4028);var o=a(4019);var l=a(3989);var s=a(7240);function c(t){var e=t.options.sheets;var a=e.length;var r=[];for(var i=0;i<a;i++){var o=e[i];var l=n().merge({},t.emptySheetData(),o);r.push(t.prepareSheetData(l,i))}return r}function u(t){return function(e){var a;return e.forEach(function(e,r){var n=t(e);0===r?a=n.slice(0):(a[0]=Math.min(n[0],a[0]),a[1]=Math.max(n[1],a[1]))}),a}}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x";var e=function(e){return e[t]};return function(t){var a=[(0,i.default)(t,function(t){return(0,i.default)(t.data,e)}),(0,o.default)(t,function(t){return(0,o.default)(t.data,e)})];return(0,s.ensureZeroEqual)(a),(0,s.ensureZero)(a),(0,l.default)().domain(a).nice(10).domain()}}function h(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"y";var a=[].concat(e);var r=[(0,i.default)(t,function(t){return(0,i.default)(t.data,function(t){return(0,i.default)(a.map(function(e){return t[e]}))})}),(0,o.default)(t,function(t){return(0,o.default)(t.data,function(t){return(0,o.default)(a.map(function(e){return t[e]}))})})];return(0,s.ensureZeroEqual)(r),r}},7288:(t,e,a)=>{a.r(e),a.d(e,{adjustScaleToOutsideValues:()=>l});var r=a(498);var n=a.n(r);var i=a(1112);function o(){return{text:0,bar:0,value:0,combined:0}}function l(t){var e=t.scale,a=t.graphs,r=t.axisOptions,l=t.getText,s=t.getTextMetrics,c=t.getValue,u=t.getTextSize,d=t.adjust,h=t.barSize,f=t.textPadding,v=void 0===f?3:f;var g=(0,i.isNumber)(r.maxLimit);var p=(0,i.isNumber)(r.minLimit);if(!g||!p){var m=e.domain();var y=e.copy();y.clamp(!1);var b=s(n().flatten(a.map(function(t){return t.data.map(l)})));var x=n().flatten(a.map(function(t){return t.data}));var k=x.length;var S={neg:o(),pos:o(),bar:{neg:o(),pos:o()}};for(;k--;){var O=c(x[k]);var C=h(O,y);var T=u(b.collection[k])+v;var w=C+T;var D={bar:C,value:O,text:T,combined:w};O>=0?(S.pos.combined<w&&(S.pos=D),S.bar.pos.bar<C&&(S.bar.pos=D)):(S.neg.combined<w&&(S.neg=D),S.bar.neg.bar<C&&(S.bar.neg=D))}var L=Math.max(y(m[0]),y(m[1]));if(S.neg.bar+S.pos.bar===0)return;if(g&&!p){var E=L-S.neg.text;var A=(m[1]-S.neg.value)/(E/L);e.domain([m[1]-A,m[1]])}else if(!g&&p){var G=L-S.pos.text;var B=(S.pos.value-m[0])/(G/L);e.domain([m[0],m[0]+B])}else{var R=S.bar.neg.bar;var I=S.neg.text+S.pos.text;var H=S.neg.bar+S.pos.bar;var N=(m[1]-m[0])/((L-I)/H);var P=[m[0],m[0]+N];y.domain(P);var j=y.invert(0)-y.invert(R-S.neg.combined);e.domain(P.map(function(t){return d(t,j)}))}e.nice(10)}}},7259:(t,e,a)=>{function r(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}a.r(e),a.d(e,{Renderer:()=>n});var n=function(){"use strict";function t(e){if(!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,t),!e.instance)throw Error("No instance provided");this.renderables=[],this.instance=e.instance}var e,a;return e=[{key:"start",value:function(){var t=this.instance;var e=t.root;var a=e.select(".igc");var r={igc:a,grid:a.select(".igc-grid"),title:e.select(".igc-titles")};this.renderables.forEach(function(e){if("function"==typeof e){e();return}if("object"==typeof e){if(-1!==["grid","title"].indexOf(e.parent)){t.renderPart(r[e.parent],e.callable,e.className);return}if("igc"===e.parent){t.renderGraphs(r.igc,e.callable);return}t.renderPart(e.parent,e.callable,e.className)}})}},{key:"add",value:function(t){return this.renderables.push(t),t}},{key:"addGrid",value:function(t,e){var a={callable:t,className:e,parent:"grid"};return this.add(a),a}},{key:"addTitle",value:function(t,e){var a={callable:t,className:e,parent:"title"};return this.add(a),a}},{key:"addParent",value:function(t,e,a){var r={callable:e,className:a,parent:t};return this.add(r),r}},{key:"addGraph",value:function(t){var e={callable:t,parent:"igc"};return this.add(e),e}}],r(t.prototype,e),a&&r(t,a),t}()}}]);