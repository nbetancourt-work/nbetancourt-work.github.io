(self.webpackChunkbackend=self.webpackChunkbackend||[]).push([[33],{7374:(e,t,a)=>{a.r(t),a.d(t,{BubblePlot:()=>O});var r=a(498);var n=a.n(r);var i=a(1115);var o=a(3975);var u=a(4019);var l=a(4028);var c=a(7248);var s=a(7273);var f=a(7372);var p=a(3920);var v=a(7227);var d=a(1112);var h=a(7260);var g=a(7242);var y=a(4016);var m=a(1111);function b(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t,a){return(k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,a){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=x(e)););return e}(e,t);if(r){var n=Object.getOwnPropertyDescriptor(r,t);return n.get?n.get.call(a||e):n.value}})(e,t,a||e)}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O=function(e){"use strict";var t;!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(r,e);var a=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=x(r),a;if(t){var n=x(this).constructor;a=Reflect.construct(e,arguments,n)}else a=e.apply(this,arguments);var i;return(i=a)&&("object"==(i&&"undefined"!=typeof Symbol&&i.constructor===Symbol?"symbol":typeof i)||"function"==typeof i)?i:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this)});function r(){return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),a.apply(this,arguments)}var v,O;return O=[{key:"getClassName",value:function(){return"BubblePlot"}}],v=[{key:"emptySheetData",value:function(){return n().merge({},k(x(r.prototype),"emptySheetData",this).call(this),{categories:{numeric:!1},series:[{type:"circle"}],graphOptions:{dataPointRadius:0}})}},{key:"defaults",value:function(){return n().merge({},k(x(r.prototype),"defaults",this).call(this),{series:{dataPoints:!0,data:"separate"}})}},{key:"renderCategorySeparator",value:function(e){var t=this.options,a=this.runtime,r=this.root;var n=a.graphHeight,u=a.layout,l=a.xAxisOptions;var c=u.marginAxis;var s=o[t.animation.ease];var f=t.animation.duration;l.ticks?e.addGrid(function(e){e.each(function(){var e=(0,i.default)(this).selectAll(".igc-x-axis-border-line").data([0]);var r=f;0===e.size()&&(r=0),(e=e.merge(e.enter().append("rect"))).attr("class","igc-x-axis-border-line").transition().ease(s).duration(r).attr("x",-c.left).attr("y",n).attr("width",a.graphWidth+c.left).attr("height",2).styles({fill:t.style.grid.color,stroke:"none","stroke-width":0})})},"igc-x-axis-border"):e.add(function(){r.select(".igc .igc-grid .igc-x-axis-border").remove()})}},{key:"graphInstanceSetup",value:function(e,t,a,r){this.runtime.sizeScale||this.createSizeScale();var i=this.runtime.formatter;var o=this.getRadiusFn();e.scaleX(r.x).scaleY(r.y).data(t.data).colors(t.colors).radius(o).legend(r.legend).filterFn(function(e){return!(null===e.y||0===e.value)}).tooltip((0,m.createStyledTooltip)(this)).tooltipText(function(e){return e.groupLabel}).transitionDuration(n().get(this,"options.animation.duration")).colorAlpha(1).tooltipValue(function(e){var t=i.tooltip.x.format(e.value);return e.xLabel?"".concat(e.xLabel,": ").concat(t):"".concat(t)}),e.dispatch().on("animationEnd",r.animationEnd)}},{key:"getRadiusFn",value:function(){var e=this.runtime.sizeScale;return function(t){return null===t.value?0:e(t.value)}}},{key:"createYScale",value:function(){var e=this.runtime.yScale=(0,s.point)();return e.padding(1),(0,h.scaleProxy)({fn:e,range:"rangeRound",domain:"domain",ticks:function(){return e.domain()}})}},{key:"createSizeScale",value:function(){var e=this.runtime,t=e.graphs,a=e.yScale,r=e.xScale;var i=(0,u.default)(a.range());var o=a.domain().map(function(e){return a(e)});var l=Math.ceil(1===o.length?i:(0,g.getRangeStep)(o));var c=Math.ceil(r.bandwidth());var s=(0,f.sqrt)();var p=[1,Math.min(c,l)/Math.PI];var v=[];var h=[0,0];t.forEach(function(e){e.sizeRange&&(p=e.sizeRange),v=n().union(v,e.data.map(function(e){return e.value}).filter(function(e){return(0,d.isNumber)(e)}))}),0===v.length?p=[0,0]:v.forEach(function(e){h[0]=Math.min(h[0],e),h[1]=Math.max(h[1],e)}),p[1]=Math.ceil(p[1]),s.domain(h).range(p),this.runtime.sizeScale=s}},{key:"showDataPoints",value:function(){return!1}},{key:"adjustYDomain",value:function(e){return e}},{key:"getDomain",value:function(e){var t=(0,l.default)(e,function(e){return(0,l.default)(e.data,function(e){return e.y})});var a=(0,u.default)(e,function(e){return(0,u.default)(e.data,function(e){return e.y})})+1;return(0,c.default)(t,a)}},{key:"renderGraphs",value:function(){p.Chart.prototype.renderGraphs.apply(this,arguments)}},{key:"curtainAnimation",value:function(e,t,a,r){r.animationEnd()}},{key:"prepareSheetData",value:function(e){var t=this.emptySheetData().series[0].type;var a=e.categories,r=a.data,i=a.colors;var o=[];var u=(0,y.createLegendData)(this);var l=[];return r.forEach(function(a,r){if(e.series.some(function(e){return!isNaN(e.data[r])})){var c=(0,d.getColor)(r,i);if(u({color:c,title:(0,d.replaceBlank)(a),groupId:r}).active){var s=e.series.map(function(e,t){var i=(0,d.replaceBlank)(e.title);return{x:l.length,y:t,value:(0,d.replaceBlank)(e.data[r],0),yLabel:i,xLabel:(0,d.replaceBlank)(a),seriesIdx:r,groupLabel:i,link:n().get(e,"links[".concat(r,"]"),null)}});l.push(a),o.push({type:t,data:s,groupId:r,colors:[c],sizeRange:n().get(e,"graphOptions.sizeRange")})}}}),this.runtime.categoryData=l,o}},{key:"createXScale",value:function(){var e=this.runtime;var t=e.categoryData,a=e.graphWidth;return e.xScale=(0,s.default)().domain((0,c.default)(0,t.length)).range([0,a],0),e.xScale}}],b(r.prototype,v),O&&b(r,O),r}(v.Line)},7373:(e,t,a)=>{a.r(t),a.d(t,{default:()=>c});var r=a(7374);var n=a(7370);var i=a(7276);var o=a(7282);var u=a(7284);var l=Object.assign({},i.default);l.instanceClass=r.BubblePlot,l.setupChartSheetOptionsItem=function(e){var t=this.sheetOptionsItemDefaults(e);var a=t.axis[0];var r=t.axis[1];return a.title=e.xlabel?e.xlabel:"",r.title=e.ylabel?e.ylabel:"",t.grid.horizontalZero=!1,t.grid.verticalZero=!1,(0,n.assignDataPointRadiusRange)(t,e),(0,o.assignAxisTicks)(t,e),(0,o.assignCategoryLabelLayout)(t,e),(0,u.assignNumberFormatLabels)({sheetOptions:t,custom:e,affixes:[{id:"x",path:"",ignoreCheck:!0}],inputDecimalSeparator:this.inputDecimalSeparator}),t};let c=Object.freeze(l)}}]);