(self.webpackChunkbackend=self.webpackChunkbackend||[]).push([[28],{7317:(t,e,a)=>{a.r(e),a.d(e,{BarRace:()=>M});var r=a(498);var n=a.n(r);var i=a(7318);var o=a(7273);var s=a(3989);var l=a(4019);var c=a(7248);var u=a(3920);var v=a(1113);var d=a(4024);var f=a(4025);var h=a(1112);var g=a(4022);var y=a(3974);var p=a(7319);var m=a(7320);var x=a(7321);var b=a(7322);var k=a(7323);var _=a(7324);var w=a(3967);var O=a(3985);var T=a(7325);var P=a(7326);var S=a(7254);var A=a(4004);var D=a(7229);function R(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function L(t,e,a){return(L="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,a){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=N(t)););return t}(t,e);if(r){var n=Object.getOwnPropertyDescriptor(r,e);return n.get?n.get.call(a||t):n.value}})(t,e,a||t)}function N(t){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function C(t,e){return(C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var j=[function(t,e){var a=+t.x;return+e.x-a},function(t,e){return+t.x-+e.x}];(0,y.putGraph)("bar_race",p.BarRace);var M=function(t){"use strict";var e;!function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&C(t,e)}(r,t);var a=(e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t=N(r),a;if(e){var n=N(this).constructor;a=Reflect.construct(t,arguments,n)}else a=t.apply(this,arguments);var i;return(i=a)&&("object"==(i&&"undefined"!=typeof Symbol&&i.constructor===Symbol?"symbol":typeof i)||"function"==typeof i)?i:function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(this)});function r(){return!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,r),a.apply(this,arguments)}var y,M;return M=[{key:"getClassName",value:function(){return"BarRace"}}],y=[{key:"containerSetup",value:function(){var t=this.root,e=this.groupTagName;t.selectAll("defs").data([0]).enter().append("defs");var a=(0,h.ensureElement)(t,"igc",e);(0,h.ensureElement)(t,"igc-titles",e),(0,h.ensureElement)(t,"igc-x-images",e),(0,h.ensureElement)(t,"igc-x-values",e),(0,h.ensureElement)(t,"igc-label",e);var r=a.append(e).attr("class","igc-grid");r.append(e).attr("class","igc-y-axis-text"),r.append(e).attr("class","igc-x-axis-text"),r.append(e).attr("class","igc-xgrid"),a.append(e).attr("class","igc-graph-group").append(e).attr("class","igc-graph")}},{key:"play",value:function(){var t=this.runtime.cycle;t&&t.play()}},{key:"render",value:function(){var t=this;var e=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];var s=F.timeline=i.default.timeline({duration:e,easing:r.animation.ease,autoplay:a});var l="".concat(t,"_").concat(J);var c=H(l,function(){var e=N.series[t],a=e.data,i=e.label;var o=tR?a.sort(j[J]).slice(0,tA):a.sort(j[J]);var s=z(N,t);var c=o.map(function(t){return t.y});ta.domain(c),ta.range([K.graph.y,K.graph.y+K.graph.height]),Q.ticks("y",{xDomain:s,data:c,scale:ta,padding:{right:5}},l),tr.domain(s.data).range([K.graph.x,K.graph.x+K.graph.width]).clamp(s.limited);var u=I.labels.format;var v=o.map(function(t){return u(t.x)});var d=r.style.graph.item.value;var f=(0,S.labelInfo)(d);var g=(0,h.getAllTextDimensions)(v,function(t){t.style(n().omit(d,["color"])),f.manual&&(0,h.thickenTextNode)(t)});tv&&(0,_.adjustScaleDomainToOutsideValues)({scale:tr,data:o.map(function(t){return t.x}),metrics:g,axisOptions:N.axis[0]});var y=(0,T.barData)({x:tr,y:ta,colors:N.categories.colors,data:o,icon:tl});var p={data:tu?(0,_.valuesData)({runtime:F,scale:tr,yScale:ta,metrics:g,data:y,valuesOutside:tv}):[],format:u};var m=(0,k.yTicksData)({key:l,layout:K,layoutMetrics:Q,text:c,scale:ta});return{graph:y,xTicks:(0,k.xTicksData)({runtime:F,layout:K,scale:tr,xDomain:s,style:r.style.axis.x.tick}),yTicks:m,separator:{x:K.graph.x-1,y:K.axis.y,height:K.axis.height,width:2},values:p,label:ti&&i||"",barHeight:ta.bandwidth()}});var u="igc-cp-".concat(R,"-plot-area");(0,w.createRectClipPath)(td,{clipPathId:u,x:K.graph.x+1,y:K.graph.y,width:K.graph.x+1+K.graph.width,height:K.graph.y+K.graph.height});var v=(0,k.xGridRenderer)({data:c.xTicks.grid,timeline:s,layout:K,style:r.style.grid});var d=(0,p.BarRace)({data:c.graph,timeline:s,layout:K,initial:o,clipPathId:u,icon:tl});var f=(0,_.valuesRender)({data:c.values.data,format:c.values.format,timeline:s,layout:K,style:r.style.graph.item.value});var g=(0,k.xTicksRenderer)({data:c.xTicks.ticks,format:c.xTicks.format,timeline:s,layout:K,style:r.style.axis.x.tick});var y=(0,k.yTicksRenderer)({data:c.yTicks.data,timeline:s,layout:K,style:r.style.axis.y.tick});var m=(0,k.separatorRenderer)({data:[c.separator],timeline:s,style:r.style.axis.y.tick});var x=(0,P.renderer)({data:c.label,timeline:s,layout:K,style:tO,metrics:tT});return v(tb),g(tx),y(tm),d(tf),f(tg),m(tm),x(tp),s};var a=function(t){var a=E(t);var r=a.seek,n=a.from,i=a.to;var o=Z.from===n&&Z.to===i;if(Z.busy=!0,o){var s=Z.tl;var l=Z.reset;Z.busy=!1,Z.reset=!1,i===B&&!0===l&&(0===r?(s.reset(),$.listenPromise(s.finished)):$.end()),s.seek(r)}else Z.from=n,Z.to=i,e(Z.from,1,!0).finished.then(function(){var t=Z.tl=e(Z.to,L,!1);Z.busy=!1,Z.reset=!1,$.init(),t.seek(r)})};this.detectDimensions();var r=this.options,y=this.root,R=this.chartId;var L=r.animation.duration;var N=this.getSheetData();var C=N.series.length;var M=C>1;var B=C-1;var V=B*L;var E=function t(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{from:0,to:1};return(a.seek=e,e<L)?a:(a.to+1)*L<=V?(a.from++,a.to++,t(e-L,a)):a};var I=(0,f.formatHelper)(N);var F=this.runtime={width:r.width,height:r.height,components:{},metrics:{},sheet:N,formatter:I,inanimate:(0,d.inanimated)(r),sort:r.series.sort,limit:r.series.limit,seriesIndex:E(0).from};var z=(0,b.createDomain)(this,"x");var H=(0,h.createCachedResults)();var Z=F.position={from:0,to:1,busy:!1};var G;var W;var q;var U;var X;var Y;var $=F.cycle=(G=this.events,W=function(){Y.setValue(0),Z.from=0,Z.to=1,Z.busy=!0,e(Z.from,1,!0).finished.then(function(){Z.tl=e(Z.to,L,!1),Z.busy=!1,Z.reset=!1,q(function(t){return t.play()})})},q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.noop;Z.busy||(Z.tl.update=function(t){var e=Z.from*L+t.currentTime;Y.setValue(e/V*100)},X(Z.tl.finished),t(Z.tl))},U=function(){Y.setPlaying(!1),G.call("endPlay"),Z.reset=!0},X=function(t){t.then(function(){var t=Z.to;if((t+1)*L<=V){var a=t+1;Z.tl=e(a,L,!1),Z.from=t,Z.to=a,q(function(t){t.play()})}else U()})},{init:q,play:function(){Z.reset?W():Z.tl.play()},pause:function(){Z.tl&&Z.tl.pause()},set player(playerInstance){Y=playerInstance},get player(){return Y},listenPromise:X,end:U});this.createTickIntervals();var J=A.ORDER.indexOf(n().get(r,"dataSet.order.type",A.ORDER[0]));if((0,O.Controls)({instance:this,duration:L,seriesDuration:V,onInput:function(t){if(!Z.busy){var e=v.math.round(V*(t/100),0);$.pause(),a(e)}},onPlay:function(){$.play()},onPause:function(){$.pause()},playable:M}),(0,g.DownloadButton)(this,r.style.legend),$.player=this.sheetPlayer,this.events.on("tabChanged.barRace",function(t){if(J=t.sheetIndex,$.player.isPlaying()){$.pause();var a=Z.tl.currentTime;Z.busy=!0,Z.tl=e(Z.to,L,!1),Z.tl.seek(a),Z.busy=!1,$.init(function(t){return t.play()})}else{var r=Z.tl.currentTime;Z.busy=!0,e(Z.from,1,!0).finished.then(function(){Z.tl=e(Z.to,L,!1),Z.tl.seek(r),Z.busy=!1,$.init()})}}),!u.Chart.prototype.sheetsNotFound.call(this)){var K=F.layout=m.LayoutFactory.create({width:F.width,height:F.height});var Q=(0,x.createLayoutMetrics)(this);K.marginRight=1;var tt=n().get(N,"axis[1].ticks");var te=n().get(N,"axis[1].title");(tt||te)&&(K.marginLeft=3);var ta=(0,o.default)().padding(.1);var tr=F.xScale=(0,s.default)();var tn=n().get(N,"graphOptions",{}),ti=tn.seriesLabels,to=tn.autoplay,ts=tn.bar,tl=tn.icon;var tc=ts||{},tu=tc.showValues,tv=tc.valuesOutside;this.containerSetup(),y.attr("width",F.width).attr("height",F.height);var td=y.select("defs");var tf=y.select(".igc-graph");var th=y.select(".igc-grid");var tg=y.select(".igc-x-values");(0,h.removeContents)(tg);var ty=y.select(".igc-x-images");(0,h.removeContents)(ty);var tp=y.select(".igc-label");var tm=th.select(".igc-y-axis-text");var tx=th.select(".igc-x-axis-text");var tb=th.select(".igc-xgrid");(0,h.removeContents)(tb);var tk=(0,P.getLargestSeriesLabel)(N.series);var t_="gySMLXZ";var tw=(0,P.getTextFontSizeByHeight)(y,tk,r.style.axis.x.tick,.2*K.height,.5*K.width);var tO=n().merge({},r.style.axis.x.tick,{"font-size":"".concat(tw,"px")});var tT=(0,h.getTextDimensions)(t_,tO);Q.title("x","global"),Q.title("y","global"),Q.ticks("x",{data:I.axis.x.tickSample(),padding:{vertical:5}},"global");var tP=n().get(r,"dataSet.limit.enabled");var tS=(0,l.default)(N.series,function(t){return t.data.length});var tA=tP?n().get(r,"dataSet.limit.amount"):tS;var tD=(0,h.getTextDimensions)(t_,n().get(r,"style.axis.y.tick")).height;if(function t(e){var a=(0,c.default)(0,tA);e.domain(a),tA>1&&e.bandwidth()<tD&&(tA-=1,t(e))}(ta.copy().range([K.graph.y,K.graph.y+K.graph.height])),tA<1){this.events.call("startAnimation"),this.events.call("endAnimation");return}var tR=tA<tS;this.events.call("startAnimation");var tL=y.select(".igc-titles");["x","y"].map(function(e){var a=x.TITLE_COMPONENTS[e];var i=(0,D.Label)().text(n().get(N,a.valuePath)).style(n().get(r,a.stylePath)).orient(a.orient).orientBounds(a.orientBounds(K));var o="igc-title-".concat(a.orient);(0,h.ensureElement)(tL,o,t.groupTagName),tL.select(".".concat(o)).call(i)}),Z.busy=!0,e(Z.from,1,!0,!0).finished.then(function(){if(!M){t.events.call("endAnimation");return}Z.tl=e(Z.to,L,!1),Z.busy=!1,$.init(),to&&$.play(),t.events.call("endAnimation")})}}},{key:"defaults",value:function(){return n().merge({},L(N(r.prototype),"defaults",this).call(this),{animation:{ease:"linear"},sheetSwitch:{type:"player"},series:{data:"separate"}})}},{key:"emptySheetData",value:function(){return n().merge({},L(N(r.prototype),"emptySheetData",this).call(this),{series:[{title:"",type:"bar"}],graphOptions:{bar:{showValues:!0,valuesOutside:!1},icon:{color:{dark:"#000000",light:"#ffffff"}},seriesLabels:!0,autoplay:!1},axis:[{title:"",ticks:!0,tickInterval:10},{title:"",ticks:!0}],grid:{vertical:!0,verticalZeroHighlight:!0,horizontal:!1}})}},{key:"applySheetOptions",value:function(t){t&&this.options.sheets.forEach(function(e,a){var r=t[a+1]||t[0];r.categories&&n().merge(e.categories,r.categories),r.grid&&n().merge(e.grid,r.grid),n().merge(e.graphOptions,r.graphOptions),r.legend&&n().merge(e.legend,r.legend),r.tooltip&&(e.tooltip=e.tooltip||{},n().merge(e.tooltip,r.tooltip)),r.labels&&(e.labels=e.labels||{},n().merge(e.labels,r.labels)),e.axis.forEach(function(t,e){var a=r.axis&&r.axis[e];a&&n().merge(t,a)})})}}],R(r.prototype,y),M&&R(r,M),r}(u.Chart)},7325:(t,e,a)=>{a.r(e),a.d(e,{barData:()=>n});var r=a(1113);function n(t){var e=t.x,a=t.y,n=t.colors,i=t.data,o=t.icon;var s=e(0);var l;var c=(l=e(0),function(t){return e(t)-l});var u=n.length;var v=a.bandwidth();var d=r.math.preciseNumber(v*o.heightPct);var f=r.math.preciseNumber(v*o.widthPct);var h=o.offsetPct*d;return i.map(function(t,e){var i=c(t.x);var o=t.hasOwnProperty("colorIndex");var l=i>0;var g=Math.round(s+(l?1:0));return{key:t.y,x:Math.round(s+(l?1:0)),y:a(t.y),color:n[(o?t.colorIndex:e)%u],width:i,height:v,xValue:t.x,yValue:t.y,icon:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};var r=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(a).filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),r.forEach(function(e){var r;r=a[e],e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r})}return t}({key:t.y,x0:g,x:r.math.preciseNumber(g+i+((l?f:0)+h)*(l?-1:1)),y:r.math.preciseNumber(a(t.y)+(v-d)/2),width:f,height:d},t.icon)}})}},7322:(t,e,a)=>{a.r(e),a.d(e,{createDomain:()=>f});var r=a(498);var n=a.n(r);var i=a(4028);var o=a(4019);var s=a(3999);var l=a(1112);var c=a(7240);function u(t){var e=t.series;return[(0,i.default)(e,function(t){return t.min}),(0,o.default)(e,function(t){return t.max})]}function v(t,e){return[t.series[e].min,t.series[e].max]}var d=["x","y"];function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";var a=d.indexOf(e);var r=n().get(t,"runtime.sheet.axis[".concat(a,"]"),{});var i=r.minLimit,o=r.maxLimit;var f=!1;var h=!1;r&&(f=(0,l.isNumber)(i),h=(0,l.isNumber)(o));var g=f||h;if(f&&h){var y=[i,o];y.sort(s.default);var p=y[0]<0;return function(){return{data:y,limited:g,negative:p}}}var m="absolute"===t.options.series.data?u:v;return function(t,e){var a=m(t,e);(0,c.ensureZeroEqual)(a),(0,c.ensureZero)(a),g&&(a[0]=f?Number(i):a[0],a[1]=h?Number(o):a[1],a.sort(s.default));var r=a[0]<0;return{data:a,limited:g,negative:r}}}},7326:(t,e,a)=>{a.r(e),a.d(e,{getLargestSeriesLabel:()=>i,getTextFontSizeByHeight:()=>o,renderer:()=>s});var r=a(1112);function n(t,e,a){if(!(1>t.size())){var r=t.node();var n={label:void 0===r.current?a:r.current};var i;var o=(i=n.label,function(t){return 0===t?i:a});r.current=a,e.add({targets:n,label:a,easing:function(){return function(t){return r.textContent=o(t)}}},0)}}function i(t){return t.reduce(function(t,e){var a;return((null===(a=e.label)||void 0===a?void 0:a.length)||0)>t.max&&(t.label=e.label,t.max=e.label.length),t},{max:0,label:""}).label}function o(t,e,a,n,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:8;var s=function(t){return l.style("font-size","".concat(t,"px")),{height:.75*c(l.node()).height,width:l.node().getComputedTextLength()}};var l=(0,r.createMetricTextNode)();var c=(0,r.setupBBox)();l.styles(a).text(e);var u=e?function t(e){return s(e).height<n?t(e+.5):e}(o):o;return u=function t(e){return s(e).width>i?t(e-.5):e}(u),l.remove(),u}function s(t){var e=t.data,a=t.style,r=t.timeline,i=t.layout,o=t.metrics;var s=i.width-i.marginRight-i.ticksRight-i.titleRight;var l=i.height-i.marginBottom-i.ticksBottom-i.titleBottom-(o.height-o.baseLineOffset);return function(t){var i=t.selectAll("text").data([e]);n(i,r,e),i.attr("x",s).attr("y",l).styles(a).attr("fill",a.color),n(i.enter().append("text").attr("text-anchor","end").text(function(t){return t}).styles(a).attr("fill",a.color).attr("x",s).attr("y",l),r,e)}}},7321:(t,e,a)=>{a.r(e),a.d(e,{TITLE_COMPONENTS:()=>s,createLayoutMetrics:()=>c});var r=a(498);var n=a.n(r);var i=a(1112);var o=a(4006);var s={x:{valuePath:"axis[0].title",stylePath:"style.axis.x.title",layoutName:"titleBottom",orient:"bottom",orientBounds:function(t){return{y1:t.marginTop,y2:t.height-t.marginBottom,x1:t.graph.x,x2:t.graph.x+t.graph.width}},padding:10},y:{valuePath:"axis[1].title",stylePath:"style.axis.y.title",layoutName:"titleLeft",orient:"left",orientBounds:function(t){return{y1:t.graph.y,y2:t.graph.y+t.graph.height,x1:t.marginLeft,x2:t.width-t.marginLeft-t.marginRight}},padding:5},y2:{valuePath:"axis[2].title",stylePath:"style.axis.y2.title",layoutName:"titleRight",orient:"right",padding:5}};var l={x:{valuePath:"axis[0].ticks",stylePath:"style.axis.x.tick",layoutName:"ticksBottom"},y:{valuePath:"axis[1].ticks",stylePath:"style.axis.y.tick",layoutName:"ticksLeft"}};function c(t){var e=t.runtime,a=t.options;var r=e.sheet,c=e.layout;var u=(0,i.createCachedResults)();return{title:function(t,e){var o=n().get(s,t);var l=n().get(r,o.valuePath);l?c[o.layoutName]=u("title_".concat(t,"_").concat(e),function(){return(0,i.getTextDimensions)(l,n().get(a,o.stylePath)).height+o.padding}):c[o.layoutName]=0},ticks:function(e,a,s){var c=t.runtime,v=t.options;var d=c.layout;var f=n().get(l,e);var h=n().get(r,f.valuePath);var g=a.data,y=a.scale,p=a.xDomain,m=a.padding;var x=n().get(v,f.stylePath);if(h){if("y"===e){var b=m.right*(p.negative?2:1);var k=.35*d.axis.width;var _=u("ticks_".concat(e,"_").concat(s),function(){return(0,i.getAllTextDimensions)(g,x)});var w=y.step();if(_.width<=w)d[f.layoutName]=_.height+b;else{var O=u("ticks_".concat(e,"_").concat(s,"_horizontal_metrics"),function(){return o.Measure.wrappedText(k,g,x,_.height)});d[f.layoutName]=Math.round(O.width)+b}return}d[f.layoutName]=u("ticks_".concat(e,"_").concat(s),function(){return(0,i.getTextDimensions)(g,x).height+m.vertical})}else d[f.layoutName]=0},cachedResult:u}}},7323:(t,e,a)=>{a.r(e),a.d(e,{separatorRenderer:()=>b,xGridRenderer:()=>m,xTicksData:()=>g,xTicksRenderer:()=>p,yTicksData:()=>h,yTicksRenderer:()=>x});var r=a(498);var n=a.n(r);var i=a(3941);var o=a(1113);var s=a(1112);var l=a(7240);var c=a(7239);var u=a(7242);var v=a(1998);function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,r=Array(e);a<e;a++)r[a]=t[a];return r}function f(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};var r=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(a).filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),r.forEach(function(e){var r;r=a[e],e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r})}return t}function h(t){var e=t.key,a=t.layout,r=t.layoutMetrics,n=t.text,i=t.scale;var o=r.cachedResult("ticks_y_".concat(e));var s=r.cachedResult("ticks_y_".concat(e,"_horizontal_metrics"));if(!o)return{direction:"vertical",width:0,data:[]};var l=a.axis.x;var c=n.map(function(t){return i(t)});var u=i.bandwidth();var v=o.baseLineOffset;if(s){var d=s.collection,f=s.maxLines;var h=Math.round(s.width);var g=o.height;var y=n.map(function(t,e){var a=[];var r=0;for(var n=0;n<f;n++){var i=d[e].collection[n];void 0!==i&&(r++,a.push({x:l+h,text:i,textAnchor:"end"}))}var o=(u-r*g)/2;var s=c[e]+o+v;return a.forEach(function(t,e){t.y=s+e*g}),{key:t,texts:a}});return{direction:"horizontal",width:h,data:y}}l+=v;var p=o.collection;var m=n.map(function(t,e){var a=c[e]+(u-p[e].width)/2;return{key:t,texts:[{x:l,y:a,text:t,textAnchor:"end",transform:"rotate(-90,".concat(l,",").concat(a,")")}]}});return{direction:"vertical",width:o.height,data:m}}function g(t){var e=t.runtime,a=t.layout,r=t.xDomain,i=t.scale,o=t.style;var v=e.sheet,f=e.xTickInterval,h=e.formatter;var g=r.data;var y=r.negative;var p=[];var m=[];var x=[];var b=[];(0,c.ensureMinTicks)(i,f).forEach(function(t){0===t?(p.push(t),m.push(i(t)),x.push(t),b.push(i(t))):t<0?(p.push(t),m.push(i(t))):(x.push(t),b.push(i(t)))});var k=n().union(p,x);var _=(0,s.getTextDimensions)(h.axis.x.formatTicks(k,v.axis[0]),o);var w=(0,u.stepFromPositionsByWidth)(m,_.width+5);var O=(0,u.stepFromPositionsByWidth)(b,_.width+5);var T=(0,u.filterToFit)(m,p,w,-1);var P=(0,u.filterToFit)(b,x,O,1);var S=n().union(T.domain,P.domain);y||S[0]===g[0]||S.unshift(g[0]);var A=[];if(e.sheet.grid.vertical)A=function(t){if(Array.isArray(t))return d(t)}(S)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(S)||function(t,e){if(t){if("string"==typeof t)return d(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);if("Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return d(t,e)}}(S)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),!(S.length>0)||0!==i(S[0])||v.grid.vertical||n().get(v,"grid.verticalZero",!1)||A.shift(0),A=A.map(function(t){return{x:Math.round(i(t)),y:a.axis.y,width:1,height:a.axis.height}});else{var D=(0,l.containsZero)(g);var R=n().get(v,"grid.verticalZero",!1);D&&R&&A.push(0)}var L=[];var N=function(t){return t};if(v.axis[0].ticks){N=h.axis.x.createTickFormatter(S,v.axis[0]);var C=(0,s.getAllTextDimensions)(S.map(N),o);var j=a.ticksLeft-(y?10:0);var M=a.axis.y+a.axis.height-(C.height-C.baseLineOffset);S.reduce(function(t,e,a){var r=Math.round(i(e))-5;var n=r-C.collection[a].width;var o={x:n,y:M,value:e,text:N(e)};return n<j&&r>=j||t.push(o),t},L)}return{grid:A,ticks:L,format:N}}function y(t,e,a,r){var n=(0,s.createAnimationTargets)(t.selectAll("text").data(function(t){return[t]}).nodes(),function(t,e){var a;return a=(0,i.default)(t.value,e.value),function(e){return 0===e?t.text:r(a(e))}});a.add({targets:n,fake:1,easing:function(t){var e=t.node,a=t.interpolate;return function(t){return e.textContent=a(t)}}},0)}function p(t){var e=t.data,a=t.style,r=t.timeline,n=t.format,i=t.layout;return function(t){var s=i.width;var l=t.selectAll(".tick").data(e);var c=l.exit();var u={targets:c.nodes(),opacity:"".concat(o.eps),transform:function(t){var e=t.__data__;return"translate(".concat(e.x+s,",").concat(e.y,")")},complete:function(){c.remove()}};l.styles(a),l.selectAll("text").data(function(t){return[t.value]}).attr("fill",a.color),y(l,a,r,n);var v={targets:l.nodes(),opacity:1,transform:function(t){var e=t.__data__;return"translate(".concat(e.x,",").concat(e.y,")")}};var d=l.enter().append("g").attr("class","tick").styles(a).attr("transform",function(t){return"translate(".concat(t.x+s,",").concat(t.y,")")}).style("opacity",o.eps);d.selectAll("text").data(function(t){return[t.value]}).enter().append("text").attr("x",0).attr("y",0).attr("text-anchor","start").attr("fill",a.color).text(function(t){return t});var f={targets:d.nodes(),transform:function(t){var e=t.__data__;return"translate(".concat(e.x,",").concat(e.y,")")},opacity:1};return y(d,a,r,n),r.add(u,0),r.add(v,0),r.add(f,0),r.finished}}function m(t){var e=t.data,a=t.style,r=t.timeline,n=t.layout;return function(t){var i=n.width;var s=(0,v.rgb)(a.color);s.opacity=a.opacity;var l=s.toString();var c=t.selectAll(".tick").data(e);var u=c.exit();var d={targets:u.nodes(),opacity:"".concat(o.eps),transform:function(t){var e=t.__data__;return"translate(".concat(e.x+i,",").concat(e.y,")")},complete:function(){u.remove()}};var f={targets:c.nodes(),opacity:1,transform:function(t){var e=t.__data__;return"translate(".concat(e.x,",").concat(e.y,")")}};var h=c.enter().append("g").attr("class","tick").attr("transform",function(t){return"translate(".concat(t.x+i,",").concat(t.y,")")}).style("opacity",o.eps);h.append("rect").style("fill",l).style("stroke","none").style("stroke-width",0).attr("x",0).attr("y",0).attr("width",function(t){return t.width}).attr("height",function(t){return t.height});var g={targets:h.nodes(),transform:function(t){var e=t.__data__;return"translate(".concat(e.x,",").concat(e.y,")")},opacity:1};return r.add(d,0),r.add(f,0),r.add(g,0),r.finished}}function x(t){var e=t.data,a=t.layout,r=t.timeline,n=t.style;return function(t){var i=t.selectAll(".tick").data(e,function(t){return t.key});var o=i.exit();var s={targets:o.nodes(),transform:"translate(0, ".concat(a.height,")"),complete:function(){o.remove()}};i.styles(n),function(t,e,a){var r={targets:t.selectAll("text").data(function(t){return t.texts}).nodes(),x:function(t){return t.__data__.x},y:function(t){return t.__data__.y},transform:function(t){var e=t.__data__;return e.transform?e.transform:"rotate(0,".concat(e.x,",").concat(e.y,")")},fill:e.color};a.add(r,0)}(i,n,r);var l={targets:i.nodes(),transform:"translate(0, 0)"};var c=i.enter().append("g").attr("class","tick").styles(n).attr("transform","translate(0, ".concat(a.height,")"));var u=c.selectAll("text").data(function(t){return t.texts});u.exit().remove(),(u=u.merge(u.enter().append("text"))).text(function(t){return t.text}).attr("x",function(t){return t.x}).attr("y",function(t){return t.y}).attr("fill",n.color).attr("text-anchor",function(t){return t.textAnchor}).attr("transform",function(t){return t.transform?t.transform:"rotate(0,".concat(t.x,",").concat(t.y,")")});var v={targets:c.nodes(),transform:"translate(0, 0)"};return r.add(s,0),r.add(l,0),r.add(v,0),r.finished}}function b(t){var e=t.data,a=t.timeline,r=t.style;return function(t){var n=t.selectAll(".igc-y-axis-border").data(e);n.exit().remove();var i={x:function(t){return t.__data__.x},y:function(t){return t.__data__.y},height:function(t){return t.__data__.height},width:function(t){return t.__data__.width},fill:r.color,stroke:"none","stroke-width":0};var o=f({targets:n.nodes()},i);var s=f({targets:n.enter().append("rect").attr("class","igc-y-axis-border").nodes()},i);return a.add(o,0),a.add(s,0),a.finished}}},7324:(t,e,a)=>{a.r(e),a.d(e,{adjustScaleDomainToOutsideValues:()=>h,valuesData:()=>v,valuesRender:()=>f});var r=a(498);var n=a.n(r);var i=a(4028);var o=a(4019);var s=a(3941);var l=a(1112);var c=a(7254);var u=a(7230);function v(t){var e=t.scale,a=t.yScale,r=t.data,n=t.metrics,s=t.valuesOutside;var l=a.bandwidth()>=n.height;var c=[];if(l){var u;var v;var d;var f;u=[],v=e.range(),d=(0,i.default)(v),f=(0,o.default)(v),r.reduce(function(t,e,a){var r=e.x,i=e.width,o=e.y,l=e.height;if(null===e.y)return t;var c=n.collection[a];var u=c.width;var v=u+2;var h=!s&&Math.round(Math.abs(i))>v;var g=i<0;var y={offset:0,padding:2};var p=!0;g&&(y.offset=-u,y.padding=-2);var m={key:e.yValue,x:r+y.padding+y.offset};if(!h){p=!1;var x=m.x+i;(!g&&f>=x||g&&d<=x)&&(p=!0,m.x=x)}return p&&(m.inside=h,m.y=o+l/2+.25*c.height,m.xValue=e.xValue,m.yValue=e.yValue,m.height=c.height,m.width=u,m.color=e.color,t.push(m)),t},u),c=u}return c}var d=["text-outline","text-outline-fill"];function f(t){var e=t.data,a=t.style,r=t.timeline,i=t.layout,o=t.format;var v=(0,c.labelInfo)(a);var f;var h;if(v.manual){var g;var y,p,m;var x;var b,k;y=(g={stroke:v.stroke,fill:v.fill,format:o}).stroke,p=g.fill,m=g.format,f=function(t){t.selectAll(".text-outline").data(function(t){return[t.xValue]}).enter().append("text").attr("class","text-outline").attr("text-anchor","start").attr("x",0).attr("y",0).attr("stroke",y).attr("fill",y).attr("stroke-width","3px").attr("stroke-linejoin","round").text(m),t.selectAll(".text-outline-fill").data(function(t){return[t.xValue]}).enter().append("text").attr("class","text-outline-fill").attr("text-anchor","start").attr("x",0).attr("y",0).attr("fill",p).text(m)},b=(x={timeline:r,format:o}).timeline,k=x.format,h=function(t){d.forEach(function(e){var a=(0,l.createAnimationTargets)(t.selectAll(".".concat(e)).data(function(t){return[t.xValue]}).nodes(),function(t,e){return(0,s.default)(+t,+e)});b.add({targets:a,fake:1,easing:function(t){var e=t.node,a=t.interpolate;var r=Math.max((0,u.countDecimals)(a(1)),(0,u.countDecimals)(a(0)));return function(t){return e.textContent=(0,u.displayValue)(a,t,k,r)}}},0)})}}else{var _;var w,O,T;var P;var S,A;w=(_={fillColor:(0,c.setupFillColor)(a),style:a,format:o}).fillColor,O=_.style,T=_.format,f=function(t){t.selectAll("text").data(function(t){return[t.xValue]}).enter().append("text").attr("x",0).attr("y",0).attr("text-anchor","start").attr("fill",w).style("cursor","default").styles(n().omit(O,["color"])).text(T)},S=(P={timeline:r,format:o}).timeline,A=P.format,h=function(t){var e=(0,l.createAnimationTargets)(t.selectAll("text").data(function(t){return[t.xValue]}).nodes(),function(t,e){return(0,s.default)(+t,+e)});S.add({targets:e,fake:1,easing:function(t){var e=t.node,a=t.interpolate;var r=Math.max((0,u.countDecimals)(a(1)),(0,u.countDecimals)(a(0)));return function(t){return e.textContent=(0,u.displayValue)(a,t,A,r)}}},0)}}return function(t){var a=t.selectAll("g").data(e,function(t){return t.key});var n=a.exit();var o={targets:n.nodes(),transform:function(t){var e=t.__data__;return"translate(".concat(e.x,", ").concat(e.y+i.height,")")},complete:function(){n.remove()}};h(a);var s={targets:a.nodes(),transform:function(t){var e=t.__data__;return"translate(".concat(e.x,", ").concat(e.y,")")}};var l=a.enter().append("g").attr("transform",function(t){return"translate(".concat(t.x,", ").concat(t.y+i.height,")")});f(l);var c={targets:l.nodes(),transform:function(t){var e=t.__data__;return"translate(".concat(e.x,", ").concat(e.y,")")}};h(l),r.add(o,0),r.add(s,0),r.add(c,0)}}function h(t){var e=t.scale,a=t.data,r=t.metrics,n=t.axisOptions;var i=function(t,e){return t(e)-t(0)};var o=(0,l.isNumber)(n.maxLimit);var s=(0,l.isNumber)(n.minLimit);if(!o||!s){var c=e.copy().clamp(!1);var u=c.domain();var v={neg:u[0],pos:u[1]};var d={neg:null,pos:null};var f=c(0);a.reduce(function(t,e,a){var n=r.collection[a].width;var l=i(c,e);if(l>=0){var u=c.invert(f+l+n+3);u>t.pos&&!o&&(d.pos=a,t.pos=u)}else{var v=c.invert(f+l-n-3);v<t.neg&&!s&&(d.neg=a,t.neg=v)}return t},v),function t(){var e=null!==d.neg;var n=null!==d.pos;c.domain([e?Math.floor(v.neg):v.neg,n?Math.ceil(v.pos):v.pos]);var o=c(0);var s=!1;if(n){var l=r.collection[d.pos].width;var u=i(c,a[d.pos]);var f=c.invert(o+u+l+3);f>v.pos&&(v.pos=f,s=!0)}if(e){var h=r.collection[d.neg].width;var g=i(c,a[d.neg]);var y=c.invert(o+g-h-3);y<v.neg&&(v.neg=y,s=!0)}s&&t()}(),e.domain(c.domain()),e.nice(10)}}},7319:(t,e,a)=>{a.r(e),a.d(e,{BarRace:()=>i});var r=a(3968);function n(t){return t.parentNode.__data__}function i(t){var e=t.data,a=t.layout,i=t.timeline,o=t.initial,s=t.clipPathId;var l;var c="circle"===(l=t.icon.shape)?"circle(50%)":"star"===l?"polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%)":void 0;return function(t){t.attr("clip-path","url(#".concat(s,")"));var l=t.selectAll("g").data(e,function(t){return t.key});var u=l.exit();var v=l.selectAll("path");var d=l.selectAll("image");var f={targets:u.nodes(),transform:"translate(0, ".concat(a.height,")"),complete:function(){u.remove()}};var h={targets:l.nodes(),transform:"translate(0, 0)"};var g={targets:v.nodes(),d:function(t){var e=n(t);return(0,r.bar)(e.x,e.y,e.width,e.height)}};var y={targets:d.nodes(),transform:function(t){var e=n(t).icon;return"translate(".concat(e.x,", ").concat(e.y,")")}};var p=l.enter().append("g");var m=p.append("path").style("stroke-width",0).style("fill",function(t){return t.color});var x=p.append("image").attr("preserveAspectRatio","xMidYMid slice").attr("height",function(t){return t.icon.height}).attr("width",function(t){return t.icon.width}).attr("href",function(t){return t.icon.url}).attr("clip-path",null!=c?c:null);o?(m.attr("d",function(t){return(0,r.bar)(t.x,t.y,0,t.height)}),x.attr("transform",function(t){return"translate(".concat(t.icon.x0,", ").concat(t.icon.y,")")}),d.attr("height",function(t,e,a){return n(a[0]).icon.height}).attr("width",function(t,e,a){return n(a[0]).icon.width}).attr("href",function(t,e,a){return n(a[0]).icon.url}).attr("clip-path",null!=c?c:null),v.style("fill",function(t,e,a){return n(a[0]).color})):(p.attr("transform","translate(0, ".concat(a.height,")")),m.attr("d",function(t){return(0,r.bar)(t.x,t.y,t.width,t.height)}),x.attr("transform",function(t){return"translate(".concat(t.icon.x,", ").concat(a.height,")")})),o?(i.add({targets:m.nodes(),d:function(t){var e=n(t);return(0,r.bar)(e.x,e.y,e.width,e.height)}},0),i.add({targets:x.nodes(),transform:function(t){var e=n(t).icon;return"translate(".concat(e.x,", ").concat(e.y,")")}},0)):(i.add({targets:p.nodes(),transform:"translate(0, 0)"},0),i.add({targets:x.nodes(),transform:function(t){var e=n(t).icon;return"translate(".concat(e.x,", ").concat(e.y,")")}},0)),i.add(f,0),i.add(h,0),i.add(g,0),i.add(y,0)}}},7316:(t,e,a)=>{a.r(e),a.d(e,{default:()=>d});var r=a(498);var n=a.n(r);var i=a(7317);var o=a(7276);var s=a(7279);var l=a(7280);var c=a(7282);var u=a(7284);var v=Object.assign({},o.default);v.instanceClass=i.BarRace,v.setupChartOptions=function(){o.default.setupChartOptions.call(this);var t=this.custom,e=this.chartOptions;var a=Math.round(10*n().get(t,"animation.duration",.5))/10;e.animation.duration=1e3*a,e.series.data=!0===t.absoluteDistribution?"absolute":"separate",e.dataSet={order:{visible:n().get(t,"dataSet.order.visible",!1),type:n().get(t,"dataSet.order.type","descending"),tabs:[n().get(t,"dataSet.order.descendingLabel"),n().get(t,"dataSet.order.ascendingLabel")]},limit:{enabled:n().get(t,"dataSet.limit.enabled",!1),amount:Math.round(n().get(t,"dataSet.limit.amount",100))}},n().merge(e.style.sheetSwitch,n().get(this,"charts.barRace.style.sheetSwitch.style"))},v.setupChartSheetOptionsItem=function(t){var e={categories:{colors:n().merge([],this.themeColors,t.colors||this.colors)},graphOptions:{bar:{showValues:!!t.showInLineValues,valuesOutside:!!t.showInLineValuesOutside},seriesLabels:n().get(t,"dataSet.label.visible",!0),icon:n().merge({color:{dark:"#000000",light:"#ffffff"},shape:"none",heightPct:1,widthPct:1,offsetPct:0},null==t?void 0:t.icon)},grid:{vertical:!0,horizontal:!1},axis:[{},{}]};var a=e.axis[0];return t.enableHeight||(e.categories.categoryHeight=t.categoryHeight||this.defaultCategoryHeight),a.title=t.xlabel||"",e.axis[1].title=t.ylabel||"","number"==typeof t.xmin&&(a.minLimit=t.xmin),"number"==typeof t.xmax&&(a.maxLimit=t.xmax),e.grid.vertical=(0,s.getGridSettingsVertical)(t),e.grid.verticalZero=(0,l.getZeroBaselineVertical)(t),(0,c.assignAxisTickInterval)(e,t),(0,c.assignAxisTicks)(e,t),(0,u.assignNumberFormatValues)({sheetOptions:e,custom:t,axis:[{id:"x",path:""},{id:"x1",path:"axis.x"}],inputDecimalSeparator:this.inputDecimalSeparator}),(0,u.assignNumberFormatLabels)({sheetOptions:e,custom:t,affixes:[{id:"x",path:""},{id:"label",path:""}],inputDecimalSeparator:this.inputDecimalSeparator}),e};let d=Object.freeze(v)}}]);