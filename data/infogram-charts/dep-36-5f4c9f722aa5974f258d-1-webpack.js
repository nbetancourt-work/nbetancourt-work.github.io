(self.webpackChunkbackend=self.webpackChunkbackend||[]).push([["infogram-charts/dep-36"],{7287:(t,e,a)=>{a.r(e),a.d(e,{Bar:()=>E});var r=a(498);var i=a.n(r);var n=a(7273);var o=a(3989);var l=a(7248);var s=a(3975);var u=a(7241);var c=a(7258);var h=a(3920);var d=a(4024);var v=a(7288);var g=a(7240);var f=a(4025);var p=a(7242);var m=a(7289);var y=a(7250);var x=a(7252);var b=a(4006);var O=a(1112);var S=a(4013);var w=a(7259);var k=a(1111);var D=a(4022);var T=a(4016);var L=a(3974);var C=a(7290);var V=a(7291);function j(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function G(t,e,a){return(G="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,a){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=A(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(a||t):i.value}})(t,e,a||t)}function A(t){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function B(t,e){return(B=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}(0,L.putGraph)("bar",C.Bar);var E=function(t){"use strict";var e;!function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&B(t,e)}(r,t);var a=(e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t=A(r),a;if(e){var i=A(this).constructor;a=Reflect.construct(t,arguments,i)}else a=t.apply(this,arguments);var n;return(n=a)&&("object"==(n&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)||"function"==typeof n)?n:function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(this)});function r(){return!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,r),a.apply(this,arguments)}var u,L;return L=[{key:"getClassName",value:function(){return"Bar"}}],u=[{key:"render",value:function(){var t=this;this.detectDimensions();var e=this.options,a=this.root;var r=new w.Renderer({instance:this});var u=this.getSheetData();var k=(0,f.formatHelper)(u);var L=this.runtime={width:e.width,height:e.height,components:{},metrics:{},layout:{},sheet:u,formatter:k,inanimate:(0,d.inanimated)(e)};var C=L.layout;var V=e.fixedHeight;var j=u.axis[0];var G=u.axis[1];var A="absolute"===e.series.data;var B=A?(0,c.getAllGraphs)(this):[this.prepareSheetData(u)];var E=A?B[this.sheetIndex]:B[0];var H=["PopulationPyramid","Tornado"].includes(this.getClassName());if(this.createTickIntervals(),(0,S.Controls)(this,{width:L.width}),(0,D.DownloadButton)(this,e.style.legend),H&&(0,T.legendHelper)({instance:this,attachEvents:function(){}}),!h.Chart.prototype.sheetsNotFound.call(this)){var I={top:0,right:1,bottom:0,left:0};var P=L.layout.marginTitle={left:0,right:0,top:0,bottom:0};var R=L.layout.marginAxis={left:0,right:0};var z={maxLeftCategoryWidth:0,maxLeftCategoryHeight:0};var N=C.leftLabelPadding={top:0,right:10,bottom:0,left:0};var Z;var M=this.createAnimationCounter(E.length+2);u.categories.categoryHeight&&(Z=Number(u.categories.categoryHeight)),E[0].data=E[0].data.filter(function(t){return null!==t.x});var _=E[0].data.map(function(t){return t.y});if(_.length<1)return this.events.call("startAnimation"),this.events.call("endAnimation"),this.resetRootElement();var W=e.style.axis.x;var F=e.style.axis.y;this.titleLayout(["x","y"]);var q={height:0};j.ticks&&((q=(0,O.getTextDimensions)(k.axis.x.tickSample(),W.tick)).height=Math.min(q.height,30));var X=L.width-I.left-P.left-I.right-P.right;var Y=L.height-I.top-P.top-I.bottom-P.bottom;var J=(0,l.default)(0,_.length);var K=(0,n.default)().domain(J).padding(.1);if(!V&&Z){var Q=10;for(K.range([0,Q-(q.height+5)]);K.bandwidth()-Z<0;)Q+=1,K.range([0,Q-(q.height+5)]);Q-=1,L.height=Q+I.top+P.top+I.bottom+P.bottom,Y=Q}K.range([0,Y-(q.height+5)]);var U=X-R.left-R.right;var $=(0,c.createGetDomain)("x");var tt=L.xDomain=(0,c.createGetDomainAbsolute)($)(B);u.grid.symmetrical&&(tt=(0,g.adjustSymmetricalDomain)(tt));var te=(0,g.limit)(j,tt);G.ticks||(N.right=0);var ta=N.right;tt[0]<0&&(ta*=2);var tr=(0,O.getTextDimensions)(_,F.tick);z.maxLeftCategoryWidth=.35*U-N.right,z.maxLeftCategoryHeight=K.bandwidth()+.1*K.bandwidth()/.9-N.top-N.bottom;var ti=L.metrics.leftCategoryWidth=0;var tn=!1;var to;G.ticks&&(tr.width<=z.maxLeftCategoryHeight?ti=tr.height:((tn=z.maxLeftCategoryHeight<tr.height)&&(to=(0,p.filterOverlappingCategories)(K,tr,(0,O.getAllTextDimensions)(_,F.tick))),Math.ceil(ti=b.Measure.wrappedText(z.maxLeftCategoryWidth,to?to.map(function(t){return _[t]}):_,F.tick,tr.height).width)<=z.maxLeftCategoryWidth&&(ti=Math.ceil(ti)))),L.metrics.leftCategoryWidth=ti;var tl=(0,m.Left)().scale(K).data(_).style(F.tick).bounds({width:ti+N.right,height:Y}).offset({left:-(ti+ta),top:0}).padding(N);tn&&tl.indexFilter(to),U-=ti+ta;var ts=L.xScale=(0,o.default)().range([0,U]).clamp(te);ts.domain(tt);var tu=i().get(u,"graphOptions.bar",{}),tc=tu.showValues;if(tu.valuesOutside&&tc&&((0,v.adjustScaleToOutsideValues)({scale:ts,graphs:i().flatten(B),axisOptions:j,getText:function(e){return t.runtime.formatter.labels.format(e.xLabel)},getTextMetrics:function(e){return(0,O.getAllTextDimensions)(e,t.options.style.graph.item.value)},getValue:function(t){return t.x},getTextSize:function(t){return t.width},adjust:function(t,e){return t-e},barSize:function(t,e){return t>0?e(t)-e(0):e(0)-e(t)}}),u.grid.symmetrical)){var th=(0,g.adjustSymmetricalDomain)(ts.domain());ts.domain(th)}var td=(0,x.GridLines)().scale(K).orient(x.GridLines.ORIENTS.horizontal).tickSize(-X).highlightZero(!H&&u.grid.horizontalZeroHighlight).style(e.style.grid);u.grid.horizontal||td.tickValues([]);var tv=L.components.xGridLines=(0,x.GridLines)().scale(ts).orient(x.GridLines.ORIENTS.vertical).tickSize(Y).highlightZero(!H&&u.grid.verticalZeroHighlight).style(e.style.grid);var tg=L.components.xAxisBottomText=(0,y.Axis)().scale(ts).orient("bottom").style(W.tick).textOffset(-5).offset({top:Y-q.height/4});C.igc={x:I.left+P.left+R.left+(ti+ta),y:I.top+P.top},this.xTicksSetup(),this.gridSetupVertical(),this.titleComponents(["x","y"]);var tf=L.components,tp=tf.bottomTitle,tm=tf.leftTitle;tp.orientBounds({y2:L.height-I.bottom-5,y1:I.top,x2:L.width,x1:I.left+P.left+R.left+ti+tl.padding().right}),tm.orientBounds({x2:L.width,x1:I.left+4,y2:I.top+P.top+Y,y1:I.top+P.top}),tp.dispatch().on("animationEnd",M),L.inanimate&&(0,d.removeAnimation)([tm,tp,tv,td,tg,tl]),this.containerSetup(),r.add(function(){a.attr("width",L.width).attr("height",L.height);var e=a.select(".igc");e.selectAll(".igc-labels").remove(),a.transition().ease(s[t.options.animation.ease]).duration(t.options.animation.duration).on("start",function(){t.events.call("startAnimation")}).on("end",function(){M()}),e.attr("transform","translate(".concat(C.igc.x,", ").concat(C.igc.y,")"))}),r.addGrid(td,"igc-ygrid"),r.addGrid(tv,"igc-xgrid"),r.addGraph([{graphs:E,x:ts,y:K,textStyle:e.style.graph.item.value,transitionDuration:e.animation.duration,animationEnd:M}]),G.ticks?(r.addGrid(tl,"igc-y-axis-text"),u.grid.vertical?r.add(function(){t.createBorderLineFunc(a.select(".igc .igc-grid .igc-y-axis-text"),tl)()}):r.addGrid(function(t){t.select(".igc-y-axis-border").remove()},"igc-y-axis-text")):r.addGrid(function(t){t.selectAll(".tick").remove(),t.select(".igc-y-axis-border").remove()},"igc-y-axis-text"),r.addGrid(tg,"igc-x-axis-text"),r.addTitle(tm,"igc-title-left"),r.addTitle(tp,"igc-title-bottom"),r.start()}}},{key:"graphInstanceSetup",value:function(t,e,a,r,i){var n=this;var o=this.runtime.formatter;var l=e.data.length;var s=(0,d.removeDelay)(this,function(t,e){return e/l*500});var u="Bar"===this.getClassName();var c=this.options.style.graph.item.value,h=c.placementStrategy,v=(c.hideOverlapping,c.align),g=function(t,e){if(null==t)return{};var a=function(t,e){if(null==t)return{};var a={};var r=Object.keys(t);var i,n;for(n=0;n<r.length;n++)i=r[n],e.indexOf(i)>=0||(a[i]=t[i]);return a}(t,e);var r,i;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);for(i=0;i<n.length;i++)r=n[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}(c,["placementStrategy","hideOverlapping","align"]);var f=u&&"aligned"===h;var p=(0,k.createStyledTooltip)(this);var m=function(t){return t.yLabel};var y=function(t){return o.tooltip.x.format(t.xLabel)};t.scaleX(r.x).scaleY(r.y).data(e.data).groupId(i).textStyle(r.textStyle).showValues(!f&&e.showValues).valuesOutside(e.valuesOutside).tooltip(p).tooltipText(m).tooltipValue(y).numberFormat(o.labels).baseValue(e.baseValue).transitionDelay(s).transitionDuration(r.transitionDuration).dispatch().on("animationEnd",function(){if(f&&e.showValues){var t=n.root.select(".igc");var a;(0,V.labelsWithAlignment)({selection:t,graphs:(a=e.data.map(function(t){return t.color}),e.data.map(function(t,e){return{categoryIdx:e,colors:a,data:[{x:t.x,y:e,xLabel:t.xLabel,yLabel:t.y,seriesIdx:e}]}})),xScale:r.x,yScale:r.y,style:g,formatter:o,chartId:n.chartId,tooltip:p,tooltipText:m,tooltipTextValue:y,hideOverlapping:!1,align:e.valuesOutside?"outside":v,outlineColorAlways:!1}).then(r.animationEnd);return}r.animationEnd()})}},{key:"defaults",value:function(){return i().merge({},G(A(r.prototype),"defaults",this).call(this),{series:{data:"separate"}})}},{key:"emptySheetData",value:function(){return i().merge({},G(A(r.prototype),"emptySheetData",this).call(this),{series:[{title:"",type:"bar"}],graphOptions:{bar:{showValues:!0,valuesOutside:!1}},axis:[{title:"",ticks:!0,tickInterval:10},{title:"",ticks:!0}],grid:{vertical:!0,verticalZeroHighlight:!0,horizontal:!1}})}},{key:"prepareSheetData",value:function(t){var e=t.categories.colors;var a=i().get(t,"series[0]");var r=a.type;var n=i().get(t,"graphOptions.bar",{}),o=n.showValues,l=n.valuesOutside;return[{type:r,data:a.data.map(function(r,n){return{x:(0,O.replaceBlank)(r,null),y:(0,O.replaceBlank)(t.categories.data[n]),xLabel:(0,O.replaceBlank)(a.rawData[n]),color:(0,O.getColor)(n,e),link:i().get(a,"links[".concat(n,"]"),null)}}),showValues:o,valuesOutside:l}]}}],j(r.prototype,u),L&&j(r,L),r}(u.BarClass)},7258:(t,e,a)=>{a.r(e),a.d(e,{createGetDomain:()=>h,createGetDomainAbsolute:()=>c,getAllGraphs:()=>u,getGraphsDomainByProperty:()=>d});var r=a(498);var i=a.n(r);var n=a(4028);var o=a(4019);var l=a(3989);var s=a(7240);function u(t){var e=t.options.sheets;var a=e.length;var r=[];for(var n=0;n<a;n++){var o=e[n];var l=i().merge({},t.emptySheetData(),o);r.push(t.prepareSheetData(l,n))}return r}function c(t){return function(e){var a;return e.forEach(function(e,r){var i=t(e);0===r?a=i.slice(0):(a[0]=Math.min(i[0],a[0]),a[1]=Math.max(i[1],a[1]))}),a}}function h(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x";var e=function(e){return e[t]};return function(t){var a=[(0,n.default)(t,function(t){return(0,n.default)(t.data,e)}),(0,o.default)(t,function(t){return(0,o.default)(t.data,e)})];return(0,s.ensureZeroEqual)(a),(0,s.ensureZero)(a),(0,l.default)().domain(a).nice(10).domain()}}function d(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"y";var a=[].concat(e);var r=[(0,n.default)(t,function(t){return(0,n.default)(t.data,function(t){return(0,n.default)(a.map(function(e){return t[e]}))})}),(0,o.default)(t,function(t){return(0,o.default)(t.data,function(t){return(0,o.default)(a.map(function(e){return t[e]}))})})];return(0,s.ensureZeroEqual)(r),r}},7288:(t,e,a)=>{a.r(e),a.d(e,{adjustScaleToOutsideValues:()=>l});var r=a(498);var i=a.n(r);var n=a(1112);function o(){return{text:0,bar:0,value:0,combined:0}}function l(t){var e=t.scale,a=t.graphs,r=t.axisOptions,l=t.getText,s=t.getTextMetrics,u=t.getValue,c=t.getTextSize,h=t.adjust,d=t.barSize,v=t.textPadding,g=void 0===v?3:v;var f=(0,n.isNumber)(r.maxLimit);var p=(0,n.isNumber)(r.minLimit);if(!f||!p){var m=e.domain();var y=e.copy();y.clamp(!1);var x=s(i().flatten(a.map(function(t){return t.data.map(l)})));var b=i().flatten(a.map(function(t){return t.data}));var O=b.length;var S={neg:o(),pos:o(),bar:{neg:o(),pos:o()}};for(;O--;){var w=u(b[O]);var k=d(w,y);var D=c(x.collection[O])+g;var T=k+D;var L={bar:k,value:w,text:D,combined:T};w>=0?(S.pos.combined<T&&(S.pos=L),S.bar.pos.bar<k&&(S.bar.pos=L)):(S.neg.combined<T&&(S.neg=L),S.bar.neg.bar<k&&(S.bar.neg=L))}var C=Math.max(y(m[0]),y(m[1]));if(S.neg.bar+S.pos.bar===0)return;if(f&&!p){var V=C-S.neg.text;var j=(m[1]-S.neg.value)/(V/C);e.domain([m[1]-j,m[1]])}else if(!f&&p){var G=C-S.pos.text;var A=(S.pos.value-m[0])/(G/C);e.domain([m[0],m[0]+A])}else{var B=S.bar.neg.bar;var E=S.neg.text+S.pos.text;var H=S.neg.bar+S.pos.bar;var I=(m[1]-m[0])/((C-E)/H);var P=[m[0],m[0]+I];y.domain(P);var R=y.invert(0)-y.invert(B-S.neg.combined);e.domain(P.map(function(t){return h(t,R)}))}e.nice(10)}}},7286:(t,e,a)=>{a.r(e),a.d(e,{default:()=>d});var r=a(498);var i=a.n(r);var n=a(7287);var o=a(7276);var l=a(7279);var s=a(7280);var u=a(7282);var c=a(7284);var h=Object.assign({},o.default);h.instanceClass=n.Bar,h.setupChartOptions=function(){var t,e,a,r;o.default.setupChartOptions.call(this);var i=this.custom,n=this.chartOptions;var l;n.series.data=!0===i.absoluteDistribution?"absolute":"separate",n.style.graph.item.value.align=null!==(l=null==i?void 0:null===(r=i.labels)||void 0===r?void 0:null===(a=r.graph)||void 0===a?void 0:null===(e=a.item)||void 0===e?void 0:null===(t=e.value)||void 0===t?void 0:t.align)&&void 0!==l?l:"left"},h.setupChartSheetOptionsItem=function(t){var e={categories:{colors:i().merge([],this.themeColors,t.colors||this.colors)},graphOptions:{bar:{showValues:!!t.showInLineValues,valuesOutside:!!t.showInLineValuesOutside}},grid:{vertical:!0,horizontal:!1},axis:[{},{}]};var a=e.axis[0];return t.enableHeight||(e.categories.categoryHeight=t.categoryHeight||this.defaultCategoryHeight),a.title=t.xlabel||"",e.axis[1].title=t.ylabel||"","number"==typeof t.xmin&&(a.minLimit=t.xmin),"number"==typeof t.xmax&&(a.maxLimit=t.xmax),e.grid.vertical=(0,l.getGridSettingsVertical)(t),e.grid.verticalZero=(0,s.getZeroBaselineVertical)(t),(0,u.assignAxisTickInterval)(e,t),(0,u.assignAxisTicks)(e,t),(0,c.assignNumberFormatValues)({sheetOptions:e,custom:t,axis:[{id:"x",path:""},{id:"x1",path:"axis.x"}],inputDecimalSeparator:this.inputDecimalSeparator}),(0,c.assignNumberFormatLabels)({sheetOptions:e,custom:t,affixes:[{id:"x",path:""},{id:"label",path:""}],inputDecimalSeparator:this.inputDecimalSeparator}),e};let d=Object.freeze(h)}}]);