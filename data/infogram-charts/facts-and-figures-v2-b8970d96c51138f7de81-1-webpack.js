(self.webpackChunkbackend=self.webpackChunkbackend||[]).push([[43],{7438:(t,e,n)=>{n.r(e),n.d(e,{FactsAndFiguresV2:()=>v});var i=n(498);var r=n.n(i);var o=n(3920);var s=n(4013);var a=n(1112);var c=n(4022);var l=n(1111);function u(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p=l.getTooltip;var v=function(t){"use strict";var e;!function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(i,t);var n=(e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t=d(i),n;if(e){var r=d(this).constructor;n=Reflect.construct(t,arguments,r)}else n=t.apply(this,arguments);var o;return(o=n)&&("object"==(o&&"undefined"!=typeof Symbol&&o.constructor===Symbol?"symbol":typeof o)||"function"==typeof o)?o:u(this)});function i(t){var e;var r,o,s;return!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,i),r=u(e=n.call(this,t,"div")),o="getShape",s=function(t){return e.options.shapes.find(function(e){return e.title===t})},o in r?Object.defineProperty(r,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[o]=s,e}var o,v;return v=[{key:"getClassName",value:function(){return"FactsAndFiguresV2"}}],o=[{key:"render",value:function(){var t=this;this.detectDimensions();var e=this.options,n=this.root,i=this.interaction;var o=this.runtime={width:e.width,height:e.height};var u=o.width;var h=o.sheet=this.getSheetData();p=(0,l.createStyledTooltip)(this),this.events.call("startAnimation"),n.selectAll(".igc-figures-v2-entry").remove(),(0,s.Controls)(this,{width:u}),(0,c.DownloadButton)(this,e.style.legend),n.style("width",u),n.style("height","auto");var d=h.categories,f=h.iconSize;var v=d.data,g=d.colors;var y=n.selectAll(".igc-figures-v2-entry").data(v).enter().append("div").attr("class","igc-figures-v2-entry");h.showIcons&&y.append("div").attr("class","igc-figures-v2-icon").style("width","".concat(f,"px")).style("height","".concat(f,"px")).style("opacity",function(t){return t.icon.opacity}).on("click",function(t,e){e.icon.link&&(0,a.openUrl)(e.icon.link,i)}).classed("igc-chart-link",function(t){return t.icon.link}).append("svg").attr("width",f).attr("height",f).attr("version","1.1").attr("xmlns","http://www.w3.org/2000/svg").attr("viewBox",function(t){return"0 0 ".concat(r().get(t,"icon.shape.dimensions.width")||0," ").concat(r().get(t,"icon.shape.dimensions.height")||0)}).on("mouseover",function(){return p().interaction("show")}).on("mousemove",function(t,e){var n;(n=e.icon.tooltip)&&p().setText(n).setValue("").setPosition((0,a.getMousePosition)(t))}).on("mouseout",function(){return p().hide()}).append("path").attr("class","igc-textual-path").attr("fill-rule",function(t){return r().get(t,"icon.shape.fillRule","evenodd")}).attr("fill",function(t,e){return t.icon.color||(0,a.getColor)(e,g)}).attr("transform",function(t){return"translate(".concat(0|r().get(t,"icon.shape.dimensions.x"),", ").concat(r().get(t,"icon.shape.dimensions.x")||0,")")}).attr("d",function(t){return r().get(t,"icon.shape.path")});var m=y.append("div").attr("class","igc-figures-v2-text ItemContent-text").style("width",h.showIcons?"calc(100% - ".concat(f+20,"px)"):"100%");m.append("h2").attr("class","igc-figures-v2-figure").html(function(t){return t.figure}).style("font-size",0).style("transform",function(){return"scale(".concat(t.offsetWidth/t.scrollWidth,")")}),m.append("div").attr("class","igc-figures-v2-fact").html(function(t){return t.fact}),this.events.call("endAnimation")}},{key:"applySheetOptions",value:function(t){t&&this.options.sheets.forEach(function(e,n){var i=t[n+1]||t[0];i.categories&&(e.categories=Object.assign(e.categories,i.categories)),i.iconSize&&(e.iconSize=i.iconSize),e.showIcons=!!(null==i?void 0:i.showIcons),e.series=e.series.map(function(e){return Object.assign(e,t.series&&i.series[0]||{})})})}}],h(i.prototype,o),v&&h(i,v),i}(o.Chart)},4013:(t,e,n)=>{n.r(e),n.d(e,{Controls:()=>a});var i=n(4010);var r=n(4011);var o=n(4014);var s={tab:i.TabSwitcher,player:r.Player,radio:o.RadioSwitcher};function a(t){var e=t.options.sheetSwitch;var n;s[null!==(n=null==e?void 0:e.type)&&void 0!==n?n:"radio"].apply(null,arguments)}},4014:(t,e,n)=>{n.r(e),n.d(e,{RadioSwitcher:()=>l});var i=n(498);var r=n.n(i);var o=n(1115);var s=n(4015);var a=n(4011);var c=n(4005);function l(t,e){var n=t.container,i=t.options,l=t.sheetIndex;var u=i.sheets;var h=t.interaction;if((0,a.removeSheetPlayer)(t),n.selectAll(".igc-sheets").remove(),!(0,c.sheetsEmpty)(t)){var d=r().get(i,"style.sheetSwitch.radio");var f;var p=(f=n.insert("span").attr("class","igc-sm-sheet-switch-radio").style("visibility","hidden").style("position","absolute").style("top","0px").style("left","0px").append("div").attr("class","igc-sheets").append("div").attr("class","igc-sheet").append("span").attr("class","igc-sheet-ico").node().offsetWidth,n.select(".igc-sm-sheet-switch-radio").remove(),f);var v=(0,s.TextItemMetrics)().width(e.width).texts(u.map(function(t){return t.categories.title})).style(d).parentContainer(n).reservedSize(p+20)();var g=n.insert("div",".igc-content").attr("class","igc-sheets").attr("role","radiogroup").attr("aria-label","select sheet").style("width","".concat(e.width,"px"));var y=g.selectAll(".igc-sheet").data(u.map(function(t,e){return{name:t.categories.title,sheetIndex:e}}));(y=y.merge(y.enter().append("div"))).attr("class","igc-sheet").attr("role","radio").attr("aria-checked",function(t){return t.sheetIndex===l?"true":"false"}).attr("aria-labelledby",function(t){return"igc-sheet-label".concat(t.sheetIndex)}).attr("class",function(t){return t.sheetIndex===l?"igc-sheet active":"igc-sheet"}).style("max-width","".concat(v.width,"px")),y.append("span").attr("class","igc-sheet-ico").attr("role","presentation").attr("id",function(t){return"igc-sheet-".concat(t.sheetIndex)}),y.append("span").attr("class","igc-sheet-label").html(function(t){return t.name}).attr("id",function(t){return"igc-sheet-label".concat(t.sheetIndex)}).styles(d).style("height","".concat(v.label.height,"px")).style("max-width","".concat(v.label.width,"px")),y.on("click",function(e,i){var r=(0,o.default)(this);h("sheetSwitch.item","click"),t.sheetIndex!==i.sheetIndex&&(n.selectAll(".igc-sheet.active").attr("class","igc-sheet").attr("aria-checked","false"),r.classed("active",!0).attr("aria-checked","true"),t.sheetIndex=i.sheetIndex,delete t.legendData,t.render())}),(0,c.subtractHeight)(t,g.node())}}},4015:(t,e,n)=>{n.r(e),n.d(e,{TextItemMetrics:()=>a,createMeasurement:()=>s});var i=n(3964);var r=n(1112);function o(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return t.append("span").styles(e).style("white-space","nowrap").style("line-height",n).style("visibility","hidden").style("position","absolute").style("top","0px").style("left","0px")}function s(t){var e=t.style,n=t.container,i=t.lineHeight;return function(t){var s=o(n,e,i);var a=(0,r.measureTextHtml)(t,s.node());return s.remove(),a}}function a(){var t=function(){if(c){var t=o(c,s);var i=(0,r.measureTextHtmlHeight)(e,t.node());return t.remove(),{width:n,label:{width:n-a,height:i+i/4}}}};var e=[];var n=300;var s=(0,i.chartOptions)().style.legend;var a=0;var c;return Object.assign(t,{texts:function(n){return arguments.length?(e=n.slice(0),t):e},width:function(e){return arguments.length?(n=e,t):n},style:function(e){return arguments.length?(s=e,t):s},reservedSize:function(e){return arguments.length?(a=e,t):a},parentContainer:function(e){return arguments.length?(c=e,t):c}}),t}},1111:(t,e,n)=>{n.r(e),n.d(e,{createStyledTooltip:()=>l,getTooltip:()=>c,setTooltip:()=>a,tooltipDummy:()=>o});var i=n(1112);var r=n(843);var o={setText:function(){return this},setValue:function(){return this},setPosition:function(){return this},show:function(){return(0,r.logError)("Trying to show dummy tooltip"),this},interaction:function(){return this},hide:function(){return s!==o&&s.hide.apply(s,arguments),this},mute:function(){return this},unmute:function(){return this},isVisible:function(){return this},setKey:function(){return this},getKey:function(){return this}};var s=o;function a(t){s=t}function c(){return s}function l(t){var e,n,r,a,c,l,u,h;var d=t.createInteractionCaller();var f=null==t?void 0:null===(n=t.options)||void 0===n?void 0:null===(e=n.tooltip)||void 0===e?void 0:e.enabled;var p=null==t?void 0:null===(c=t.options)||void 0===c?void 0:null===(a=c.style)||void 0===a?void 0:null===(r=a.tooltip)||void 0===r?void 0:r.text;var v=null==t?void 0:null===(h=t.options)||void 0===h?void 0:null===(u=h.style)||void 0===u?void 0:null===(l=u.tooltip)||void 0===l?void 0:l.value;p=p&&(0,i.camelizeObject)(p),v=v&&(0,i.camelizeObject)(v);var g=(0,i.createGetScale)(t.root.node());var y,m;return y=p,m=v,f?function(){return{setText:function(t){return s.setText(t,y),this},setValue:function(t){return"string"!=typeof t||s.setValue(t,m),this},setPosition:function(t,e){return s.setPosition(t,{color:e,scale:g().x}),this},interaction:function(t){return d("tooltip",t),this},show:function(){return s.show.apply(s,arguments),this},hide:function(){return s.hide.apply(s,arguments),this},isVisible:function(){return s.isVisible()},mute:function(){return s.mute(),this},unmute:function(){return s.unmute(),this},setKey:function(){return s.setKey.apply(s,arguments),this},getKey:function(){return s.getKey()}}}:function(){return o}}},7437:(t,e,n)=>{n.r(e),n.d(e,{default:()=>s});var i=n(7438);var r=n(7276);var o=Object.assign({},r.default);o.instanceClass=i.FactsAndFiguresV2,o.setupChartOptionsDimensions=function(){},o.setupChartOptions=function(){r.default.setupChartOptions.call(this);var t=this.custom;this.chartOptions.iconSize=t.iconSize},o.setupChartSheetOptionsItem=function(t){var e=r.default.setupChartSheetOptionsItem.call(this,t);var n=t.iconSize,i=t.showIcons;return e.iconSize=n||50,e.showIcons=i,e};let s=Object.freeze(o)}}]);