(self.webpackChunkbackend=self.webpackChunkbackend||[]).push([[71],{7431:(e,t,r)=>{r.r(t),r.d(t,{Waterfall:()=>v});var a=r(498);var n=r.n(a);var o=r(4028);var l=r(4019);var i=r(3989);var u=r(7328);var s=r(1112);var c=r(7240);function f(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function p(e,t,r){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(a){var n=Object.getOwnPropertyDescriptor(a,t);return n.get?n.get.call(r||e):n.value}})(e,t,r||e)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(e){"use strict";var t;!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(a,e);var r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=h(a),r;if(t){var n=h(this).constructor;r=Reflect.construct(e,arguments,n)}else r=e.apply(this,arguments);var o;return(o=r)&&("object"==(o&&"undefined"!=typeof Symbol&&o.constructor===Symbol?"symbol":typeof o)||"function"==typeof o)?o:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this)});function a(){return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a),r.apply(this,arguments)}var u,v;return v=[{key:"getClassName",value:function(){return"Waterfall"}}],u=[{key:"emptySheetData",value:function(){return n().merge({},p(h(a.prototype),"emptySheetData",this).call(this),{series:[{type:"column-grouped",axisIndex:1}],graphOptions:{column:{valuesOutside:!1,showValues:!1},waterfall:{connectors:!1}}})}},{key:"getDomain",value:function(e){var t=[(0,o.default)(e,function(e){return(0,o.default)(e.data,function(e){return e.y0})}),(0,l.default)(e,function(e){return(0,l.default)(e.data,function(e){return e.y})})];return(0,c.ensureZeroEqual)(t),(0,c.ensureZero)(t),(0,i.default)().domain(t).nice(10).domain()}},{key:"getColor",value:function(e,t,r,a,n){return 0===t||t===r?0:a>a+n?2:1}},{key:"prepareSheetData",value:function(e){var t=this;var r=n().get(e,"graphOptions.column",{}),a=r.showValues,o=r.valuesOutside;var l=e.categories.colors;var i={type:"column-grouped",colors:l,showValues:!!a,valuesOutside:!!o,data:[]};var u=i.data;var c=e.series[0];var f=0;var p=c.data.length-1;return c.data.reduce(function(r,a,o){if(null===(a=(0,s.replaceBlank)(a,null)))return r;p===o&&(a=-f);var i=t.getColor(l,o,p,f,a);return r.push({x:0,xLabel:(0,s.replaceBlank)(e.categories.data[o]),y0:f,y:f+=a,yLabel:(0,s.replaceBlank)(c.rawData[o]),categoryIdx:o,seriesIdx:o,colorIdx:i,link:n().get(c,"links[".concat(o,"]"),null)}),r},u),[i]}},{key:"graphInstanceSetup",value:function(e,t,r,o){p(h(a.prototype),"graphInstanceSetup",this).apply(this,arguments),e.outlineStyle(o.outlineStyle).showConnectors(n().get(this.runtime,"sheet.graphOptions.waterfall.connectors",!1)).isWaterfall(!0)}}],f(a.prototype,u),v&&f(a,v),a}(u.Column)},7430:(e,t,r)=>{r.r(t),r.d(t,{default:()=>h});var a=r(498);var n=r.n(a);var o=r(7431);var l=r(7276);var i=r(2014);var u=r(7279);var s=r(7280);var c=r(7282);var f=r(7284);var p=Object.assign({},l.default);p.instanceClass=o.Waterfall,p.setupChartOptionsStyle=function(){l.default.setupChartOptionsStyle.call(this),this.chartOptions.style.graph.item.value.color=(0,i.defaultColorValue)(null,"manual")},p.setupChartSheetOptionsItem=function(e){var t=(0,u.getGridSettings)(e),r=t.vertical,a=t.horizontal;var o={categories:{colors:n().merge([],this.themeColors,e.colors||this.colors)},grid:{vertical:r,horizontal:a,horizontalZero:(0,s.getZeroBaselineHorizontal)(e)},graphOptions:{column:{showValues:!!e.showInLineValues},waterfall:{connectors:!!e.guidPathShow}},axis:[{},{}],legend:{enabled:!1}};var l=o.axis[1];return l.title=e.ylabel||"",o.axis[0].title=e.xlabel||"","number"==typeof e.ymin&&(l.minLimit=e.ymin),"number"==typeof e.ymax&&(l.maxLimit=e.ymax),(0,c.assignAxisTickInterval)(o,e),(0,c.assignAxisTicks)(o,e),(0,f.assignNumberFormatValues)({sheetOptions:o,custom:e,axis:[{id:"y",path:""},{id:"y1",path:"axis.y"}],inputDecimalSeparator:this.inputDecimalSeparator}),(0,f.assignNumberFormatLabels)({sheetOptions:o,custom:e,affixes:[{id:"y",path:""},{id:"label",path:""}],inputDecimalSeparator:this.inputDecimalSeparator}),(0,c.assignCategoryLabelLayout)(o,e),o};let h=Object.freeze(p)}}]);