(self.webpackChunkbackend=self.webpackChunkbackend||[]).push([["infogram-charts/dep-38"],{7285:(t,e,a)=>{function i(t){var e,a;return(null==t?void 0:null===(a=t.dataPoint)||void 0===a?void 0:null===(e=a.style)||void 0===e?void 0:e.stroke)||"#ffffff"}a.r(e),a.d(e,{getPointStrokeColorDefaults:()=>i})},7345:(t,e,a)=>{a.r(e),a.d(e,{Combo:()=>ti});var i=a(498);var n=a.n(i);var r=a(4027);var o=a.n(r);var s=a(7248);var l=a(7249);var c=a(4028);var u=a(4019);var h=a(3989);var d=a(7231);var p=a(7273);var f=a(1115);var g=a(3976);var v=a(3975);var y=a(7267);var m=a(7269);var x=a(3941);var k=a(420);var b=a(7228);var S=a(4024);var T=a(4025);var C=a(7230);var _=a(7240);var L=a(7242);var w=a(7244);var E=a(7247);var A=a(7246);var O=a(1112);var G=a(7250);var I=a(7252);var P=a(7251);var D=a(7253);var R=a(4006);var B=a(4016);var M=a(4013);var j=a(7259);var V=a(1111);var W=a(4022);var H=a(7333);var N=a(7254);var U=a(7297);var z=a(7239);var F=a(3974);var Y=a(7262);var X=a(7334);var Z=a(7346);function q(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=Array(e);a<e;a++)i[a]=t[a];return i}function $(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function J(t,e,a){return(J="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,a){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=K(t)););return t}(t,e);if(i){var n=Object.getOwnPropertyDescriptor(i,e);return n.get?n.get.call(a||t):n.value}})(t,e,a||t)}function K(t){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Q(t,e){return(Q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function tt(t){return function(t){if(Array.isArray(t))return q(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return q(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);if("Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return q(t,e)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(0,F.putGraph)("line",Y.Line),(0,F.putGraph)("column-stacked",X.ColumnStacked),(0,F.putGraph)("column-g",Z.ColumnG);var te={curveLinear:y.default,curveMonotoneX:m.monotoneX,monotone:m.monotoneX};function ta(t){var e=t.graphs;return!!e&&e.some(function(t){return t.data.length>0})}var ti=function(t){"use strict";var e;!function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Q(t,e)}(i,t);var a=(e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t=K(i),a;if(e){var n=K(this).constructor;a=Reflect.construct(t,arguments,n)}else a=t.apply(this,arguments);var r;return(r=a)&&("object"==(r&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)||"function"==typeof r)?r:function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(this)});function i(){return!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,i),a.apply(this,arguments)}var r,m;return m=[{key:"getClassName",value:function(){return"Combo"}}],r=[{key:"render",value:function(){this.detectDimensions();var t=this.options;var e=this.getSheetData();var a=(0,T.formatHelper)(e);var i=this.runtime={components:{},metrics:{},layout:{},format:{y:function(){},y1:function(){}},width:t.width,height:t.height,inanimate:(0,S.inanimated)(t),sheet:e,formatter:a,xAxisTimeBased:e.categories.xAxisTimeBased};if(this.createTickIntervals(),i.graphData=this.prepareSheetData(e),(0,M.Controls)(this,{width:t.width}),(0,W.DownloadButton)(this,t.style.legend),i.legend=(0,B.legendHelper)({instance:this}),this.sheetsNotFound())return this.stopRender();var n=i.layout;if(n.margin=i.margin={top:0,right:0,bottom:0,left:0},n.marginTitle=i.marginTitle={left:0,right:0,top:0,bottom:0},n.marginAxis={top:0,right:0,bottom:0,left:0},n.spacing=i.spacing={maxBeforeXAxisTick:50,beforeBottomCategories:5,afterYAxisTick:5},n.bottomLabelPadding=i.bottomLabelPadding={right:2,left:2},i.categoryLayout=e.categories.layout,this.createYScale(),(0,_.domainInvalid)(i.yScale.domain())||(0,_.domainInvalid)(i.y1Scale.domain()))return this.stopRender();this.createLayout(),this.createXScale(),this.createCategoryLabels(),this.createGrid(),this.createTicks(),this.titleComponents(["y","y2"]),this.createDataPoints(),this.renderRoot()}},{key:"createYScale",value:function(){var t=this.runtime;var e=t.graphData,a=t.sheet;var i=a.axis[1];var r=a.axis[2];var o=e[0];var s=e[1];var l=!1;var c=this.getDomain(o.graphs,i),u=c.domain,d=c.limits;if(i.ticks=i.ticks&&ta(o),l=d,t.yScale=t.y1Scale=(0,h.default)().domain(u).clamp(d),n().get(s,"graphs.length")){var p=this.getDomain(s.graphs,r),f=p.domain,g=p.limits;l=l||g,r.ticks=r.ticks&&ta(s),t.y1Scale=(0,h.default)().domain(f).clamp(g)}t.hasRangeLimits=l}},{key:"yTicksMetrics",value:function(t,e){var a=this.options;return(0,O.getTextDimensions)(t,a.style.axis[e].tick)}},{key:"createLayout",value:function(){var t=this.runtime,e=this.options;var a=t.sheet,i=t.layout,n=t.metrics,r=t.yScale,s=t.y1Scale,l=t.yTickInterval,c=t.formatter;var u=i.margin,h=i.marginTitle,d=i.marginAxis,p=i.spacing;var f=a.axis[1];var g=a.axis[2];this.titleLayout(["y","y2"]),r.rangeRound(this.getRange(t.height)),s.rangeRound(this.getRange(t.height,"y1"));var v=r.copy().interpolate(x.default);var y=(0,z.ensureMinTicks)(r,l);var m=y.map(function(t){return v(t)});var k=t.format.y=c.axis.y.createTickFormatter(y,f);n.y0Ticks=this.yTicksMetrics(y.map(function(t){return k(t)}),"y"),f.ticks&&(d.left=n.y0Ticks.width+p.afterYAxisTick),u.top+=n.y0Ticks.baseLineOffset;var b=(this.isAxisInvert("y")?m[0]:m[m.length-1])-n.y0Ticks.height;if(b<0&&(u.top+=Math.abs(u.top+b)),g.ticks&&t.yScale!==t.y1Scale){var S=t.y1Ticks=m.map(function(t){return Number(new(o())(s.invert(t)).round(6).toString())});var T=t.format.y1=c.axis.y2.createTickFormatter(S,g);n.y1Ticks=this.yTicksMetrics(S.map(function(t){return T(t)}),"y2"),d.right=n.y1Ticks.width}var C=t.xTickMetrics=(0,O.getTextDimensions)([(0,O.firstNonEmpty)(a.categories.data)],e.style.axis.x.tick);h.right+d.right<.5*C.height&&(u.right+=.5*C.height-h.right-d.right),t.graphWidth=t.width-u.left-h.left-d.left-u.right-h.right-d.right;var _=t.graphHeight=t.height-t.margin.top-h.top-t.margin.bottom-h.bottom;t.limits={maxCategoryHeight:Math.floor(.28*_),categoryHeight:0},t.igcLeftOffset=u.left+h.left+d.left,i.igc={},i.igc.x=u.left+h.left+d.left,i.igc.y=u.top+h.top}},{key:"createXScale",value:function(){var t=this.runtime;var e=t.sheet,a=t.limits,i=t.bottomLabelPadding,n=t.graphWidth;var r=e.categories.data;if(t.xAxisTimeBased){var o=t.xDomain=(0,_.getTimeDomain)(r);t.xScale=(0,d.default)().domain(o).range([0,n],0)}else t.xScale=(0,p.default)().domain((0,s.default)(0,r.length)).range([0,n]).padding(.1),a.maxCategoryWidth=this.getCategoryWidth(t.xScale)-i.left-i.right;return t.xScaleResize=function(t,e){t.range(e)},t.xScale}},{key:"createGrid",value:function(){var t=this.options,e=this.runtime;var a=e.components,i=e.sheet,r=e.categories,o=e.layout,s=e.graphHeight,l=e.yTickInterval;var c=o.margin,u=o.marginTitle,h=o.marginAxis;var d=e.width-c.left-u.left-c.right-u.right;var p=(0,z.ensureMinTicks)(e.yScale,l);var f=a.yGridLines=(0,I.GridLines)().scale(e.yScale).orient(I.GridLines.ORIENTS.horizontal).tickSize(-d).highlightZero(i.grid.horizontalZeroHighlight).style(t.style.grid).offset({left:-h.left}).tickValues(p);if(!i.grid.horizontal){var g=n().get(i,"grid.horizontalZero",!1);g=g&&-1!==p.indexOf(0),f.tickValues(g?[0]:[])}var v=a.xGridLines=(0,I.GridLines)().scale(e.xScale).orient(I.GridLines.ORIENTS.vertical).tickSize(s).highlightZero(i.grid.verticalZeroHighlight).style(t.style.grid);e.hiddenLines&&e.hiddenLines.length&&v.hideLinesByIndex(e.hiddenLines),i.grid.vertical?v.tickValues(r.filterMetrics.domainIndex):v.tickValues([])}},{key:"createCategoryLabels",value:function(){var t=this.runtime,e=this.options;var a=t.yScale,i=t.y1Scale,n=t.sheet,r=t.limits,o=t.layout,l=t.components;var c=n.axis[0];var u=o.spacing,h=o.marginAxis;var d=n.categories.layout;var p=l.xAxisBottomText=(0,w.Bottom)().data([]).style(e.style.axis.x.tick);if(t.categoryLayout=d,c.ticks){var f=t.categories=w.Bottom.createLabels(this,d);var g=f.renderData;r.categoryHeight=f.height,h.bottom=t.limits.categoryHeight+u.beforeBottomCategories,t.graphHeight-=h.top+h.bottom,p.data(g).textAlign(g.textAlign)}else{var v=(0,z.getScalePositions)(t.xScale);var y=n.categories.data.slice(0);var m=E.getLimits.call(this,v);var x=e.style.axis.x.tick;var k=m.maxCategoryWidth;var b=(0,R.TextMetric)().style(x).text(y).run().out();var S=b.lineHeight;if(S>k&&b.text.width>k){var T=(0,L.stepFromPositionsByWidth)(v,S+A.ENTRY_SPACING);t.categories={filterMetrics:(0,L.filterToFit)(v,y,T,-1)}}else t.categories={filterMetrics:{domainIndex:(0,s.default)(0,v.length)}}}p.bounds({height:r.maxCategoryHeight,y:t.graphHeight+u.beforeBottomCategories});var C=t.graphHeight-1;a.rangeRound(this.getRange(C)),i.rangeRound(this.getRange(C,"y1"))}},{key:"createTicks",value:function(){var t=this.options,e=this.runtime;var a=e.sheet,i=e.yScale,n=e.y1Scale,r=e.components,o=e.metrics,s=e.format,l=e.graphWidth,c=e.layout,u=e.yTickInterval;var h=c.marginAxis;var d=a.axis[1];var p=a.axis[2];var f=o.y0Ticks;var g=r.yAxisLeftText=(0,G.Axis)().scale(i).orient("left").tickFormat(s.y).style(t.style.axis.y.tick).offset({left:-h.left}).textOffset(f?f.baseLineOffset-f.height:null).tickValues((0,z.ensureMinTicks)(i,u));d.ticks||g.tickValues([]);var v=r.yAxisRightText=(0,G.Axis)().scale(n).orient("right").offset({left:l+h.right}).style(t.style.axis.y2.tick);if(p.ticks&&i!==n){var y=o.y1Ticks;v.tickFormat(s.y1).tickValues(e.y1Ticks).textOffset(y.baseLineOffset-y.height)}else v.tickValues([])}},{key:"titleComponents",value:function(){b.AxisChart.prototype.titleComponents.apply(this,arguments);var t=this.runtime;var e=t.components,a=t.layout;var i=e.leftTitle,n=e.rightTitle;var r=a.margin;i.orientBounds({x2:t.width,x1:r.left,y2:t.height,y1:0}),n.orientBounds({x2:t.width-r.right,x1:0,y2:t.height,y1:0})}},{key:"createDataPoints",value:function(){var t;var e=this.options,a=this.runtime;var i=a.sheet,r=a.xScale,o=a.yScale,s=a.y1Scale,l=a.layout,c=a.graphData,u=a.graphWidth,h=a.graphHeight,d=a.hasRangeLimits;var p=l.margin,f=l.marginTitle,g=l.marginAxis;var v=n().get(i,"graphOptions",{}).dataPointRadius;var y=c[0].sameGraphTypes;var m=n().get(c,"[0].graphs[0]");var x=(null==m?void 0:m.type)==="line"||void 0===m&&"line"===n().get(c,"[1].graphs[0].type");var k=a.dataPointOptions={enabled:!0===e.series.dataPoints,radius:v,sameAxisGraphTypes:y&&x,x:r,y0:o,y1:s,pointStrokeColor:null===(t=i.style)||void 0===t?void 0:t.pointStrokeColor,svgContainer:this.root.node(),offset:{left:p.left+f.left+g.left,top:p.top+f.top},bounds:{width:u,height:h},source:"double"};d&&(k.pointRect={x:-6,y:-6,width:a.graphWidth+12,height:h+6})}},{key:"renderDataPoints",value:function(t){var e=this;var a,i;var n=this.runtime,r=this.chartId,o=this.interaction;var s=n.sheet,l=n.dataPointOptions,c=n.graphData,u=n.formatter,h=n.xAxisTimeBased;var d=(0,V.createStyledTooltip)(this);var p=u.tooltip.y.format;var g=u.tooltip.y2.format;var v=[];var y=h?(0,C.createTimeFormat)(null==s?void 0:null===(i=s.axis)||void 0===i?void 0:null===(a=i[0])||void 0===a?void 0:a.timeFormat):function(t){return t};if(l.enabled&&t.selectAll(".igc-graph-group").each(function(t){(0,f.default)(this).selectAll(".igc-graph").each(function(e){if(t){var a=e.yAxisIndex;if("line"===e.type){var i=1===a?g:p;var n=(0,D.Circle)().scaleX(t.x).scaleY(t.axis[a].y).data(e.data).colors(e.colors).groupId(e.seriesIdx).chartId(r).filterFn(function(t){return null!==t.x&&null!==t.y}).legend(t.legend).tooltip(d).tooltipText(function(t){return"".concat(t.xLabel,": ").concat(i(t.yLabel))}).tooltipValue(function(t){return y(t.categoryLabel)}).strokeColor(l.pointStrokeColor).animate(!1);n.dispatch().on("openUrl",function(t){return(0,O.openUrl)(t,o)}),(0,f.default)(this).call(n)}}})}),t.selectAll(".igc-crosshair-overlay").remove(),t.selectAll(".igc-crosshair-circle").remove(),l.sameAxisGraphTypes){c.forEach(function(t,e){t&&t.graphs&&t.graphs.forEach(function(t){v.push.apply(v,tt(t.data.map(function(a){return a.colors=t.colors,a.scale=0===e?"y":"y1",a})))})});var m=(0,P.Crosshair)().data(v.filter(function(t){return null!==t.x&&null!==t.y})).scaleX(l.x).scaleY(l.y0).scaleY1(l.y1).offset(l.offset).bounds(l.bounds).svgContainer(l.svgContainer).targetParent(t).chartId(r).strokeColor(l.pointStrokeColor).tooltip(d).tooltipText(function(t){var e="y1"===t.scale?g(t.yLabel):p(t.yLabel);return"".concat(t.xLabel,": ").concat(e)}).tooltipValue(function(t){return y(t.categoryLabel)}).pointRect(l.pointRect);m.dispatch().on("openUrl",function(t){return(0,O.openUrl)(t,e.interaction)});var x=t.selectAll(".igc-crosshair-overlay").data([0]);x.enter().append("rect").attr("x",0).attr("y",0).attr("height",l.bounds.height).attr("width",l.bounds.width).attr("class","igc-crosshair-overlay"),x=t.selectAll(".igc-crosshair-overlay").styles({"stroke-width":"0px","fill-opacity":0}),this.tooltipEnabled()&&(m.target(x),x.call(m))}}},{key:"renderOverlays",value:function(t,e){var a=this.runtime;var i=a.graphWidth,n=a.graphHeight,r=a.hasRangeLimits,o=a.inanimate;r&&this.graphsSetupClipPath(t,e,{x:-6,y:-6,width:i+12,height:n+6,clipPathId:"igc-graph-column-"+this.chartId,targetClass:"igc-graph-column"});var s="igc-cp-line-".concat(this.chartId);var l={x:-6,y:-6,width:i+12,height:n+12,clipPathId:s,targetClass:"igc-graph-line"};this.graphsSetupClipPath(t,e,l),e.select("#".concat(s)).selectAll("path").attr("transform","translate(".concat(-(l.width-l.x),", 0)")).transition().duration(o?0:500).ease(g.linear).attr("transform","translate(0, 0)")}},{key:"renderRoot",value:function(){var t=this;var e;var a=this.options,i=this.root,n=this.runtime;var r=new j.Renderer({instance:this});var o=n.sheet;var s=n.legend,l=n.layout,c=n.graphData,u=n.components;var h=l.margin,d=l.marginTitle,p=l.marginAxis;var f=u.xGridLines,g=u.yGridLines,y=u.yAxisLeftText,m=u.yAxisRightText,x=u.leftTitle,k=u.rightTitle,b=u.xAxisBottomText;var T=c[0];var C=c[1];var _=tt(T.graphs);C.graphs&&_.push.apply(_,tt(C.graphs)),_.sort(function(t,e){var a=0;return"line"===t.type&&("column-g"===e.type||"column-stacked"===e.type)&&(a=1),("column-g"===t.type||"column-stacked"===t.type)&&"line"===e.type&&(a=-1),a});var L=n.height-h.top-d.top-p.top-h.bottom-d.bottom-p.bottom;var w=h.top-d.top-p.top;var E=this.createAnimationCounter(2);l.igc.x=n.igcLeftOffset,n.inanimate&&(0,S.removeAnimation)([x,k,y,m,b,f,g]),this.containerSetup();var A=i.select("defs");var O=i.select(".igc");r.add(function(){i.attr("width",n.width).attr("height",n.height).transition().ease(v[t.options.animation.ease]).duration(t.options.animation.duration).on("start",function(){t.events.call("startAnimation")}).on("end",function(){E()}),O.attr("transform","translate(".concat(l.igc.x,",").concat(l.igc.y,")"))}),r.addGrid(g,"igc-ygrid"),r.addGrid(f,"igc-xgrid"),r.addGraph([{graphs:_,x:n.xScale,legend:s,bounds:{width:n.graphWidth,height:L},offset:{x:n.igcLeftOffset,y:w},animationEnd:E,dataPointOptions:{enabled:!1},textStyle:a.style.graph.item.value,axis:[{y:n.yScale,columnGroupCount:T.columnGroupCount,allColumnCount:T.allColumnCount,groupOffset:0,sameGraphTypes:T.sameGraphTypes,graphCount:T.graphs.length,stackCount:T.stackGraphs?T.stackGraphs.length:0},{y:n.y1Scale,columnGroupCount:C.columnGroupCount,allColumnCount:C.allColumnCount,groupOffset:T.columnGroupCount,sameGraphTypes:C.sameGraphTypes,graphCount:C.graphs?C.graphs.length:0,stackCount:C.stackGraphs?C.stackGraphs.length:0}],pointStrokeColor:null===(e=o.style)||void 0===e?void 0:e.pointStrokeColor}]),r.add(function(){t.renderOverlays(O,A)}),r.add(function(){t.renderDataPoints(O)}),r.addGrid(y,"igc-y0-axis-text"),r.addGrid(m,"igc-y1-axis-text"),r.addTitle(x,"igc-title-left"),r.addTitle(k,"igc-title-right"),r.addGrid(b,"igc-x-axis-text"),r.start()}},{key:"renderGraphs",value:function(t,e){var a=".igc-graph-group";var i=".igc-graph";var r=(0,V.createStyledTooltip)(this);var o=this.interaction;var s=this.runtime,c=s.inanimate,u=s.formatter;t.selectAll(a).remove();var h=t.selectAll(a).data(e);var d=(h=h.merge(h.enter().append("g").attr("class",a.slice(1)))).selectAll(i).data(function(t){return t.graphs},function(t){return t.stackIndex||0});d=d.merge(d.enter().append("g").attr("class",i.slice(1)));var p=e.reduce(function(t,e){return t+(e.graphs&&e.graphs.length||0)},0);var v=e.reduce(function(t,e){return t+(e.graphs&&(0,l.default)(e.graphs,function(t){return"line"!==t.type?1:0})||0)},0);var y=n().get(e,"[0].animationEnd");0===p&&y&&y();var m=n().after(p,function(){y&&y()});var x=e[0].dataPointOptions;var b=[];var S=n().after(v,function(){var t=b.reduce(function(t,e){return t.push.apply(t,tt(e.instance.data())),t},[]);var e=n().get(b,"[0]");var a=e.instance,i=e.group,r=e.graphObj,o=e.axisGroup,s=e.g,l=e.isStacked;var h=(0,N.createColumnLabelRenderer)({textStyle:i.textStyle,showValues:r.showValues,scale:o.y,isWaterfall:!1,isStacked:l,valuesOutside:!1,textFormat:function(t){return u.labels.format(t.text)},transitionTiming:{duration:{text:c?0:50}},addMouseEvents:a.addMouseEvents(),listenToLegendText:(0,B.createListenToLegend)({easing:g.linear,ns:"text",dispatch:a.dispatch()})});var d=(0,f.default)(s.node().parentNode);d.selectAll(".igc-graph-labels").remove(),h(d.insert("g",".igc-graph-line").classed("igc-graph-labels",!0),t).then(function(){b.forEach(function(){m()})})});var T=this.chartId;var C=this.options.animation.duration;var _=H.ColumnStacked.prototype.graphData.bind(this);var L=this.graphDataColumnGrouped.bind(this);d.call(function(t){t._groups.forEach(function(t,a){t.forEach(function(t){var i=(0,f.default)(t);var n=t.__data__;var s=n.type,l=n.yAxisIndex,h=n.colors;var d="column-stacked"===s;var p="column-g"===s;var v=(0,F.getGraph)(s);if(v){var y=e[a];var w=y.axis[l];var E=y.legend;var A=1===l?u.tooltip.y2:u.tooltip.y;var G=function(t){return"".concat(t.xLabel,": ").concat(A.format(t.yLabel))};var I=function(t){return t.categoryLabel};var P=v();if("line"===s&&(P.chartId(T).groupId(n.seriesIdx).scaleX(y.x).scaleY(w.y).data(n.data).colors(h).tooltip(r).legend(E).interpolate(n.interpolation).animate(!1).dataPointOptions(x).tooltipText(G).strokeWidth(n.style.strokeWidth).strokeStyle(n.style.strokeStyle).tooltipValue(I),i.classed("igc-graph-line",!0),P.dispatch().on("animationEnd",m)),p||d){var D=w.columnGroupCount,R=w.allColumnCount,M=w.groupOffset,j=w.stackCount;p?P.transitionDelay(function(t){return t.group/D*500}):P.scaleY(w.y).transitionDelay(function(t){return t.stackIndex/j*(C-200)}),c&&(P.transitionDelay(function(){return 0}),P.transitionDuration(C));var V=(d?_:L)({data:n.data,colors:h,groupOffset:M,groupCount:R,yScale:w.y});var W=(0,k.default)("highlightStart","highlightEnd","animationStart","animationUpdateStart","animationEnterStart","animationEnd","animationUpdateEnd","animationEnterEnd","animationTextEnd","openUrl");E&&E.data().forEach(function(t){E.addListener({id:"".concat(T,"_").concat(t.groupId),dispatch:W})});var H=(0,B.createListenToLegend)({easing:g.linear,ns:"shape",dispatch:W});var U=(0,N.createAddMouseEvents)({dispatch:W,legend:E,tooltip:r,chartId:T,tooltipText:G,tooltipValue:I,colors:h});P.data(V).listenToLegend(H).addMouseEvents(U).dispatch(W),i.classed("igc-graph-column",!0),P.dispatch().on("openUrl",function(t){return(0,O.openUrl)(t,o)}),P.dispatch().on("animationEnd",function(){b.push({instance:P,group:y,graphObj:n,axisGroup:w,g:i,isStacked:d}),S()})}i.call(P)}})})})}},{key:"isAxisInvert",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y";return!!n().get(this.runtime,"sheet.axis[".concat(["y","y1"].indexOf(t)+1,"].invert"),!1)}},{key:"getRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"y";return this.isAxisInvert(e)?[0,t]:[t,0]}},{key:"getDomain",value:function(t,e){var a=[(0,c.default)(t,function(t){return"column-stacked"===t.type?(0,l.default)(t.data,function(t){return t.y<0?t.y:0}):(0,c.default)(t.data,function(t){return t.y})}),(0,u.default)(t,function(t){return"column-stacked"===t.type?(0,l.default)(t.data,function(t){return t.y>0?t.y:0}):(0,u.default)(t.data,function(t){return t.y})})];(0,_.ensureZeroEqual)(a),(0,_.ensureZero)(a),a=(0,h.default)().domain(a).nice(10).domain(),(0,_.orderLimits)(e);var i=(0,_.hasLimits)(e)&&(0,_.limit)(e,a);return i&&(0,_.ensureZeroEqual)(a),{domain:a,limits:i}}},{key:"getCategoryWidth",value:function(t){if(0===t.domain().length)return 0;if(1===t.domain().length)return this.runtime.graphWidth;var e=t.domain().map(function(e){return t(e)+.5*t.bandwidth()});return e[1]-e[0]}},{key:"emptySheetData",value:function(){return n().merge({},J(K(i.prototype),"emptySheetData",this).call(this),{series:[{title:"",type:"column-g",axisIndex:1},{title:"",type:"line"}],axis:[{title:"",ticks:!0},{title:"",ticks:!0,tickInterval:10},{title:""}],graphOptions:{dataPointRadius:5},style:{pointStrokeColor:"#ffffff"}})}},{key:"prepareSheetData",value:function(t){var e=n().cloneDeep(t.axis);var a={};var i=0;var r=(0,B.createLegendData)(this);var o=this.runtime.xAxisTimeBased;return t.series.forEach(function(s,l){var c=1;(0,O.isBlank)(s.axisIndex)||(c=s.axisIndex);var u=e[c];if(u&&(u.graphs||(u.graphs=[],u.columnGroupCount=0,u.types={}),s.data)){var h=n().get(s,"index",l);if(u.types[s.type]=void 0===u.types[s.type]?1:++u.types[s.type],"column-stacked"===s.type){1===u.types[s.type]&&(u.stackGraphs=t.categories.data.map(function(e,a){return{type:"column-stacked",title:(0,O.replaceBlank)(s.title),link:s.titleLink,data:[],colors:[(0,O.getColor)(l,t.categories.colors)],seriesIdx:l,showValues:u.showValues,yAxisIndex:c-1,group:u.columnGroupCount,allColumnCount:i,stackIndex:a}}),u.columnGroupCount++,i++),s.data.forEach(function(e,a){var i=t.categories.data[a];if(void 0!==i){var n=(0,O.getColor)(h,t.categories.colors);var o=(0,O.replaceBlank)(s.title);if(r({title:o,color:n,groupId:h}).active){var l=u.stackGraphs[a];l.data.push({x:a,y:(0,O.replaceBlank)(e,null),yLabel:(0,O.replaceBlank)(s.rawData[a]),xLabel:o,categoryLabel:(0,O.replaceBlank)(i),seriesIdx:h,group:l.group,link:s.links?s.links[a]:null,color:n,stackIndex:l.stackIndex})}}}),a[s.type]=!0;return}var d={type:s.type,title:(0,O.replaceBlank)(s.title),link:s.titleLink,data:[],colors:[(0,O.getColor)(h,t.categories.colors)],seriesIdx:h,showValues:u.showValues,yAxisIndex:c-1};if(r({title:d.title,color:d.colors[0],groupId:d.seriesIdx}).active&&(d.data=t.categories.data.map(function(t,e){var a=e;return o&&(a=t),{x:a,y:s.data?(0,O.replaceBlank)(s.data[e],null):null,yLabel:(0,O.replaceBlank)(s.rawData[e]),xLabel:(0,O.replaceBlank)(s.title),categoryLabel:(0,O.replaceBlank)(t),seriesIdx:d.seriesIdx,group:u.columnGroupCount,columnGroup:i,link:s.links?s.links[e]:null}})),a[s.type]=!0,"line"===s.type){var p=t.categories.styles;d.interpolation=te[s.interpolation]||y.default,d.style=(0,O.getCategoryStyle)(h,p,{strokeWidth:2})}"column-g"===s.type&&d.data.length&&(u.columnGroupCount++,i++),u.graphs.push(d)}}),e.shift(),e.forEach(function(t){if(void 0===t.graphs&&(t.graphs=[]),t.stackGraphs&&0===(0,l.default)(t.stackGraphs,function(t){return t.data.length})&&(t.columnGroupCount--,i--),t.sameGraphTypes=1===n().size(a),t.allColumnCount=i,t.stackGraphs){var e;(e=t.graphs).push.apply(e,tt(t.stackGraphs))}}),e}},{key:"applySheetOptions",value:function(t){t&&this.options.sheets.forEach(function(e,a){var i=t[a+1]||t[0];i.categories&&n().merge(e.categories,i.categories),i.grid&&n().merge(e.grid,i.grid),i.legend&&n().merge(e.legend,i.legend),i.axis&&i.axis.length&&n().merge(e.axis,i.axis),i.tooltip&&(e.tooltip=e.tooltip||{},n().merge(e.tooltip,i.tooltip)),i.labels&&(e.labels=e.labels||{},n().merge(e.labels,i.labels)),n().merge(e.graphOptions,i.graphOptions),e.series.forEach(function(t,e){var a=n().get(t,"index",e);n().merge(t,n().get(i,"series[".concat(a,"]"),{}))}),i.style&&(e.style=i.style)})}},{key:"defaults",value:function(){return n().merge({},J(K(i.prototype),"defaults",this).call(this),{animation:{duration:800}})}},{key:"graphDataColumnGrouped",value:function(t){var e=this.runtime,a=e.xScale;return function(t){var e=t.xScale,a=t.yScale,i=t.data,n=t.colors,r=t.groupCount,o=t.groupOffset;var l=e.bandwidth();var c=[];if(i.forEach(function(t,i){var r=c[i]={};r.x=t.x,r.xPos=e(i),r.xLabel=t.xLabel,r.height=a(0)-a(t.y),r.y=t.y,r.yPos=a(0)+(r.height<0?1:0),r.yLabel=t.yLabel,r.categoryLabel=t.categoryLabel,r.group=t.group,r.width=l,r.seriesIdx=t.seriesIdx,r.color=(0,O.getColor)(t.group,n),r.index=i,r.link=t.link}),r>1){var u=(0,U.Ordinal)().domain((0,s.default)(0,r));c.forEach(function(t){var e=t.xPos;var a=2;var i=1===r?l:l/r;var n=2*r/r;i-n>=1?i-=n:a=0,u.rangeBandsByWidth(i,a,a/2),t.xPos=e+u(o+t.group),t.width=u.bandwidth()})}return c}(function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};var i=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(a).filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),i.forEach(function(e){var i;i=a[e],e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i})}return t}({yScale:e.yScale,xScale:a},t))}}],$(i.prototype,r),m&&$(i,m),i}(b.AxisChart)},7346:(t,e,a)=>{a.r(e),a.d(e,{ColumnG:()=>c});var i=a(498);var n=a.n(i);var r=a(1115);var o=a(3984);var s=a(3968);var l=a(1112);function c(){var t=function(t){f.duration.y=g,0===g&&(f.duration.x=g),t.each(function(){if(!u.length){v.call("animationStart"),v.call("animationUpdateStart"),v.call("animationUpdateEnd"),v.call("animationEnterStart"),v.call("animationEnterEnd"),v.call("animationEnd");return}var t=(0,r.default)(this);var i=t.selectAll("path");i.transition().duration(0);var n=e(i);a(n[0]),c(t,n)})};var e=function(t){var e=[];return t.each(function(t){var a=n().merge({},t);e.push(a)}),(0,l.pairData)(e,u,function(t){t.height=0}),e};var a=function(t){var e={y:["yPos","height"]};var a;var i;var n;if(t){var r=t.next;for(a in f.duration)e[a]&&(i=e[a].length,n=0,e[a].forEach(o),i===n&&"y"!==a&&(f.duration[a]=0))}function o(e){.2>Math.abs(t[e]-r[e])&&n++}};var i=function(t,e){var a=0;t.style("fill",function(t){return t.color}).style("stroke-width",0).attr("d",function(t){return h(t.xPos,t.yPos,t.width,0,0)}),t.transition().duration(g).ease(o.elasticOut).delay(function(){return y+p.apply(this,arguments)}).on("start",function(){0===a&&v.call("animationEnterStart"),a++}).attrTween("d",d(function(t){return t.next})).on("end",function(){0==--a&&e()})};var c=function(t,e){var a=t.selectAll("path").data(e);a.exit().remove(),a.style("fill",function(t){return t.next.color}).style("stroke-width",0);var n=a.enter().insert("path","text");var r=0===a.size()&&n.size()>0;var o=f.duration;var s=0;r?(v.call("animationStart"),v.call("animationUpdateStart"),v.call("animationUpdateEnd"),n.call(i,function(){a=a.merge(n),v.call("animationEnterEnd"),v.call("animationEnd"),m(a),x(a)})):(v.call("animationStart"),v.call("animationUpdateStart"),a.transition().duration(o.y).attrTween("d",d(function(t){return{yPos:t.next.yPos,xPos:t.xPos,height:t.next.height,width:t.width}})).transition().duration(o.x).on("start",function(){s++}).attrTween("d",d(function(t){return t.next})).on("end",function(){if(0==--s){if(v.call("animationUpdateEnd"),v.call("animationEnterStart"),0===n.size()){v.call("animationEnterEnd"),v.call("animationEnd"),m(a),x(t.selectAll("path"));return}n.call(i,function(){v.call("animationEnterEnd"),v.call("animationEnd"),m(a.merge(n)),x(t.selectAll("path"))})}}))};var u=[];var h=s.columnToTop;var d=(0,s.createTweenShape)(h,"y");var p=0;var f={duration:{x:700,y:400}};var g=700;var v;var y=0;var m;var x;return Object.assign(t,{data:function(e){return arguments.length?(u=e,t):u},transitionDelay:function(e){return arguments.length?(p=e,t):p},transitionDuration:function(e){return arguments.length?(g=e,t):g},transitionTiming:function(e){return arguments.length?(f=e,t):f},renderDelay:function(e){return arguments.length?(y=e,t):y},dispatch:function(e){return arguments.length?(v=e,t):v},listenToLegend:function(e){return arguments.length?(m=e,t):m},addMouseEvents:function(e){return arguments.length?(x=e,t):x}}),t}},7281:(t,e,a)=>{function i(t,e){var a,i;var n=null==e?void 0:null===(i=e.graphs)||void 0===i?void 0:null===(a=i.line)||void 0===a?void 0:a.style;n&&(t.categories.styles=n)}a.r(e),a.d(e,{default:()=>i})},7267:(t,e,a)=>{function i(t){this._context=t}function n(t){return new i(t)}a.r(e),a.d(e,{default:()=>n}),i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}}},7269:(t,e,a)=>{function i(t,e,a){var i=t._x1-t._x0,n=e-t._x1,r=(t._y1-t._y0)/(i||n<0&&-0),o=(a-t._y1)/(n||i<0&&-0);return((r<0?-1:1)+(o<0?-1:1))*Math.min(Math.abs(r),Math.abs(o),.5*Math.abs((r*n+o*i)/(i+n)))||0}function n(t,e){var a=t._x1-t._x0;return a?(3*(t._y1-t._y0)/a-e)/2:e}function r(t,e,a){var i=t._x0,n=t._y0,r=t._x1,o=t._y1,s=(r-i)/3;t._context.bezierCurveTo(i+s,n+s*e,r-s,o-s*a,r,o)}function o(t){this._context=t}function s(t){this._context=new l(t)}function l(t){this._context=t}function c(t){return new o(t)}function u(t){return new s(t)}a.r(e),a.d(e,{monotoneX:()=>c,monotoneY:()=>u}),o.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:r(this,this._t0,n(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var a=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,r(this,n(this,a=i(this,t,e)),a);break;default:r(this,this._t0,a=i(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=a}}},(s.prototype=Object.create(o.prototype)).point=function(t,e){o.prototype.point.call(this,e,t)},l.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,a,i,n,r){this._context.bezierCurveTo(e,t,i,a,r,n)}}},7263:(t,e,a)=>{a.r(e),a.d(e,{default:()=>l});var i=a(7265);var n=a(7264);var r=a(7266);var o=a(7267);var s=a(7268);function l(t,e){var a=function(a){var r,o=(a=(0,n.default)(a)).length,s,d=!1,p;for(null==c&&(h=u(p=(0,i.path)())),r=0;r<=o;++r)!(r<o&&l(s=a[r],r,a))===d&&((d=!d)?h.lineStart():h.lineEnd()),d&&h.point(+t(s,r,a),+e(s,r,a));if(p)return h=null,p+""||null};var l=(0,r.default)(!0),c=null,u=o.default,h=null;return t="function"==typeof t?t:void 0===t?s.x:(0,r.default)(t),e="function"==typeof e?e:void 0===e?s.y:(0,r.default)(e),a.x=function(e){return arguments.length?(t="function"==typeof e?e:(0,r.default)(+e),a):t},a.y=function(t){return arguments.length?(e="function"==typeof t?t:(0,r.default)(+t),a):e},a.defined=function(t){return arguments.length?(l="function"==typeof t?t:(0,r.default)(!!t),a):l},a.curve=function(t){return arguments.length?(u=t,null!=c&&(h=u(c)),a):u},a.context=function(t){return arguments.length?(null==t?c=h=null:h=u(c=t),a):c},a}},7268:(t,e,a)=>{function i(t){return t[0]}function n(t){return t[1]}a.r(e),a.d(e,{x:()=>i,y:()=>n})}}]);