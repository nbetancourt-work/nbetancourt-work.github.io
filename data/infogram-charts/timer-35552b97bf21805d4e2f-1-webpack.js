(self.webpackChunkbackend=self.webpackChunkbackend||[]).push([[68],{7433:(t,e,r)=>{r.r(e),r.d(e,{Timer:()=>p});var n=r(498);var i=r.n(n);var o=r(3920);var a=r(4024);var s=r(7259);var c=r(4016);var u=r(7434);function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p=function(t){"use strict";var e;!function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(n,t);var r=(e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t=h(n),r;if(e){var i=h(this).constructor;r=Reflect.construct(t,arguments,i)}else r=t.apply(this,arguments);var o;return(o=r)&&("object"==(o&&"undefined"!=typeof Symbol&&o.constructor===Symbol?"symbol":typeof o)||"function"==typeof o)?o:function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(this)});function n(t){return!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,n),r.call(this,t,"div")}var o,p;return p=[{key:"getClassName",value:function(){return"Timer"}}],o=[{key:"render",value:function(){var t=this;var e=this.options;var r=e.sheets[0];if(!r)return this.events.call("startAnimation"),this.events.call("endAnimation"),this.resetRootElement();var n=r.categories,o=n.title,l=n.colors;var h=new s.Renderer({instance:this});var f=this.emptySheetData().legend;var p,d;this.runtime={width:e.width,height:e.height,sheet:{legend:(p=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};var n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),n.forEach(function(e){var n;n=r[e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n})}return t}({},f),d=d={enabled:!!(o&&o.length)},Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(d)):(function(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r.push.apply(r,n)}return r})(Object(d)).forEach(function(t){Object.defineProperty(p,t,Object.getOwnPropertyDescriptor(d,t))}),p)},inanimate:(0,a.inanimated)(e)},(0,c.createLegendData)(this)({title:!1===o?"":o,color:l[0],groupId:0}),(0,c.legendHelper)({instance:this});var m=i().has(e,"style.legend.font-family")?{"font-family":i().get(e,"style.legend.font-family")}:{};var v={node:this.container.node(),time:new Date(r.value),format:r.format,units:r.units,mode:r.mode,width:r.width,textStyle:{digits:i().merge({},i().get(e,"style.graph.digits",{}),{color:l[0]},m),text:i().merge({},i().get(e,"style.graph.text",{}),{color:l[1]},m)},animate:!this.runtime.inanimate};this.events.call("startAnimation"),this.timer?this.timer.update(v):(this.timer=new u.Timer(v),this.timer.start()),h.start(),setTimeout(function(){t.events.call("endAnimation")},500)}},{key:"applySheetOptions",value:function(t){t&&this.options.sheets.forEach(function(e,r){var n=t[r+1]||t[0];n.categories&&i().merge(e.categories,n.categories),e.format=n.format})}}],l(n.prototype,o),p&&l(n,p),n}(o.Chart)},7434:(t,e,r)=>{r.r(e),r.d(e,{Timer:()=>w});var n=r(498);var i=r.n(n);var o=r(454);var a=r.n(o);var s=r(1115);var c=r(703);var u=r.n(c);var l=r(1112);function h(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var f=[];var p=["years","months","days","hours","minutes","seconds"];var d;var m=0;function v(){10==m++&&(f.forEach(function(t,e){t.active&&document.body.contains(t.options.node)||(t.active=!1,f.splice(e,1))}),m=0),f.forEach(function(t){t.active&&t.render()})}function g(t,e){var r;return a()((h(r={},"igc-timer-".concat(t),!0),h(r,"igc-timer-transition",e),r))}function y(t,e,r){var n={};return p.forEach(function(i,o){var a=e.diff(t,i);(!r||r[o])&&t.add(a,i),n[i]={value:a,name:i}}),n}function b(t){var e={};return p.forEach(function(r,n){e[r]={value:t[n],name:r}}),e}function O(t){return Object.keys(t).map(function(e){return"".concat(e,": ").concat(t[e],";")}).join("")}function w(t){this.configure(t),this.shouldLayout=!0}w.prototype.update=function(t){this.configure(t),this.shouldLayout=!0,this.prevTime=null,this.start()},w.prototype.configure=function(t){i().has(this,"options.format")&&delete this.options.format,this.options=i().merge(this.options||{},{width:parseFloat(window.getComputedStyle(t.node).getPropertyValue("width")),textStyle:{digits:{color:"#000"},text:{color:"#666"}}},t)},w.prototype.start=function(){(this.render(),this.options.animate&&"asis"!==this.options.mode)?(-1===f.indexOf(this)&&f.push(this),d||(d=setInterval(v,1e3)),this.active=!0):this.active=!1},w.prototype.render=function(){var t=this.options.time;var e;switch(this.options.mode){case"up":e=this.getUnitsToCountUpFrom(t);break;case"down":e=this.getUnitsToCountDownTo(t);break;case"asis":e=this.getUnitsForFixedTime(t)}(0,l.requestAnimationFrame)(this.renderUnits.bind(this,e))},w.prototype.getUnitsToCountUpFrom=function(t){var e=u()(new Date);var r=u()(t);var n;return n=e>r?y(r,e,this.options.format):b([0,0,0,0,0,0]),this.translateUnitNames(n)},w.prototype.getUnitsToCountDownTo=function(t){var e=u()(new Date);var r=u()(t);var n;return n=e<r?y(e,r,this.options.format):b([0,0,0,0,0,0]),this.translateUnitNames(n)},w.prototype.getUnitsForFixedTime=function(t){var e=u()(t);var r;return r=e.isValid()?[e.year(),e.month()+1,e.date(),e.hours(),e.minutes(),e.seconds()]:[0,0,0,0,0,0],this.translateUnitNames(b(r))},w.prototype.translateUnitNames=function(t,e){var r={};var n=e||this.options.units||p;return p.forEach(function(e,i){r[e]=t[e],r[e].title=n[i]}),r},w.prototype.getRootStyle=function(){var t={};return i().has(this.options,"textStyle.digits.font-family")&&(t["font-family"]=i().get(this.options,"textStyle.digits.font-family")),t},w.prototype.checkIfSplit=function(t){var e=t._groups[0]||[];var r=t._groups[1]||[];return!!e[0]&&!!r[0]&&!this.dontShowTime&&(e&&e[0]&&e[0].getBoundingClientRect().top)!==(r&&r[0]&&r[0].getBoundingClientRect().top)},w.prototype.getClassAttr=function(t){var e=["igc-root","igc-timer"];return e.push("igc-timer-"+this.options.mode),this.options.width<200?e.push("igc-timer-xsmall"):this.options.width<300?e.push("igc-timer-small"):this.options.width<420&&e.push("igc-timer-medium"),this.shouldLayout&&e.push("igc-timer-should-layout"),this.isSplit&&e.push("igc-timer-is-split"),(""+t.years.value).length>2&&e.push("igc-timer-longyear"),this.dontShowTime&&e.push("igc-timer-no-time"),e.join(" ")},w.prototype.renderItemHtml=function(t){var e=this.options.textStyle,r=e.text,n=e.digits;var o;var a=String(o=t.value).length>=2?o:("0000"+o).substr(-2);var s=i().escape(t.title);return"<span class='igc-timer-value' style='".concat(O(n),"'>").concat(a,"</span><span class='igc-timer-title' style='").concat(O(r),"'>").concat(s,"</span>")},w.prototype.setSecondWidth=function(){var t=this.options.node.querySelector(".igc-timer-seconds");if(t){var e=parseFloat(window.getComputedStyle(t).getPropertyValue("width"))||30;t.style.width="".concat(e,"px")}},w.prototype.renderUnits=function(t){var e=this.options,r=e.format,n=e.animate;var i=function(t,e){var r;var n;if(n=function(t,e){var r=t.slice();var n=t.length;var i;for(i=0;i<n&&"hours"!==t[i].name&&(!t[i]||!t[i].value)&&!e;i++)r=t.slice(i+1);return r}(p.map(function(e){return t[e]}),e),e){var i=[];r=[],n.forEach(function(t,n){e[n]&&(n<3?i.push(t):r.push(t))}),n=i}else r=n.splice(-3);var o=[];return n.length&&o.push({group:"date",data:n}),r.length&&o.push({group:"time",data:r}),o}(t,r);var o,a;this.shouldLayout&&(this.dontShowTime="asis"===this.options.mode&&!t.hours.value&&!t.minutes.value&&!t.seconds.value,this.classAttr=this.getClassAttr(t)),(0,s.default)(this.options.node).selectAll(".igc-timer-group").remove(),(a=(o=(o=(0,s.default)(this.options.node).select(".igc-root").attr("class",this.classAttr).styles(this.getRootStyle()).selectAll(".igc-timer-group").data(i)).merge(o.enter().append("div").attr("class",function(t){return"igc-timer-group igc-timer-group-".concat(t.group)}))).selectAll("div").data(function(t){return t.data})).exit().remove();var c=(a=a.merge(a.enter().append("div").html(this.renderItemHtml.bind(this)))).filter((function(t){return!this.prevTime||this.prevTime[t.name].value!==t.value}).bind(this)).attr("class",function(t){return g(t.name,n)}).html(this.renderItemHtml.bind(this));n&&setTimeout(function(){c.attr("class",function(t){return g(t.name,!1)})},0),this.prevTime=t,this.shouldLayout&&(this.isSplit=this.checkIfSplit(a,t),this.shouldLayout=!1,this.classAttr=this.getClassAttr(t),this.render(),this.setSecondWidth())}},4024:(t,e,r)=>{r.r(e),r.d(e,{inanimated:()=>o,removeAnimation:()=>a,removeDelay:()=>s});var n=r(498);var i=r.n(n);function o(t){return 0===i().get(t,"animation.duration")}function a(t){t.forEach(function(t){if(i().has(t,"animationDuration")){t.animationDuration(0);return}i().has(t,"animate")&&t.animate(!1)})}function s(t,e){return i().get(t,"runtime.inanimate")?function(){return 0}:e}},7259:(t,e,r)=>{function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}r.r(e),r.d(e,{Renderer:()=>i});var i=function(){"use strict";function t(e){if(!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,t),!e.instance)throw Error("No instance provided");this.renderables=[],this.instance=e.instance}var e,r;return e=[{key:"start",value:function(){var t=this.instance;var e=t.root;var r=e.select(".igc");var n={igc:r,grid:r.select(".igc-grid"),title:e.select(".igc-titles")};this.renderables.forEach(function(e){if("function"==typeof e){e();return}if("object"==typeof e){if(-1!==["grid","title"].indexOf(e.parent)){t.renderPart(n[e.parent],e.callable,e.className);return}if("igc"===e.parent){t.renderGraphs(n.igc,e.callable);return}t.renderPart(e.parent,e.callable,e.className)}})}},{key:"add",value:function(t){return this.renderables.push(t),t}},{key:"addGrid",value:function(t,e){var r={callable:t,className:e,parent:"grid"};return this.add(r),r}},{key:"addTitle",value:function(t,e){var r={callable:t,className:e,parent:"title"};return this.add(r),r}},{key:"addParent",value:function(t,e,r){var n={callable:e,className:r,parent:t};return this.add(n),n}},{key:"addGraph",value:function(t){var e={callable:t,parent:"igc"};return this.add(e),e}}],n(t.prototype,e),r&&n(t,r),t}()},7432:(t,e,r)=>{r.r(e),r.d(e,{default:()=>u});var n=r(498);var i=r.n(n);var o=r(7433);var a=r(7276);var s=r(370);var c=Object.assign({},a.default);c.instanceClass=o.Timer,c.setupChartOptionsDimensions=function(){},c.setupChartOptions=function(){a.default.setupChartOptions.call(this),this.chartOptions.width=s(this.chartOptions.container).width()},c.setupChartSheetOptionsItem=function(t){var e=this.sheetOptionsItemDefaults(t);return this.colors[0]===this.themeColors[0]&&this.colors[1]===this.themeColors[1]&&i().set(e,"categories.colors",i().merge([],this.themeColors,t.colors||this.colors,[this.colors[0],this.colors[0]])),!1!==t.autoFormat||(e.format=[!1!==t.years,!1!==t.months,!1!==t.days,!1!==t.hours,!1!==t.minutes,!1!==t.seconds]),e},c.setupChartOptionsStyle=function(){a.default.setupChartOptionsStyle.call(this);var t=i().merge({},this.themeFont.common,this.themeFont.label||{}).fontFamily;var e={};t&&(e["font-family"]=t),this.chartOptions.style.graph.digits=i().merge({},e,i().get(this.charts,"timer.digits",{})),this.chartOptions.style.graph.text=i().merge({},e,i().get(this.charts,"timer.units",{}))};let u=Object.freeze(c)},4019:(t,e,r)=>{function n(t,e){var r;if(void 0===e){var n=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(n=(s=a.next()).done);n=!0){var c=s.value;null!=c&&(r<c||void 0===r&&c>=c)&&(r=c)}}catch(t){i=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}}else{var u=-1;var l=!0,h=!1,f=void 0;try{for(var p=t[Symbol.iterator](),d;!(l=(d=p.next()).done);l=!0){var m=d.value;null!=(m=e(m,++u,t))&&(r<m||void 0===r&&m>=m)&&(r=m)}}catch(t){h=!0,f=t}finally{try{l||null==p.return||p.return()}finally{if(h)throw f}}}return r}r.r(e),r.d(e,{default:()=>n})}}]);