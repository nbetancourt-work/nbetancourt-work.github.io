(self.webpackChunkbackend=self.webpackChunkbackend||[]).push([["infogram-charts/dep-44"],{7457:(t,e,r)=>{r.r(e),r.d(e,{Sankey:()=>k});var n=r(498);var a=r.n(n);var i=r(1115);var o=r(3975);var l=r(3920);var u=r(4024);var s=r(4025);var c=r(1111);var f=r(1112);var v=r(4013);var h=r(4022);var d=r(4016);var y=r(7458);function p(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function g(t,e,r){return(g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=m(t)););return t}(t,e);if(n){var a=Object.getOwnPropertyDescriptor(n,e);return a.get?a.get.call(r||t):a.value}})(t,e,r||t)}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function x(t,e){return(x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var k=function(t){"use strict";var e;!function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x(t,e)}(n,t);var r=(e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t=m(n),r;if(e){var a=m(this).constructor;r=Reflect.construct(t,arguments,a)}else r=t.apply(this,arguments);var i;return(i=r)&&("object"==(i&&"undefined"!=typeof Symbol&&i.constructor===Symbol?"symbol":typeof i)||"function"==typeof i)?i:function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(this)});function n(){return!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,n),r.apply(this,arguments)}var l,k;return k=[{key:"getClassName",value:function(){return"Sankey"}}],l=[{key:"countObjectsToAnimate",value:function(t,e){var r,n;return(t.showText&&(null===(n=t.series)||void 0===n?void 0:null===(r=n.axisLabels)||void 0===r?void 0:r.length)||0)+e.length}},{key:"render",value:function(){var t=this;this.detectDimensions();var e=this.options,r=this.root;var n=this.getSheetData();var l=(0,s.formatHelper)(n);var p=n.categories.colors;var g=this.prepareSheetData(n),m=g.nodes,x=g.links;var k=this.countObjectsToAnimate(n,x);var b=this.createAnimationCounter(this.countObjectsToAnimate(n,x));var w=l.axis.x.format;var C=this.runtime={width:e.width,height:e.height,sheet:n,format:w,inanimate:(0,u.inanimated)(e)};var S=o[e.animation.ease];var T=e.animation.duration;if((0,v.Controls)(this,{width:C.width}),(0,h.DownloadButton)(this,e.style.legend),(0,d.legendHelper)({instance:this}),this.events.call("startAnimation"),r.attr("width",C.width).attr("height",C.height),r.selectAll("g").remove(),"Alluvial"===this.getClassName()&&n.showText){var P=r.append("g").attr("class","igc-sankey-graph-labels");P.selectAll(".igc-sankey-graph-label").data(n.series.axisLabels).enter().append("text").attr("class","igc-sankey-graph-label").classed("igc-chart-link",function(t){return!!t.link}).styles(e.style.axis.y.title).style("text-anchor",function(t,e){return 0===e?"start":e===n.series.axisLabels.length-1?"end":"middle"}).style("fill",e.style.axis.y.title.color).attr("dy","-0.25em").attr("x",function(t,e){return C.width*e/(n.series.axisLabels.length-1)}).attr("y",function(){return C.height}).text(function(t){return t.value}).style("opacity",0).on("click",function(e,r){return r.link&&(0,f.openUrl)(r.link,t.interaction)}).transition().ease(S).duration(T).style("opacity",1).on("end",b);var A=P.node().getBBox();C.height-=A.height+6}var I=(0,c.createStyledTooltip)(this);var O=(0,y.d3sankey)().size([C.width,C.height]);O.nodes(m).links(x).nodePadding(n.nodePadding).nodeWidth(n.nodeWidth).layout("Alluvial"===this.getClassName()?0:1),"source-target"===n.linkColorType&&r.append("g").selectAll("linearGradient").data(x).enter().append("linearGradient").sort(function(t,e){return e.dy-t.dy}).attr("id",function(e,r){return"".concat(t.chartId,"-link-").concat(r)}).attr("gradientUnits","userSpaceOnUse").attr("x1",function(t){return t.source.x+t.source.dx}).attr("x2",function(t){return t.target.x}).call(function(t){return t.append("stop").attr("offset","0%").attr("stop-color",function(t){return(0,f.getColor)(t.source.groupId,p)})}).call(function(t){return t.append("stop").attr("offset","100%").attr("stop-color",function(t){return(0,f.getColor)(t.target.groupId,p)})});var L=r.append("g").selectAll(".igc-sankey-link").data(x).enter().append("path").attr("class","igc-sankey-link").attr("d",O.link()).style("stroke-width",function(t){return Math.max(1,t.dy)}).style("stroke-opacity",n.linkColorOpacity).sort(function(t,e){return e.dy-t.dy});L.styles(function(){var t=this.getTotalLength();return{"stroke-dasharray":"".concat(t," ").concat(t),"stroke-dashoffset":t}}).transition().ease(S).duration(T).style("stroke-dashoffset","0px").on("end",b),r.selectAll(".igc-sankey-link").style("stroke",function(e,r){if("Alluvial"===t.getClassName())return(0,f.getColor)(e.groupId,p);switch(n.linkColorType){case"source-target":return"url(#".concat(t.chartId,"-link-").concat(r,")");case"source":return(0,f.getColor)(e.source.groupId,p);case"target":return(0,f.getColor)(e.target.groupId,p);default:return n.linkColor}}),L.classed("igc-chart-link",function(t){return!!t.url}).on("mouseover",function(e,r){if(I().interaction("show"),"Alluvial"===t.getClassName()){var n=r.rowId;L.classed("active",function(t){return t.rowId===n})}}).on("mousemove",function(t,e){e.tooltipValue&&("number"==typeof e.tooltipValue?I().setText(e.tooltipText).setValue(n.showTooltipValue?l.tooltip.x.format(e.tooltipValue):"").setPosition((0,f.getMousePosition)(t)):I().setText(e.tooltipValue).setPosition((0,f.getMousePosition)(t)))}).on("mouseout",function(){L.classed("active",!1),I().hide()}).on("click",function(e,r){return r.url&&(0,f.openUrl)(r.url,t.interaction)});var E=r.append("g").selectAll(".node").data(m).enter().append("g").attr("class","igc-sankey-node").attr("transform",function(t){return"translate(".concat(t.x,",").concat(t.y,")")});if(E.append("rect").attr("height",function(t){return Math.max(0,t.dy)}).attr("width",n.nodeWidth).style("fill",function(t){return t.color=(0,f.getColor)(t.groupId,p)}).styles(function(){return"Alluvial"!==t.getClassName()?{}:{fill:n.fillColor,stroke:n.strokeColor,strokeWidth:"1px"}}).classed("igc-chart-link",function(t,e){return!!n.links[e]}).on("click",function(e,r){return n.links[r.index]&&(0,f.openUrl)(n.links[r.index],t.interaction)}).on("mouseover",function(){return I().interaction("show")}).on("mousemove",function(e,r){I().setText(r.name).setValue("Alluvial"==t.getClassName()&&n.showTooltipValue?l.tooltip.x.format(r.value):null).setPosition((0,f.getMousePosition)(e))}).on("mouseout",function(){return I().hide()}),n.showTitles){E.append("text").attr("x",-6).attr("y",function(t){return t.dy/2}).attr("dy",".35em").attr("text-anchor","end").attr("transform",null).attr("class","igc-sankey-label").styles(e.style.axis.x.title).style("fill",e.style.axis.x.title.color).text(function(t){return t.name}).filter(function(t){return t.x<C.width/2}).attr("x",6+n.nodeWidth).attr("text-anchor","start");var V=[];r.selectAll(".igc-sankey-label").each(function(){var t=this;var e=(0,i.default)(this);e.attr("dy",function(r){var n=t.getBoundingClientRect().height/2;return r.y+n>C.height?C.height-r.y-n+"px":r.y<n?2*n+"px":e.attr("dy")});var r=this.getBoundingClientRect();V.some(function(t){return(a().inRange(t.left,r.left,r.right)||a().inRange(r.left,t.left,t.right))&&(a().inRange(t.top,r.top,r.bottom)||a().inRange(r.top,t.top,t.bottom))})?e.style("visibility","hidden"):V.push(r)})}var j=this.container.selectAll(".igc-legend-entry");"Alluvial"===this.getClassName()?j.style("pointer-events","none"):j.on("mouseover",function(t,e){r.selectAll(".igc-sankey-node").style("opacity",function(t){return e.groupId===t.groupId?1:.2}),r.selectAll(".igc-sankey-link").style("opacity",function(t){return t.source.groupId===e.groupId||t.target.groupId===e.groupId?1:.2})}).on("mouseout",function(){r.selectAll(".igc-sankey-node, .igc-sankey-link").style("opacity",1)}),k||this.events.call("endAnimation")}},{key:"emptySheetData",value:function(){return a().merge({},g(m(n.prototype),"emptySheetData",this).call(this),{series:{nodes:[],links:[]}})}},{key:"prepareSheetData",value:function(t){var e=t.categories.colors;var r=t.series,n=r.nodes,a=r.links;var i=(0,d.createLegendData)(this);var o={};var l={};var u=n.filter(function(t){return i({color:(0,f.getColor)(t.node,e),title:t.name,groupId:t.node}).active}).map(function(t,r){var n=t.node;o[n]=!0;var a=(0,f.getColor)(n,e);return l[n]=r,{color:a,link:t.link,title:t.title,index:r,groupId:n,name:t.name}});return{links:a.filter(function(t){return o[t.source]&&o[t.target]}).map(function(t){return t.source=l[t.source],t.target=l[t.target],t}),nodes:u}}},{key:"applySheetOptions",value:function(t){t&&this.options.sheets.forEach(function(e,r){var n=t[r+1]||t[0];n.categories&&a().merge(e.categories,n.categories),n.legend&&a().merge(e.legend,n.legend),n.tooltip&&(e.tooltip=e.tooltip||{},a().merge(e.tooltip,n.tooltip)),n.axis&&n.axis[0]&&n.axis[0].format&&(e.axis[0]||(e.axis[0]={}),a().merge(e.axis[0],n.axis[0])),e.linkColorType=n.linkColorType,e.linkColor=n.linkColor,e.linkColorOpacity=n.linkColorOpacity,e.showTitles=n.showTitles,e.nodePadding=n.nodePadding,e.nodeWidth=n.nodeWidth,e.showTooltipValue=!0,n.style&&(e.style=n.style)})}}],p(n.prototype,l),k&&p(n,k),n}(l.Chart)},4013:(t,e,r)=>{r.r(e),r.d(e,{Controls:()=>l});var n=r(4010);var a=r(4011);var i=r(4014);var o={tab:n.TabSwitcher,player:a.Player,radio:i.RadioSwitcher};function l(t){var e=t.options.sheetSwitch;var r;o[null!==(r=null==e?void 0:e.type)&&void 0!==r?r:"radio"].apply(null,arguments)}},4014:(t,e,r)=>{r.r(e),r.d(e,{RadioSwitcher:()=>s});var n=r(498);var a=r.n(n);var i=r(1115);var o=r(4015);var l=r(4011);var u=r(4005);function s(t,e){var r=t.container,n=t.options,s=t.sheetIndex;var c=n.sheets;var f=t.interaction;if((0,l.removeSheetPlayer)(t),r.selectAll(".igc-sheets").remove(),!(0,u.sheetsEmpty)(t)){var v=a().get(n,"style.sheetSwitch.radio");var h;var d=(h=r.insert("span").attr("class","igc-sm-sheet-switch-radio").style("visibility","hidden").style("position","absolute").style("top","0px").style("left","0px").append("div").attr("class","igc-sheets").append("div").attr("class","igc-sheet").append("span").attr("class","igc-sheet-ico").node().offsetWidth,r.select(".igc-sm-sheet-switch-radio").remove(),h);var y=(0,o.TextItemMetrics)().width(e.width).texts(c.map(function(t){return t.categories.title})).style(v).parentContainer(r).reservedSize(d+20)();var p=r.insert("div",".igc-content").attr("class","igc-sheets").attr("role","radiogroup").attr("aria-label","select sheet").style("width","".concat(e.width,"px"));var g=p.selectAll(".igc-sheet").data(c.map(function(t,e){return{name:t.categories.title,sheetIndex:e}}));(g=g.merge(g.enter().append("div"))).attr("class","igc-sheet").attr("role","radio").attr("aria-checked",function(t){return t.sheetIndex===s?"true":"false"}).attr("aria-labelledby",function(t){return"igc-sheet-label".concat(t.sheetIndex)}).attr("class",function(t){return t.sheetIndex===s?"igc-sheet active":"igc-sheet"}).style("max-width","".concat(y.width,"px")),g.append("span").attr("class","igc-sheet-ico").attr("role","presentation").attr("id",function(t){return"igc-sheet-".concat(t.sheetIndex)}),g.append("span").attr("class","igc-sheet-label").html(function(t){return t.name}).attr("id",function(t){return"igc-sheet-label".concat(t.sheetIndex)}).styles(v).style("height","".concat(y.label.height,"px")).style("max-width","".concat(y.label.width,"px")),g.on("click",function(e,n){var a=(0,i.default)(this);f("sheetSwitch.item","click"),t.sheetIndex!==n.sheetIndex&&(r.selectAll(".igc-sheet.active").attr("class","igc-sheet").attr("aria-checked","false"),a.classed("active",!0).attr("aria-checked","true"),t.sheetIndex=n.sheetIndex,delete t.legendData,t.render())}),(0,u.subtractHeight)(t,p.node())}}},4024:(t,e,r)=>{r.r(e),r.d(e,{inanimated:()=>i,removeAnimation:()=>o,removeDelay:()=>l});var n=r(498);var a=r.n(n);function i(t){return 0===a().get(t,"animation.duration")}function o(t){t.forEach(function(t){if(a().has(t,"animationDuration")){t.animationDuration(0);return}a().has(t,"animate")&&t.animate(!1)})}function l(t,e){return a().get(t,"runtime.inanimate")?function(){return 0}:e}},7458:(t,e,r)=>{r.r(e),r.d(e,{d3sankey:()=>l});var n=r(7459);var a=r(3999);var i=r(4028);var o=r(3941);function l(){var t=function(){y.forEach(function(t){t.sourceLinks=[],t.targetLinks=[]}),p.forEach(function(t){var e=t.source,r=t.target;"number"==typeof e&&(e=t.source=y[t.source]),"number"==typeof r&&(r=t.target=y[t.target]),e.sourceLinks.push(t),r.targetLinks.push(t)})};var e=function(){y.forEach(function(t){t.value=Math.max(t.sourceLinks.reduce(function(t,e){return t+e.value},0),t.targetLinks.reduce(function(t,e){return t+e.value},0))})};var r=function(){var t=y;var e;var r=0;for(;t.length;)e=[],t.forEach(function(t){t.x=r,t.dx=g,t.sourceLinks.forEach(function(t){0>e.indexOf(t.target)&&e.push(t.target)})}),t=e,++r;l(r),u((d[0]-g)/(r-1))};var l=function(t){var e=!0,r=!1,n=void 0;try{for(var a=y[Symbol.iterator](),i;!(e=(i=a.next()).done);e=!0){var o=i.value;o.sourceLinks.length||(o.x=t-1)}}catch(t){r=!0,n=t}finally{try{e||null==a.return||a.return()}finally{if(r)throw n}}};var u=function(t){var e=!0,r=!1,n=void 0;try{for(var a=y[Symbol.iterator](),i;!(e=(i=a.next()).done);e=!0){var o=i.value;o.x*=t}}catch(t){r=!0,n=t}finally{try{e||null==a.return||a.return()}finally{if(r)throw n}}};var s=function(t){var e=(0,n.nest)().key(function(t){return t.x}).sortKeys(a.default).entries(y).map(function(t){return t.values});(function(){var t=(0,i.default)(e,function(t){return(d[1]-(t.length-1)*h)/t.reduce(function(t,e){return t+e.value},0)});var r=!0,n=!1,a=void 0;try{for(var o=e[Symbol.iterator](),l;!(r=(l=o.next()).done);r=!0)l.value.forEach(function(e,r){e.y=r,e.dy=e.value*t})}catch(t){n=!0,a=t}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}var u=!0,s=!1,c=void 0;try{for(var f=p[Symbol.iterator](),v;!(u=(v=f.next()).done);u=!0){var y=v.value;y.dy=y.value*t}}catch(t){s=!0,c=t}finally{try{u||null==f.return||f.return()}finally{if(s)throw c}}})(),o();for(var r=1;t>0;--t)(function(t){e.slice().reverse().forEach(function(e){e.forEach(function(e){if(e.sourceLinks.length){var r=e.targetLinks.reduce(function(t,e){return t+m(e.target)*e.value},0)/e.sourceLinks.reduce(function(t,e){return t+e.value},0);e.y+=(r-m(e))*t}})})})(r*=.99),o(),function(t){e.forEach(function(e){var r=!0,n=!1,a=void 0;try{for(var i=e[Symbol.iterator](),o;!(r=(o=i.next()).done);r=!0){var l=o.value;if(l.targetLinks.length){var u=l.targetLinks.reduce(function(t,e){return t+m(e.source)*e.value},0)/l.targetLinks.reduce(function(t,e){return t+e.value},0);l.y+=(u-m(l))*t}}}catch(t){n=!0,a=t}finally{try{r||null==i.return||i.return()}finally{if(n)throw a}}})}(r),o();function o(){e.forEach(function(t){var e;var r;var n=0;var a=t.length;t.sort(l);for(var i=0;i<a;++i)(r=n-(e=t[i]).y)>0&&(e.y+=r),n=e.y+e.dy+h;if((r=n-h-d[1])>0){n=e.y-=r;for(var o=a-2;o>=0;--o)(r=(e=t[o]).y+e.dy+h-n)>0&&(e.y-=r),n=e.y}})}function l(t,e){return t.y-e.y}};var c=function(){var t={};var e=!0,r=!1,n=void 0;try{for(var a=y[Symbol.iterator](),i;!(e=(i=a.next()).done);e=!0){var o=i.value;var l=o.x;t[l]||(t[l]=[]),t[l].push(o)}}catch(t){r=!0,n=t}finally{try{e||null==a.return||a.return()}finally{if(r)throw n}}var u=d[1];Object.keys(t).forEach(function(e){var r=t[e].reduce(function(t,e){return t+e.dy},0);var n=t[e].length;var a=n>1?(u-r)/(n-1):0;var i=0;var o=!0,l=!1,s=void 0;try{for(var c=t[e][Symbol.iterator](),f;!(o=(f=c.next()).done);o=!0){var v=f.value;v.y=i,i+=a+v.dy}}catch(t){l=!0,s=t}finally{try{o||null==c.return||c.return()}finally{if(l)throw s}}})};var f=function(){var t=!0,e=!1,r=void 0;try{for(var n=y[Symbol.iterator](),a;!(t=(a=n.next()).done);t=!0){var i=a.value;i.sourceLinks.sort(I),i.targetLinks.sort(A)}}catch(t){e=!0,r=t}finally{try{t||null==n.return||n.return()}finally{if(e)throw r}}var o=!0,l=!1,u=void 0;try{for(var s=y[Symbol.iterator](),c;!(o=(c=s.next()).done);o=!0){var f=c.value;var v=0;var h=0;var d=!0,p=!1,g=void 0;try{for(var m=f.sourceLinks[Symbol.iterator](),x;!(d=(x=m.next()).done);d=!0){var k=x.value;k.sy=v,v+=k.dy}}catch(t){p=!0,g=t}finally{try{d||null==m.return||m.return()}finally{if(p)throw g}}var b=!0,w=!1,C=void 0;try{for(var S=f.targetLinks[Symbol.iterator](),T;!(b=(T=S.next()).done);b=!0){var P=T.value;P.ty=h,h+=P.dy}}catch(t){w=!0,C=t}finally{try{b||null==S.return||S.return()}finally{if(w)throw C}}}}catch(t){l=!0,u=t}finally{try{o||null==s.return||s.return()}finally{if(l)throw u}}var A=function(t,e){return t.source.y-e.source.y};var I=function(t,e){return t.target.y-e.target.y}};var v={};var h=10;var d=[1,1];var y=[];var p=[];var g=24;v.nodePadding=function(t){return arguments.length?(h=+t,v):h},v.nodeWidth=function(t){return arguments.length?(g=+t,v):g},v.nodes=function(t){return arguments.length?(y=t,v):y},v.links=function(t){return arguments.length?(p=t,v):p},v.size=function(t){return arguments.length?(d=t,v):d},v.layout=function(n){return t(),e(),r(),s(n),f(),n||c(),v},v.link=function(){return function(t){var e=t.source.x+t.source.dx;var r=t.target.x;var n=(0,o.default)(e,r);var a=n(.5);var i=n(.5);var l=t.source.y+t.sy+t.dy/2;var u=t.target.y+t.ty+t.dy/2;return"M".concat(e,",").concat(l," C").concat(a,",").concat(l," ").concat(i,",").concat(u," ").concat(r,",").concat(u)}};var m=function(t){return t.y+t.dy/2};return v}},4015:(t,e,r)=>{r.r(e),r.d(e,{TextItemMetrics:()=>l,createMeasurement:()=>o});var n=r(3964);var a=r(1112);function i(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return t.append("span").styles(e).style("white-space","nowrap").style("line-height",r).style("visibility","hidden").style("position","absolute").style("top","0px").style("left","0px")}function o(t){var e=t.style,r=t.container,n=t.lineHeight;return function(t){var o=i(r,e,n);var l=(0,a.measureTextHtml)(t,o.node());return o.remove(),l}}function l(){var t=function(){if(u){var t=i(u,o);var n=(0,a.measureTextHtmlHeight)(e,t.node());return t.remove(),{width:r,label:{width:r-l,height:n+n/4}}}};var e=[];var r=300;var o=(0,n.chartOptions)().style.legend;var l=0;var u;return Object.assign(t,{texts:function(r){return arguments.length?(e=r.slice(0),t):e},width:function(e){return arguments.length?(r=e,t):r},style:function(e){return arguments.length?(o=e,t):o},reservedSize:function(e){return arguments.length?(l=e,t):l},parentContainer:function(e){return arguments.length?(u=e,t):u}}),t}},1111:(t,e,r)=>{r.r(e),r.d(e,{createStyledTooltip:()=>s,getTooltip:()=>u,setTooltip:()=>l,tooltipDummy:()=>i});var n=r(1112);var a=r(843);var i={setText:function(){return this},setValue:function(){return this},setPosition:function(){return this},show:function(){return(0,a.logError)("Trying to show dummy tooltip"),this},interaction:function(){return this},hide:function(){return o!==i&&o.hide.apply(o,arguments),this},mute:function(){return this},unmute:function(){return this},isVisible:function(){return this},setKey:function(){return this},getKey:function(){return this}};var o=i;function l(t){o=t}function u(){return o}function s(t){var e,r,a,l,u,s,c,f;var v=t.createInteractionCaller();var h=null==t?void 0:null===(r=t.options)||void 0===r?void 0:null===(e=r.tooltip)||void 0===e?void 0:e.enabled;var d=null==t?void 0:null===(u=t.options)||void 0===u?void 0:null===(l=u.style)||void 0===l?void 0:null===(a=l.tooltip)||void 0===a?void 0:a.text;var y=null==t?void 0:null===(f=t.options)||void 0===f?void 0:null===(c=f.style)||void 0===c?void 0:null===(s=c.tooltip)||void 0===s?void 0:s.value;d=d&&(0,n.camelizeObject)(d),y=y&&(0,n.camelizeObject)(y);var p=(0,n.createGetScale)(t.root.node());var g,m;return g=d,m=y,h?function(){return{setText:function(t){return o.setText(t,g),this},setValue:function(t){return"string"!=typeof t||o.setValue(t,m),this},setPosition:function(t,e){return o.setPosition(t,{color:e,scale:p().x}),this},interaction:function(t){return v("tooltip",t),this},show:function(){return o.show.apply(o,arguments),this},hide:function(){return o.hide.apply(o,arguments),this},isVisible:function(){return o.isVisible()},mute:function(){return o.mute(),this},unmute:function(){return o.unmute(),this},setKey:function(){return o.setKey.apply(o,arguments),this},getKey:function(){return o.getKey()}}}:function(){return i}}},7465:(t,e,r)=>{function n(t){var e=[];for(var r in t)e.push({key:r,value:t[r]});return e}r.r(e),r.d(e,{default:()=>n})},7459:(t,e,r)=>{r.r(e),r.d(e,{entries:()=>u.default,keys:()=>o.default,map:()=>i.default,nest:()=>n.default,set:()=>a.default,values:()=>l.default});var n=r(7460);var a=r(7462);var i=r(7461);var o=r(7463);var l=r(7464);var u=r(7465)},7463:(t,e,r)=>{function n(t){var e=[];for(var r in t)e.push(r);return e}r.r(e),r.d(e,{default:()=>n})},7461:(t,e,r)=>{r.r(e),r.d(e,{default:()=>o,prefix:()=>n});var n="$";function a(){}function i(t,e){var r=new a;if(t instanceof a)t.each(function(t,e){r.set(e,t)});else if(Array.isArray(t)){var n=-1,i=t.length,o;if(null==e)for(;++n<i;)r.set(n,t[n]);else for(;++n<i;)r.set(e(o=t[n],n,t),o)}else if(t)for(var l in t)r.set(l,t[l]);return r}a.prototype=i.prototype={constructor:a,has:function(t){return n+t in this},get:function(t){return this[n+t]},set:function(t,e){return this[n+t]=e,this},remove:function(t){var e=n+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===n&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===n&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===n&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===n&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===n&&++t;return t},empty:function(){for(var t in this)if(t[0]===n)return!1;return!0},each:function(t){for(var e in this)e[0]===n&&t(this[e],e.slice(1),this)}};let o=i},7460:(t,e,r)=>{r.r(e),r.d(e,{default:()=>a});var n=r(7461);function a(){var t=[],e=[],r,a,s;function c(e,i,o,l){if(i>=t.length)return null!=r&&e.sort(r),null!=a?a(e):e;var u=-1,s=e.length,f=t[i++],v,h,d=(0,n.default)(),y,p=o();for(;++u<s;)(y=d.get(v=f(h=e[u])+""))?y.push(h):d.set(v,[h]);return d.each(function(t,e){l(p,e,c(t,i,o,l))}),p}return s={object:function(t){return c(t,0,i,o)},map:function(t){return c(t,0,l,u)},entries:function(r){return function r(n,i){if(++i>t.length)return n;var o,l=e[i-1];return null!=a&&i>=t.length?o=n.entries():(o=[],n.each(function(t,e){o.push({key:e,values:r(t,i)})})),null!=l?o.sort(function(t,e){return l(t.key,e.key)}):o}(c(r,0,l,u),0)},key:function(e){return t.push(e),s},sortKeys:function(r){return e[t.length-1]=r,s},sortValues:function(t){return r=t,s},rollup:function(t){return a=t,s}}}function i(){return{}}function o(t,e,r){t[e]=r}function l(){return(0,n.default)()}function u(t,e,r){t.set(e,r)}},7462:(t,e,r)=>{r.r(e),r.d(e,{default:()=>l});var n=r(7461);function a(){}var i=n.default.prototype;function o(t,e){var r=new a;if(t instanceof a)t.each(function(t){r.add(t)});else if(t){var n=-1,i=t.length;if(null==e)for(;++n<i;)r.add(t[n]);else for(;++n<i;)r.add(e(t[n],n,t))}return r}a.prototype=o.prototype={constructor:a,has:i.has,add:function(t){return t+="",this[n.prefix+t]=t,this},remove:i.remove,clear:i.clear,values:i.keys,size:i.size,empty:i.empty,each:i.each};let l=o},7464:(t,e,r)=>{function n(t){var e=[];for(var r in t)e.push(t[r]);return e}r.r(e),r.d(e,{default:()=>n})},7284:(t,e,r)=>{r.r(e),r.d(e,{assignNumberFormatLabels:()=>s,assignNumberFormatValues:()=>u});var n=r(498);var a=r.n(n);var i=r(1991);var o={label:{libraryTargetPath:"labels.format",customAffixPath:"labels.graph.item.format.affix"},x:{libraryTargetPath:"tooltip.format.x",customAffixPath:"labels.tooltip.format.x.affix"},y:{libraryTargetPath:"tooltip.format.y",customAffixPath:"labels.tooltip.format.y.affix"},y2:{libraryTargetPath:"tooltip.format.y2",customAffixPath:"labels.tooltip.format.y2.affix"}};function l(t,e,r){var n=e.decimalSeparator,o=e.groupingSymbol;o&&a().set(t,"grouping","none"===o?"":o);var l=!1===n;a().set(t,"decimal",l?".,":n);var u=r?new i.default("firstNumber",r):new i.default(l?"legacy":"firstNumber",n);a().set(t,"numberParser",u)}function u(t){var e=t.sheetOptions,r=t.custom,n=t.axis,i=t.inputDecimalSeparator;var o={x:0,y:1,y2:2,x1:0,y1:1};n.forEach(function(t){var n=t.id,u=t.path;var s=u?a().get(r,u,{}):r;var f=e.axis[o[n]];a().has(f,"format")||a().set(f,"format",{});var v=f.format;if(c(v,s),!["x1","y1"].includes(n)){l(v,s,i);var h=["useSIPrefixes"];a().get(r,"axis.".concat(n,".affix"),!0)&&h.push("prefix","suffix"),h.forEach(function(t){var e=a().get(s,t);void 0!==e&&a().set(v,t,e)})}})}function s(t){var e=t.sheetOptions,r=t.custom,n=t.affixes,i=t.inputDecimalSeparator;(void 0===n?[]:n).forEach(function(t){var n=t.id,u=t.path,s=t.ignoreCheck,f=t.defaultValue;var v=o[n];var h=v.libraryTargetPath,d=v.customAffixPath;var y=u?a().get(r,u,{}):r;var p=a().pick(y,"prefix","suffix");c(p,y),l(p,y,i),s||a().get(r,d,f)||(a().unset(p,"prefix"),a().unset(p,"suffix")),a().set(e,h,p)})}function c(t,e){var r=e.decimalPlaces,n=e.decimalPlacesValue;r&&void 0!==n&&a().set(t,"decimalPlaces",n)}}}]);