(self.webpackChunkbackend=self.webpackChunkbackend||[]).push([[57],{7397:(t,e,r)=>{r.r(e),r.d(e,{BarProgress:()=>I});var n=r(498);var a=r.n(n);var i=r(7273);var o=r(3989);var s=r(3975);var l=r(4025);var c=r(7293);var u=r(1112);var h=r(7259);var v=r(4016);var d=r(4013);var p=r(4022);var f=r(1997);var g=r(7291);var y=r(1111);function m(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function b(t,e,r){return(b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=x(t)););return t}(t,e);if(n){var a=Object.getOwnPropertyDescriptor(n,e);return a.get?a.get.call(r||t):a.value}})(t,e,r||t)}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function w(t,e){return(w=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var I=function(t){"use strict";var e;!function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&w(t,e)}(n,t);var r=(e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t=x(n),r;if(e){var a=x(this).constructor;r=Reflect.construct(t,arguments,a)}else r=t.apply(this,arguments);var i;return(i=r)&&("object"==(i&&"undefined"!=typeof Symbol&&i.constructor===Symbol?"symbol":typeof i)||"function"==typeof i)?i:function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(this)});function n(){return!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,n),r.apply(this,arguments)}var c,I;return I=[{key:"getClassName",value:function(){return"BarProgress"}}],c=[{key:"render",value:function(){var t=this;var e,r;this.detectDimensions();var n=this.options,c=this.root;var u=new h.Renderer({instance:this});var m=this.getSheetData();var b=(0,l.formatHelper)(m);var x=this.runtime={width:n.width,height:n.height,format:{x:function(t){return t}},components:{},metrics:{},layout:{},sheet:m,formatter:b};var w=this.prepareSheetData(m,this.sheetIndex);if(!this.sheetsNotFound(w)){var I=n.fixedHeight;(0,d.Controls)(this,{width:n.width}),(0,p.DownloadButton)(this,n.style.legend);var S=(0,v.legendHelper)({instance:this});var O=I?x.height:n.height;var k=this.createAnimationCounter(1);if(I){if(x.height<=0)return this.stopRender()}else x.height=O;var C=(0,i.default)().domain([0]).paddingInner(0).paddingOuter(0).range([0,O]);var T=(0,o.default)().rangeRound([-1,x.width]).domain([0,100]).clamp(!1);this.containerSetup();var P=c.select(".igc");P.selectAll(".igc-labels").remove();var D=n.animation.duration;c.attr("width",x.width).attr("height",x.height).transition().ease(s[this.options.animation.ease]).duration(D),u.addGraph([{graphs:w,x:T,y:C,textStyle:n.style.graph.item.value,legend:S,transitionDuration:D,animationEnd:(null==m?void 0:null===(r=m.graphOptions)||void 0===r?void 0:null===(e=r.bar)||void 0===e?void 0:e.showValues)?function(){return(0,g.labelsWithoutAlignment)({selection:P,graphs:w,xScale:T,yScale:C,style:a().pick(n.style.graph.item.value,["font-family","font-size","font-weight","font-style"]),formatter:b,legend:S,chartId:t.chartId,tooltip:(0,y.createStyledTooltip)(t),tooltipText:function(t){return t.yLabel},tooltipTextValue:function(t){return t.xLabel}}).then(k)}:k,drawInactive:function(){var t=P.selectAll(".igc-progress-inactive").data([0]);var e=t.enter().insert("rect",":first-child").attr("class","igc-progress-inactive");t.exit().remove(),t=e.merge(t);var r=a().get(m,"style",{});var n=a().get(r,"inactive");var i=a().get(r,"inactiveColorAlpha");void 0!==i&&(n=f.Colors.rgbStrToRgbaStr(n,i)),t.attr("x",0).attr("y",0).attr("width",x.width).attr("height",O).attr("fill",n)}}]),this.events.call("startAnimation"),u.start()}}},{key:"graphInstanceSetup",value:function(t){b(x(n.prototype),"graphInstanceSetup",this).apply(this,arguments),t.transitionTiming({duration:{x:700,y:0,text:50}}).tooltipText(function(t){return t.yLabel}).tooltipValue(function(t){return t.xLabel})}},{key:"renderGraphInstances",value:function(){var t=this.graphInstances,e=t.enterCount,r=t.updateCount;var n=this.graphInstances[0].group;var i=0===r&&e>0;var o=r+e;var s=a().after(2,function(){return n.animationEnd()});var l=a().after(this.graphInstances.length,s);var c=function(){0==--o&&s()};this.graphInstances.forEach(function(t){var e=t.instance;var r=e.dispatch();i?(r.on("animationStart",c),r.on("animationStart.inactive",n.drawInactive)):(r.on("animationUpdateEnd",c),r.on("animationUpdateEnd.inactive",n.drawInactive)),r.on("animationEnd",l),t.selection.call(e)})}},{key:"prepareSheetData",value:function(t,e){var r=t.categories.colors;var n=a().get(t,"graphOptions.bar",{showValues:!1}).showValues;t.categories.data||(t.categories.data=[]);var i=e===this.sheetIndex;var o;i&&(o=(0,v.createLegendData)(this));var s={colors:r,data:[],categoryIdx:0,showValues:n,type:"bar-stacked"};var l=a().get(t,"series[0]",[]);return l.data.forEach(function(e,n){var c=t.categories.data[n];void 0!==c&&(0,u.isNumber)(e)&&(!i||o({color:(0,u.getColor)(n,r),title:(0,u.replaceBlank)(c),groupId:n}).active)&&s.data.push({x:(0,u.replaceBlank)(e,null),y:0,xLabel:(0,u.replaceBlank)(l.rawData[n]),yLabel:(0,u.replaceBlank)(c),groupLabel:(0,u.replaceBlank)(c),seriesIdx:n,link:a().get(l,"links[".concat(n,"]"),null)})}),[s]}},{key:"emptySheetData",value:function(){return a().merge({},b(x(n.prototype),"emptySheetData",this).call(this),{series:[{}],style:{inactive:"#e8e8e8"}})}},{key:"applySheetOptions",value:function(t){t&&this.options.sheets.forEach(function(e,r){var n=t[r+1]||t[0];n.categories&&a().merge(e.categories,n.categories),a().merge(e.graphOptions,n.graphOptions),n.legend&&a().merge(e.legend,n.legend),e.axis.forEach(function(t,e){var r=n.axis&&n.axis[e];r&&a().merge(t,r)}),n.style&&(e.style=n.style)})}}],m(n.prototype,c),I&&m(n,I),n}(c.BarStacked)},4013:(t,e,r)=>{r.r(e),r.d(e,{Controls:()=>s});var n=r(4010);var a=r(4011);var i=r(4014);var o={tab:n.TabSwitcher,player:a.Player,radio:i.RadioSwitcher};function s(t){var e=t.options.sheetSwitch;var r;o[null!==(r=null==e?void 0:e.type)&&void 0!==r?r:"radio"].apply(null,arguments)}},4014:(t,e,r)=>{r.r(e),r.d(e,{RadioSwitcher:()=>c});var n=r(498);var a=r.n(n);var i=r(1115);var o=r(4015);var s=r(4011);var l=r(4005);function c(t,e){var r=t.container,n=t.options,c=t.sheetIndex;var u=n.sheets;var h=t.interaction;if((0,s.removeSheetPlayer)(t),r.selectAll(".igc-sheets").remove(),!(0,l.sheetsEmpty)(t)){var v=a().get(n,"style.sheetSwitch.radio");var d;var p=(d=r.insert("span").attr("class","igc-sm-sheet-switch-radio").style("visibility","hidden").style("position","absolute").style("top","0px").style("left","0px").append("div").attr("class","igc-sheets").append("div").attr("class","igc-sheet").append("span").attr("class","igc-sheet-ico").node().offsetWidth,r.select(".igc-sm-sheet-switch-radio").remove(),d);var f=(0,o.TextItemMetrics)().width(e.width).texts(u.map(function(t){return t.categories.title})).style(v).parentContainer(r).reservedSize(p+20)();var g=r.insert("div",".igc-content").attr("class","igc-sheets").attr("role","radiogroup").attr("aria-label","select sheet").style("width","".concat(e.width,"px"));var y=g.selectAll(".igc-sheet").data(u.map(function(t,e){return{name:t.categories.title,sheetIndex:e}}));(y=y.merge(y.enter().append("div"))).attr("class","igc-sheet").attr("role","radio").attr("aria-checked",function(t){return t.sheetIndex===c?"true":"false"}).attr("aria-labelledby",function(t){return"igc-sheet-label".concat(t.sheetIndex)}).attr("class",function(t){return t.sheetIndex===c?"igc-sheet active":"igc-sheet"}).style("max-width","".concat(f.width,"px")),y.append("span").attr("class","igc-sheet-ico").attr("role","presentation").attr("id",function(t){return"igc-sheet-".concat(t.sheetIndex)}),y.append("span").attr("class","igc-sheet-label").html(function(t){return t.name}).attr("id",function(t){return"igc-sheet-label".concat(t.sheetIndex)}).styles(v).style("height","".concat(f.label.height,"px")).style("max-width","".concat(f.label.width,"px")),y.on("click",function(e,n){var a=(0,i.default)(this);h("sheetSwitch.item","click"),t.sheetIndex!==n.sheetIndex&&(r.selectAll(".igc-sheet.active").attr("class","igc-sheet").attr("aria-checked","false"),a.classed("active",!0).attr("aria-checked","true"),t.sheetIndex=n.sheetIndex,delete t.legendData,t.render())}),(0,l.subtractHeight)(t,g.node())}}},4024:(t,e,r)=>{r.r(e),r.d(e,{inanimated:()=>i,removeAnimation:()=>o,removeDelay:()=>s});var n=r(498);var a=r.n(n);function i(t){return 0===a().get(t,"animation.duration")}function o(t){t.forEach(function(t){if(a().has(t,"animationDuration")){t.animationDuration(0);return}a().has(t,"animate")&&t.animate(!1)})}function s(t,e){return a().get(t,"runtime.inanimate")?function(){return 0}:e}},4015:(t,e,r)=>{r.r(e),r.d(e,{TextItemMetrics:()=>s,createMeasurement:()=>o});var n=r(3964);var a=r(1112);function i(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return t.append("span").styles(e).style("white-space","nowrap").style("line-height",r).style("visibility","hidden").style("position","absolute").style("top","0px").style("left","0px")}function o(t){var e=t.style,r=t.container,n=t.lineHeight;return function(t){var o=i(r,e,n);var s=(0,a.measureTextHtml)(t,o.node());return o.remove(),s}}function s(){var t=function(){if(l){var t=i(l,o);var n=(0,a.measureTextHtmlHeight)(e,t.node());return t.remove(),{width:r,label:{width:r-s,height:n+n/4}}}};var e=[];var r=300;var o=(0,n.chartOptions)().style.legend;var s=0;var l;return Object.assign(t,{texts:function(r){return arguments.length?(e=r.slice(0),t):e},width:function(e){return arguments.length?(r=e,t):r},style:function(e){return arguments.length?(o=e,t):o},reservedSize:function(e){return arguments.length?(s=e,t):s},parentContainer:function(e){return arguments.length?(l=e,t):l}}),t}},1111:(t,e,r)=>{r.r(e),r.d(e,{createStyledTooltip:()=>c,getTooltip:()=>l,setTooltip:()=>s,tooltipDummy:()=>i});var n=r(1112);var a=r(843);var i={setText:function(){return this},setValue:function(){return this},setPosition:function(){return this},show:function(){return(0,a.logError)("Trying to show dummy tooltip"),this},interaction:function(){return this},hide:function(){return o!==i&&o.hide.apply(o,arguments),this},mute:function(){return this},unmute:function(){return this},isVisible:function(){return this},setKey:function(){return this},getKey:function(){return this}};var o=i;function s(t){o=t}function l(){return o}function c(t){var e,r,a,s,l,c,u,h;var v=t.createInteractionCaller();var d=null==t?void 0:null===(r=t.options)||void 0===r?void 0:null===(e=r.tooltip)||void 0===e?void 0:e.enabled;var p=null==t?void 0:null===(l=t.options)||void 0===l?void 0:null===(s=l.style)||void 0===s?void 0:null===(a=s.tooltip)||void 0===a?void 0:a.text;var f=null==t?void 0:null===(h=t.options)||void 0===h?void 0:null===(u=h.style)||void 0===u?void 0:null===(c=u.tooltip)||void 0===c?void 0:c.value;p=p&&(0,n.camelizeObject)(p),f=f&&(0,n.camelizeObject)(f);var g=(0,n.createGetScale)(t.root.node());var y,m;return y=p,m=f,d?function(){return{setText:function(t){return o.setText(t,y),this},setValue:function(t){return"string"!=typeof t||o.setValue(t,m),this},setPosition:function(t,e){return o.setPosition(t,{color:e,scale:g().x}),this},interaction:function(t){return v("tooltip",t),this},show:function(){return o.show.apply(o,arguments),this},hide:function(){return o.hide.apply(o,arguments),this},isVisible:function(){return o.isVisible()},mute:function(){return o.mute(),this},unmute:function(){return o.unmute(),this},setKey:function(){return o.setKey.apply(o,arguments),this},getKey:function(){return o.getKey()}}}:function(){return i}}},7396:(t,e,r)=>{r.r(e),r.d(e,{default:()=>c});var n=r(498);var a=r.n(n);var i=r(7397);var o=r(7276);var s=r(7277);var l=Object.assign({},o.default);l.instanceClass=i.BarProgress,l.defaultHeight=70,l.setupChartOptionsDimensions=function(){var t=this.custom,e=this.chartOptions;a().has(t,"height")?e.height=parseInt(t.height,10):e.height=a().get(this.charts,"barProgress.height",this.defaultHeight)},l.setupChartSheetOptionsItem=function(t){var e={categories:{colors:a().merge([],this.themeColors,t.colors||this.colors)},axis:[{},{}],graphOptions:{bar:{showValues:!!t.showInLineValues}},style:{inactive:a().get(t,"inactive",a().get(this.charts,"barProgress.colors.background")),inactiveColorAlpha:a().get(t,"inactiveAlpha",1)}};return(0,s.default)(e,t,this.charts),e};let c=Object.freeze(l)},7249:(t,e,r)=>{function n(t,e){var r=0;if(void 0===e){var n=!0,a=!1,i=void 0;try{for(var o=t[Symbol.iterator](),s;!(n=(s=o.next()).done);n=!0){var l=s.value;(l=+l)&&(r+=l)}}catch(t){a=!0,i=t}finally{try{n||null==o.return||o.return()}finally{if(a)throw i}}}else{var c=-1;var u=!0,h=!1,v=void 0;try{for(var d=t[Symbol.iterator](),p;!(u=(p=d.next()).done);u=!0){var f=p.value;(f=+e(f,++c,t))&&(r+=f)}}catch(t){h=!0,v=t}finally{try{u||null==d.return||d.return()}finally{if(h)throw v}}}return r}r.r(e),r.d(e,{default:()=>n})}}]);