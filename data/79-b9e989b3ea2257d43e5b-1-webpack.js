(self.webpackChunkbackend=self.webpackChunkbackend||[]).push([[79],{7193:(e,t,n)=>{(t=e.exports=n(482)(!1)).push([e.id,"._2JkYmtCRMeDCR5ETOg-PxQ {\n    position: relative;\n}\n\n.MyKbEG-a6pgf-2v7JNWAk {\n    position: absolute;\n    pointer-events: auto;\n    height: 50px;\n    width: 200px;\n    border-radius: 4px;\n    background-color: #333;\n    color: #FFF;\n    font-size: 13px;\n    z-index: 1;\n}\n\n.MyKbEG-a6pgf-2v7JNWAk._1ud6saQSyVljOkpinJa1UN {\n    flex-direction: row;\n}\n.MyKbEG-a6pgf-2v7JNWAk._3jbgrFOwhzWGC56M4BqgA3 {\n    flex-direction: column;\n}\n\n.etnyl_5DRCOlVEaBEF7Kc {\n    position: absolute;\n    cursor: default;\n}\n\n._3-ACjlJCWwgK-E_L0ucFCV {\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    pointer-events: none;\n    z-index: 5;\n}\n\n.Y8xHqKqygs_QW-mkJ7Hcb {\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    cursor: move;\n}\n\n.Eiz26vs6sopyhaLGTg1Sp {\n    position: absolute;\n    top: -30px;\n    right: -30px;\n    bottom: -30px;\n    left: -30px;\n    pointer-events: none;\n}\n",""]),t.locals={wrapper:"_2JkYmtCRMeDCR5ETOg-PxQ",callout:"MyKbEG-a6pgf-2v7JNWAk",horizontal:"_1ud6saQSyVljOkpinJa1UN",vertical:"_3jbgrFOwhzWGC56M4BqgA3",calloutEditItem:"etnyl_5DRCOlVEaBEF7Kc",calloutOverlay:"_3-ACjlJCWwgK-E_L0ucFCV",calloutOverlaySelect:"Y8xHqKqygs_QW-mkJ7Hcb",overlay:"Eiz26vs6sopyhaLGTg1Sp"}},7197:(e,t,n)=>{var r=n(649);(t=e.exports=n(482)(!1)).push([e.id,"._2e1ukwJgSrgQjsvZr_Ql1N {\n    width: 4px;\n    height: 16px;\n    display: block;\n    position: absolute;\n    background: url("+r(n(7198))+") no-repeat center center;\n    pointer-events: auto;\n}\n\n._2e1ukwJgSrgQjsvZr_Ql1N._34wgMP54-Nba6fJgRtInqi {\n    background-image: url("+r(n(7199))+");\n}\n\n._3kmx70mf1fL3QxU5aAQU4z,\n._2v-E7zp455rPYELpRHxUSi {\n    left: 50%;\n    transform: rotate(90deg) translateX(-50%);\n}\n._3kmx70mf1fL3QxU5aAQU4z:hover,\n._2v-E7zp455rPYELpRHxUSi:hover,\n._3kmx70mf1fL3QxU5aAQU4z._1n8_-lJOYsF-6Qd31xZUfq,\n._2v-E7zp455rPYELpRHxUSi._1n8_-lJOYsF-6Qd31xZUfq {\n    transform: rotate(90deg) translateX(-50%) scale(1.5);\n}\n\n._2qJ7IPZhc4hK6aQnTceZbx,\n._1NHwB4sjlyV39sO7_vUczR {\n    top: 50%;\n    transform: translateY(-50%);\n}\n._2qJ7IPZhc4hK6aQnTceZbx:hover,\n._1NHwB4sjlyV39sO7_vUczR:hover,\n._2qJ7IPZhc4hK6aQnTceZbx._1n8_-lJOYsF-6Qd31xZUfq,\n._1NHwB4sjlyV39sO7_vUczR._1n8_-lJOYsF-6Qd31xZUfq {\n    transform: translateY(-50%) scale(1.5);\n}\n\n._3kmx70mf1fL3QxU5aAQU4z {\n    top: -6px;\n    cursor: ns-resize;\n}\n._2v-E7zp455rPYELpRHxUSi {\n    bottom: -10px;\n    cursor: ns-resize;\n}\n._2qJ7IPZhc4hK6aQnTceZbx {\n    left: -2px;\n    cursor: ew-resize;\n}\n._1NHwB4sjlyV39sO7_vUczR {\n    right: -2px;\n    cursor: ew-resize;\n}\n\n._1-7YjYFlnWk7REKu-C4DAe {\n    width: 10px;\n    height: 10px;\n    display: block;\n    position: absolute;\n    cursor: pointer;\n    pointer-events: auto;\n    background: url("+r(n(7200))+") no-repeat center center;\n}\n\n._1-7YjYFlnWk7REKu-C4DAe._34wgMP54-Nba6fJgRtInqi {\n    background-image: url("+r(n(7201))+");\n}\n\n.Ual2JhPJAsByzbiNr1Npv {\n    top: -2px;\n    left: -2px;\n    transform: rotate(90deg);\n    cursor: nwse-resize;\n}\n.Ual2JhPJAsByzbiNr1Npv:hover, .Ual2JhPJAsByzbiNr1Npv._1n8_-lJOYsF-6Qd31xZUfq {\n    transform: rotate(90deg) scale(1.5) translate(1px, -1px);\n}\n\n._3y7UVk0T-fRvN5kQ5BPasn {\n    top: -2px;\n    right: -2px;\n    transform: rotate(180deg);\n    cursor: nesw-resize;\n}\n._3y7UVk0T-fRvN5kQ5BPasn:hover, ._3y7UVk0T-fRvN5kQ5BPasn._1n8_-lJOYsF-6Qd31xZUfq {\n    transform: rotate(180deg) scale(1.5) translate(1px, -1px);\n}\n\n._2Cdd86nBkd-22Mo-CpgMNx {\n    bottom: -2px;\n    right: -2px;\n    transform: rotate(270deg);\n    cursor: nwse-resize;\n}\n._2Cdd86nBkd-22Mo-CpgMNx:hover, ._2Cdd86nBkd-22Mo-CpgMNx._1n8_-lJOYsF-6Qd31xZUfq {\n    transform: rotate(270deg) scale(1.5) translate(1px, -1px);\n}\n\n._2Dv7RZw0GkQknELEROlc5x {\n    bottom: -2px;\n    left: -2px;\n    cursor: nesw-resize;\n}\n._2Dv7RZw0GkQknELEROlc5x:hover, ._2Dv7RZw0GkQknELEROlc5x._1n8_-lJOYsF-6Qd31xZUfq {\n    transform: scale(1.5) translate(1px, -1px);\n}\n\n._2e1ukwJgSrgQjsvZr_Ql1N,\n._1-7YjYFlnWk7REKu-C4DAe {\n    transition: transform 100ms ease-out;\n}\n",""]),t.locals={sideHandle:"_2e1ukwJgSrgQjsvZr_Ql1N",prezigram:"_34wgMP54-Nba6fJgRtInqi",n:"_3kmx70mf1fL3QxU5aAQU4z",s:"_2v-E7zp455rPYELpRHxUSi",selected:"_1n8_-lJOYsF-6Qd31xZUfq",w:"_2qJ7IPZhc4hK6aQnTceZbx",e:"_1NHwB4sjlyV39sO7_vUczR",cornerHandle:"_1-7YjYFlnWk7REKu-C4DAe",nw:"Ual2JhPJAsByzbiNr1Npv",ne:"_3y7UVk0T-fRvN5kQ5BPasn",se:"_2Cdd86nBkd-22Mo-CpgMNx",sw:"_2Dv7RZw0GkQknELEROlc5x"}},7160:(e,t,n)=>{(t=e.exports=n(482)(!1)).push([e.id,"._3FcCNm_K416zuBH3V4S85y {\n    top: -10px;\n    left: -10px;\n}\n._1v3_xhjaCYhJivWNY6SSXf {\n    top: -10px;\n    left: calc(50% - 10px);\n}\n._3IkWwYgbKUn50oG8I2Gzh7 {\n    top: -10px;\n    right: -10px;\n}\n.rXDWt5byIe9ZZjVwKcKaW {\n    left: -10px;\n    top: calc(50% - 10px);\n}\n.Q1o9UdUFzoVnyZnsI4RRu {\n    left: calc(50% - 10px);\n    top: calc(50% - 10px);\n}\n._39fZePyY5DIyZvdKypTDsq {\n    right: -10px;\n    top: calc(50% - 10px);\n}\n.Kf5HZ96DKy41PJ1QdKFO1 {\n    bottom: -10px;\n    left: -10px;\n}\n._263CPDCgA3ld7DzUSXWQ76 {\n    bottom: -10px;\n    left: calc(50% - 10px);\n}\n._3qxD5pL_D6d1IdSzCpDEmh {\n    bottom: -10px;\n    right: -10px;\n}\n",""]),t.locals={nw:"_3FcCNm_K416zuBH3V4S85y",n:"_1v3_xhjaCYhJivWNY6SSXf",ne:"_3IkWwYgbKUn50oG8I2Gzh7",w:"rXDWt5byIe9ZZjVwKcKaW",center:"Q1o9UdUFzoVnyZnsI4RRu",e:"_39fZePyY5DIyZvdKypTDsq",sw:"Kf5HZ96DKy41PJ1QdKFO1",s:"_263CPDCgA3ld7DzUSXWQ76",se:"_3qxD5pL_D6d1IdSzCpDEmh"}},7094:(e,t,n)=>{(t=e.exports=n(482)(!1)).push([e.id,"._2_xxOi2TPNc73E6mzdDyyE {\r\n  position: relative;\r\n}\r\n",""]),t.locals={droppableInfographicEditor:"_2_xxOi2TPNc73E6mzdDyyE"}},7164:(e,t,n)=>{(t=e.exports=n(482)(!1)).push([e.id,"._14fds1zp4Ma7oI4rEDnhGT {\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    box-sizing: border-box;\n}\n\n._3itQaNaHTNFtipKsYYg7oG {\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    box-sizing: border-box;\n}\n\n._1aOeiiOt3WygNFqvfCmBGX {\n    top: -24px;\n    right: -1px;\n    border-radius: 4px;\n    position: absolute;\n    color: white;\n    padding: 3px;\n    font-size: 12px;\n}\n\n.TcnmMDHaIbwLxPZx9J1Zl {\n    position: absolute;\n    pointer-events: none;\n    z-index: 1;\n}\n",""]),t.locals={container:"_14fds1zp4Ma7oI4rEDnhGT",border:"_3itQaNaHTNFtipKsYYg7oG",username:"_1aOeiiOt3WygNFqvfCmBGX",highlight:"TcnmMDHaIbwLxPZx9J1Zl"}},7146:(e,t,n)=>{(t=e.exports=n(482)(!1)).push([e.id,"._24lLGmRDcNw_dIH0AL_7iB {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    background: #fff;\n}\n\n._386twuBpgmEEmpVQeSAHto {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    opacity: 0.5;\n}\n\n._1ijU__Dq4DPLkrxGzj7F8- {\n    pointer-events: auto;\n    cursor: grab;\n}\n\n._1amREtop4c-HGwYbGbvI8z {\n    cursor: grabbing;\n}\n\n.wJem9qYHKSzsO5d_lR9U9 {\n    position: absolute;\n    overflow: hidden;\n}\n\n._mAVZ2K2bzwSWgxKA20k {\n    position: absolute;\n}\n\n._17DZGw_UMkidLQzj6zqI5u,\n._3f_i2tRbMJ0iQfXDBKEW95 {\n    width: 15px;\n    height: 3px;\n    left: 50%;\n    transform: translateX(-50%);\n}\n._17DZGw_UMkidLQzj6zqI5u:hover,\n._3f_i2tRbMJ0iQfXDBKEW95:hover {\n    transform: translateX(-50%) scale(1.5);\n}\n\n._3hpZSIf02CeSNPNFGL4cX6,\n._3eGpzkXhWxjiONt-rlaD21 {\n    width: 3px;\n    height: 15px;\n    top: 50%;\n    transform: translateY(-50%);\n}\n._3hpZSIf02CeSNPNFGL4cX6:hover,\n._3eGpzkXhWxjiONt-rlaD21:hover {\n    transform: translateY(-50%) scale(1.5);\n}\n\n._17DZGw_UMkidLQzj6zqI5u {\n    top: -4px;\n    cursor: n-resize;\n}\n._3f_i2tRbMJ0iQfXDBKEW95 {\n    bottom: -4px;\n    cursor: s-resize;\n}\n._3hpZSIf02CeSNPNFGL4cX6 {\n    left: -4px;\n    cursor: w-resize;\n}\n._3eGpzkXhWxjiONt-rlaD21 {\n    right: -4px;\n    cursor: e-resize;\n}\n\n._2-Z5KP4_DqT8SZxrVVyC-N {\n    top: -4px;\n    left: -4px;\n    cursor: nw-resize;\n}\n._2-Z5KP4_DqT8SZxrVVyC-N:hover {\n    transform: scale(1.5);\n}\n\n._1r2p9DbL8irH3tlvXFxn_w {\n    top: -4px;\n    right: -4px;\n    transform: rotate(90deg);\n    cursor: ne-resize;\n}\n._1r2p9DbL8irH3tlvXFxn_w:hover {\n    transform: rotate(90deg) scale(1.5);\n}\n\n._3Jk4Zm5I0v0qCRk0bhIyJs {\n    bottom: -4px;\n    right: -4px;\n    transform: rotate(180deg);\n    cursor: se-resize;\n}\n._3Jk4Zm5I0v0qCRk0bhIyJs:hover {\n    transform: rotate(180deg) scale(1.5);\n}\n\n._1EPEAYJ1xCcdvncIPoTPt8 {\n    bottom: -4px;\n    left: -4px;\n    transform: rotate(270deg);\n    cursor: sw-resize;\n}\n._1EPEAYJ1xCcdvncIPoTPt8:hover {\n    transform: rotate(270deg) scale(1.5);\n}\n\n.Vunraq2yFK8_L3qE9HYCc,\n.yCdcdFrZGotgRwIGkGAeA {\n    transition: transform 100ms ease-out;\n}\n",""]),t.locals={container:"_24lLGmRDcNw_dIH0AL_7iB",cropBackground:"_386twuBpgmEEmpVQeSAHto",draggableBackground:"_1ijU__Dq4DPLkrxGzj7F8-",draggingBackground:"_1amREtop4c-HGwYbGbvI8z",previewContainer:"wJem9qYHKSzsO5d_lR9U9",cropPreview:"_mAVZ2K2bzwSWgxKA20k",topHandle:"_17DZGw_UMkidLQzj6zqI5u",bottomHandle:"_3f_i2tRbMJ0iQfXDBKEW95",leftHandle:"_3hpZSIf02CeSNPNFGL4cX6",rightHandle:"_3eGpzkXhWxjiONt-rlaD21",topLeftHandle:"_2-Z5KP4_DqT8SZxrVVyC-N",topRightHandle:"_1r2p9DbL8irH3tlvXFxn_w",bottomRightHandle:"_3Jk4Zm5I0v0qCRk0bhIyJs",bottomLeftHandle:"_1EPEAYJ1xCcdvncIPoTPt8",sideHandle:"Vunraq2yFK8_L3qE9HYCc",cornerHandle:"yCdcdFrZGotgRwIGkGAeA"}},7151:(e,t,n)=>{(t=e.exports=n(482)(!1)).push([e.id,"._7F4Du4QULhT9hrP6W8dfc {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    background: #fff;\n    z-index: 1;\n}\n\n._2lgtazEtFwc2F5pJlUs8Ug {\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    border: 1px dotted #3195cb;\n    transform-origin: 50% 50%;\n}\n\n._2lgtazEtFwc2F5pJlUs8Ug._2VEEObg5qY2LuwQH_xSb3N {\n    border-color: #1E55EB;\n}\n\n.Bk87vnu9ySW7PPGJCgWpT {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    opacity: .5;\n    pointer-events: auto;\n    cursor: grab;\n}\n\n._25FdaVd1hdY_MFUV2jIl6B {\n    pointer-events: auto;\n    cursor: grab;\n}\n\n._2JjwwFGXeVCMGaLVAPxCHd {\n    cursor: grabbing;\n}\n\n._1WCYG90HItV-GDrCwVHX_A {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n}\n\n._1mqEolyZPAOFLcc6Tv54Dx {\n    position: absolute;\n    pointer-events: none;\n}\n\n._6iLiQc328B94GBUVfdXHG {\n    cursor: ne-resize;\n}\n\n._3m-_bd9o4TRwVW4fIN-dIW {\n    cursor: se-resize;\n}\n\n.XDlnA8oHDEkx4ALDFDvGD {\n    cursor: sw-resize;\n}\n\n._1pYxf9xwsuCAArivN9kUlQ {\n    cursor: nw-resize;\n}\n",""]),t.locals={container:"_7F4Du4QULhT9hrP6W8dfc",mask:"_2lgtazEtFwc2F5pJlUs8Ug",maskPrezigram:"_2VEEObg5qY2LuwQH_xSb3N",background:"Bk87vnu9ySW7PPGJCgWpT",draggableBackground:"_25FdaVd1hdY_MFUV2jIl6B",draggingBackground:"_2JjwwFGXeVCMGaLVAPxCHd",preview:"_1WCYG90HItV-GDrCwVHX_A",selector:"_1mqEolyZPAOFLcc6Tv54Dx",ne:"_6iLiQc328B94GBUVfdXHG",se:"_3m-_bd9o4TRwVW4fIN-dIW",sw:"XDlnA8oHDEkx4ALDFDvGD",nw:"_1pYxf9xwsuCAArivN9kUlQ"}},7079:(e,t,n)=>{(t=e.exports=n(482)(!1)).push([e.id,"._3RlZyoFq8cVDAlWG1Sw_kg {\n    position: absolute;\n    top: -30px;\n    right: -30px;\n    bottom: -30px;\n    left: -30px;\n}\n\n._3gXkVFyF4sqO8qbVoF94w3 {\n    position: absolute;\n    top: 30px;\n    right: 30px;\n    bottom: 30px;\n    left: 30px;\n    cursor: move;\n}\n\n._1BZIFp5hXUEWExNBdUJ9X0 {\n    pointer-events: auto;\n    position: absolute;\n    height: 11px;\n    width: 11px;\n    padding: 3px;\n}\n\n._1UP3fhANfTxN0p3PTRxaUv {\n    pointer-events: auto;\n    position: absolute;\n}\n\n.JobBQiwGqcOI6IQgJAZxP {\n    position: absolute;\n    margin-left: auto;\n    margin-right: auto;\n    left: 0px;\n    bottom: 0px;\n    cursor: pointer;\n    pointer-events: auto;\n}\n\n._2HwFDLuGWzO6CqrKkvkufK {\n    top: 22px;\n    right: 22px;\n}\n\n._2bY6bQQr7zN5JZy7Dptb1E {\n    bottom: 22px;\n    right: 22px;\n}\n\n._1URne1OECr2LNWwkVDV_RI {\n    bottom: 22px;\n    left: 22px;\n}\n\n._17Sum2bPk_4yUpBBPSUqq9 {\n    top: 22px;\n    left: 22px;\n}\n\n._13eq5M1ngWKc96cPdiPj3a {\n    top: 22px;\n    left: calc(50% - 8px);\n}\n\n.eyWKfy-g7yzv2hk2A4h24,\n._1-28k5q9Bj-G-tx0-8_WuF {\n    top: calc(50% - 8px);\n    left: 22px;\n}\n\n._22ez5hpRDc1gA9_j3-NvKO {\n    bottom: 22px;\n    left: calc(50% - 8px);\n}\n\n._13oA2Cf__9Bc1PhlwGQSME,\n._22tWNUCFbDdKHwX5bBN2r6 {\n    right: 22px;\n    top: calc(50% - 8px);\n}\n\n.sjgFRLhVr_2Zy8vYtfcCA {\n    top: calc(50% - 7px);\n    left: 23px;\n}\n\n._1tVw9zDNweqixeFpQYHrf4 {\n    top: calc(50% - 7px);\n    right: 23px;\n}\n\n.RtSgSBxPJBfeI5YGT_Uan {\n    top: -19px;\n    right: -1px;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n    position: absolute;\n    color: white;\n    white-space: nowrap;\n    padding: 3px;\n    font-size: 12px;\n}\n",""]),t.locals={selector:"_3RlZyoFq8cVDAlWG1Sw_kg",border:"_3gXkVFyF4sqO8qbVoF94w3",resizeHandle:"_1BZIFp5hXUEWExNBdUJ9X0",lineResizeHandle:"_1UP3fhANfTxN0p3PTRxaUv",rotationIcon:"JobBQiwGqcOI6IQgJAZxP",ne:"_2HwFDLuGWzO6CqrKkvkufK",se:"_2bY6bQQr7zN5JZy7Dptb1E",sw:"_1URne1OECr2LNWwkVDV_RI",nw:"_17Sum2bPk_4yUpBBPSUqq9",n:"_13eq5M1ngWKc96cPdiPj3a",w:"eyWKfy-g7yzv2hk2A4h24",right:"_1-28k5q9Bj-G-tx0-8_WuF",s:"_22ez5hpRDc1gA9_j3-NvKO",e:"_13oA2Cf__9Bc1PhlwGQSME",left:"_22tWNUCFbDdKHwX5bBN2r6",begin:"sjgFRLhVr_2Zy8vYtfcCA",end:"_1tVw9zDNweqixeFpQYHrf4",username:"RtSgSBxPJBfeI5YGT_Uan"}},7092:(e,t,n)=>{(t=e.exports=n(482)(!1)).push([e.id,'._1cAw051LQZOw2_jdfCzStQ {\n    background-color: #38a86f;\n    height: 40px;\n    border-radius: 6px;\n    color: white;\n    font-size: 15px;\n    text-align: center;\n    line-height: 40px;\n    font-weight: 500;\n    margin-top: 10px;\n    margin-bottom: 20px;\n    cursor: pointer;\n}\n\n._1cAw051LQZOw2_jdfCzStQ:hover {\n    background-color: #64b88d;\n}\n\n._1cAw051LQZOw2_jdfCzStQ:after {\n  content: "";\n  display: block;\n  height: 20px;\n}\n',""]),t.locals={button:"_1cAw051LQZOw2_jdfCzStQ"}},7217:(e,t,n)=>{(t=e.exports=n(482)(!1)).push([e.id,"._2dtVQRXWUiPmbQfj-fIzjb {\n	list-style: none;\n	padding: 0;\n	margin: 0 0 70px 0;\n}\n\n._2510-zrO9rAtpsUf7OJ6td {\n	display: block;\n	position: relative;\n	padding: 15px 0 15px 40px;\n	margin: 0;\n	cursor: pointer;\n}\n\n._2510-zrO9rAtpsUf7OJ6td:before {\n	content: '';\n	position: absolute;\n	width: 1px;\n	top: 0;\n	left: 20px;\n	bottom: 0;\n	background-color: #656565;\n}\n\n._2510-zrO9rAtpsUf7OJ6td:after {\n	content: '';\n	position: absolute;\n	left: 17px;\n	top: 17px;\n	width: 7px;\n	height: 7px;\n	background-color: #656565;\n	border-radius: 50%;\n}\n\n._2510-zrO9rAtpsUf7OJ6td:last-child:before {\n	bottom: auto;\n	height: 17px;\n}\n\n._2510-zrO9rAtpsUf7OJ6td:first-child:before {\n	top: 15px;\n}\n\n._2510-zrO9rAtpsUf7OJ6td:first-child:after {\n	width: 11px;\n	height: 11px;\n	left: 15px;\n	top: 15px;\n}\n\n._1-f7CRhhtCLpjPiDSfKMKW {\n	background-color: #656565;\n}\n\n._1-f7CRhhtCLpjPiDSfKMKW:after {\n	background-color: #cacaca;\n}\n\n._1qghFzpelIhDHSXMsrTLrR {\n	margin-top: 5px;\n	white-space: nowrap;\n	overflow: hidden;\n	text-overflow: ellipsis;\n}\n\n._3nxToVRFV-oCqxLHdMj-Gb {\n	display: inline-block;\n	vertical-align: middle;\n	width: 20px;\n	height: 20px;\n	line-height: 21px;\n	background-size: cover;\n	border-radius: 100%;\n	border: none;\n	font-size: 10px;\n	font-weight: 500;\n}\n\n.A051V1q8Qr3yRgunJdA5z {\n	display: inline-block;\n	font-size: 11px;\n	margin-left: 5px;\n	color: #fff;\n	opacity: 0.5;\n}\n",""]),t.locals={list:"_2dtVQRXWUiPmbQfj-fIzjb",item:"_2510-zrO9rAtpsUf7OJ6td",selected:"_1-f7CRhhtCLpjPiDSfKMKW",author:"_1qghFzpelIhDHSXMsrTLrR",avatar:"_3nxToVRFV-oCqxLHdMj-Gb",name:"A051V1q8Qr3yRgunJdA5z"}},7220:(e,t,n)=>{(t=e.exports=n(482)(!1)).push([e.id,"._4dlW5NPA5B4XBQ6CsoxMI {\n    font-size: 15px;\n    font-weight: 500;\n    display: inline-block;\n    vertical-align: middle;\n    margin-left: 25px;\n}\n\n._31bPTCHKYRvGLxztuyvCL- {\n    display: inline-block;\n    vertical-align: middle;\n}\n\n._1cGeIkQFWJwmcvwwiJ7_5j {\n    display: inline-block;\n    vertical-align: middle;\n    margin-left: 5px;\n}\n\n._3agSnovTsqf6vhTz5FsdiO {\n    display: inline-block;\n    vertical-align: middle;\n    margin-left: 10px;\n}\n\n._1mpctopZvYgtBUZbwJDKND {\n    display: inline-block;\n    vertical-align: middle;\n}\n\n._3UdC45V_jOWnMS_tFe5I7U {\n    display: inline-block;\n    vertical-align: middle;\n    margin-left: 20px;\n    width: 35px;\n    height: 35px;\n    line-height: 37px;\n    background-size: cover;\n    border-radius: 100%;\n}\n\n._2JYlnyvEcYU7S196gRlJLh {\n    display: inline-block;\n    vertical-align: middle;\n    margin-left: 10px;\n    color: #9d9d9d;\n}\n",""]),t.locals={title:"_4dlW5NPA5B4XBQ6CsoxMI",icon:"_31bPTCHKYRvGLxztuyvCL-",label:"_1cGeIkQFWJwmcvwwiJ7_5j",version:"_3agSnovTsqf6vhTz5FsdiO",date:"_1mpctopZvYgtBUZbwJDKND",avatar:"_3UdC45V_jOWnMS_tFe5I7U",name:"_2JYlnyvEcYU7S196gRlJLh"}},7224:(e,t,n)=>{(t=e.exports=n(482)(!1)).push([e.id,"._1UMgMs7pUu-DWwYcmyw3gc {\n    background-color: #2d2d2d;\n    vertical-align: middle;\n    line-height: 45px;\n    padding-left: 17px;\n    margin: 0;\n}\n\n.rZlw9sQEa3FGwXfDi7Cpo {\n    vertical-align: middle;\n    height: 40px;\n    font-size: 14px;\n    background-color: #c13134;\n    min-width: 190px;\n    padding: 0;\n}\n\n.rZlw9sQEa3FGwXfDi7Cpo:hover {\n    background-color: #dc5356;\n}\n\n.hJCgOEHrukZTvIl1NGGl1 {\n    position: fixed;\n    left: 50px;\n    right: 232px;\n    top: 80px;\n    padding-top: 20px;\n    bottom: 0px;\n    overflow-y: scroll;\n}\n\n.tz_48AX23UoEPMqG-1u_I {\n    overflow: initial;\n}\n\n._3mZK7nVc7dRO3ApTCfCeZI {\n    cursor: default;\n    font-size: 11px;\n    font-weight: 500;\n    color: #656565;\n    height: 23px;\n}\n\n.PQvtrNdK3kN1-d9ogcbX9 {\n    margin-bottom: 50px;\n}\n\n._1WqTbSEH1c4DRuh5SWI3lH {\n    position: fixed;\n    top: 80px;\n    bottom: 0;\n    background: linear-gradient(135.16deg, #419BAD 0%, #582E8D 100%);\n    height: 100%;\n    width: 100%;\n    opacity: 0.95;\n}\n\n._1WqTbSEH1c4DRuh5SWI3lH:after {\n    content: '';\n    background: url('/i/paywalls/waves.svg') no-repeat 100% 100%;\n    background-size: contain;\n    position: absolute;\n    width: 100%;\n    height: 205px;\n    max-width: 1600px;\n    bottom: 80px;\n    left: 50%;\n    transform: translateX(-50%);\n    pointer-events: none;\n}\n\n._3KYBwlRncafgN6BSCEtfd8 {\n    position: fixed;\n    top: 80px;\n    bottom: 0;\n    height: 100%;\n    width: 100%;\n    text-align: center;\n    padding-top: 50px;\n}\n\n._36oLJBhM_gHNfjyLkE56sf {\n    width: 120px;\n}\n\n._3OOi6chTgLbxlN8YkZcbZ8 {\n    font-size: 37px;\n    margin: 24px 0 22px;\n    font-weight: 300;\n}\n\n._2DIKg1u6-uuKt1LiTloVQb {\n    line-height: 22px;\n    font-size: 15px;\n    font-weight: 500;\n}\n\n._2ArLGUIEAqw30-EVTK7uY- {\n    display: inline-block;\n    height: 50px;\n    width: 280px;\n    line-height: 48px;\n    border-radius: 4px;\n    margin: 28px 0;\n    font-size: 17px;\n}\n",""]),t.locals={panelTitle:"_1UMgMs7pUu-DWwYcmyw3gc",toolbarRestoreButton:"rZlw9sQEa3FGwXfDi7Cpo",contents:"hJCgOEHrukZTvIl1NGGl1",contentsPaywall:"tz_48AX23UoEPMqG-1u_I",pageIndicatorText:"_3mZK7nVc7dRO3ApTCfCeZI",blockContainer:"PQvtrNdK3kN1-d9ogcbX9",paywallBackground:"_1WqTbSEH1c4DRuh5SWI3lH",paywallContent:"_3KYBwlRncafgN6BSCEtfd8",paywallImage:"_36oLJBhM_gHNfjyLkE56sf",paywallTitle:"_3OOi6chTgLbxlN8YkZcbZ8",paywallText:"_2DIKg1u6-uuKt1LiTloVQb",paywallButton:"_2ArLGUIEAqw30-EVTK7uY-"}},7201:(e,t,n)=>{e.exports=n.p+"bba36cbb2865970c732fce62461d92df.svg"},7200:(e,t,n)=>{e.exports=n.p+"440ad7459cef7c6f10696dff6d135bf9.svg"},7199:(e,t,n)=>{e.exports=n.p+"c88831e5b58b6aab7b433f723775af40.svg"},7198:(e,t,n)=>{e.exports=n.p+"a7a8404e251f73dcaab3b6111da2087c.svg"},7081:(e,t,n)=>{e.exports=n.p+"79ec80a0e5e45c9fed0e138ab18cbcf2.svg"},7080:(e,t,n)=>{e.exports=n.p+"b183c7180b09843ecb4b1778e90565a0.svg"},7179:(e,t,n)=>{e.exports=n.p+"cde1f32faace6aacd75159c153d54e99.svg"},7178:(e,t,n)=>{e.exports=n.p+"2734b7a0dbef19e0903b8bc4da097f60.svg"},7177:(e,t,n)=>{e.exports=n.p+"4b59ee38617d5d76a2ed3e09d0dc1a26.svg"},7176:(e,t,n)=>{e.exports=n.p+"443f4544c10b6046c05e519bafc93d48.svg"},7175:(e,t,n)=>{e.exports=n.p+"39994a8515b2aa321703d40dafe8a743.svg"},7171:(e,t,n)=>{e.exports=n.p+"738a3281b62ed6a6b8cafa28cc7cb713.svg"},7170:(e,t,n)=>{e.exports=n.p+"434dec2ebffdf5828651a17dd55ed3dd.svg"},7180:(e,t,n)=>{e.exports=n.p+"260ebc7d107d86b826eb7e8215079d1a.svg"},7174:(e,t,n)=>{e.exports=n.p+"60893ff3aab174903f16d1ab3220fcdb.svg"},7173:(e,t,n)=>{e.exports=n.p+"d5cca40ace644d35ebc860cb51c24a05.svg"},7172:(e,t,n)=>{e.exports=n.p+"5c35a1086431da745788ec8b9710cac1.svg"},7102:(e,t,n)=>{e.exports=n.p+"7ef6c14f4d09b26e17825e7c3eaf252a.svg"},7101:(e,t,n)=>{e.exports=n.p+"23b935c2b5c2a68d042b8add07f140e7.svg"},7104:(e,t,n)=>{e.exports=n.p+"be71796d9b787f4b93172d78f2bf1947.svg"},7103:(e,t,n)=>{e.exports=n.p+"fdc934992380bbc6488a717096c9e90b.svg"},7110:(e,t,n)=>{e.exports=n.p+"9140957c7c751684a0d27d0da5364eff.svg"},7113:(e,t,n)=>{e.exports=n.p+"9438e1361cced3513805c35e84f678ec.svg"},7112:(e,t,n)=>{e.exports=n.p+"60802bcb3fc57ff75316884c9c74dc5a.svg"},7111:(e,t,n)=>{e.exports=n.p+"92d3ee8c901a1d1bb23df92bcc00274b.svg"},7114:(e,t,n)=>{e.exports=n.p+"0c45ba9ec1c45169d6726a6afe084a9f.svg"},7140:(e,t,n)=>{e.exports=n.p+"436853423c7cde587a2864582d28ec78.svg"},7142:(e,t,n)=>{e.exports=n.p+"18e91817ce3d693866f097e616ef72c1.svg"},7131:(e,t,n)=>{e.exports=n.p+"21d4bbb4ab03247880f1335ae0d353a9.svg"},7132:(e,t,n)=>{e.exports=n.p+"533529adffa7fbc30f7acabd3b5299c9.svg"},7136:(e,t,n)=>{e.exports=n.p+"806ae3cda9017f0f6c8a2c0a58223a9b.svg"},7135:(e,t,n)=>{e.exports=n.p+"b89eb01bd4cc6b8bde81001e5f37ea0e.svg"},7120:(e,t,n)=>{e.exports=n.p+"af93b6cc21148318a3ceee0cf368a288.svg"},7118:(e,t,n)=>{e.exports=n.p+"3080190c0361b3120dd87f61368261df.svg"},7119:(e,t,n)=>{e.exports=n.p+"bbd98be12a445bd0655e95c2036de77b.svg"},7117:(e,t,n)=>{e.exports=n.p+"47c5b128347e448182388404d5fc7e20.svg"},7129:(e,t,n)=>{e.exports=n.p+"2e576ee67aa180d0c2c83764793ee513.svg"},7130:(e,t,n)=>{e.exports=n.p+"6b8334f7a9de92bdbb7f64b105a68b26.svg"},7139:(e,t,n)=>{e.exports=n.p+"4fb72f505d30d63dc89e91ddeb9e10d2.svg"},7138:(e,t,n)=>{e.exports=n.p+"6cb59cfe90ccd8384bd51e134b5ddcef.svg"},7124:(e,t,n)=>{e.exports=n.p+"833fbb512b14b7deed349758f6370f77.svg"},7122:(e,t,n)=>{e.exports=n.p+"3251acd3588c6b5e4d2a7fdd3defafc9.svg"},7123:(e,t,n)=>{e.exports=n.p+"cdbb3c99d1577e83f4177ae09e111ab6.svg"},7121:(e,t,n)=>{e.exports=n.p+"d7ab86a1a63bbfbf7ecce448a120e213.svg"},7141:(e,t,n)=>{e.exports=n.p+"757d207839a0cfbac2893754b659541b.svg"},7127:(e,t,n)=>{e.exports=n.p+"02d4c0b947774f92c3a8049b6604efb6.svg"},7128:(e,t,n)=>{e.exports=n.p+"80bd3829a6eb5d602f03c0b6230bff77.svg"},7133:(e,t,n)=>{e.exports=n.p+"75184516596e637d8550f5292fbc18f2.svg"},7134:(e,t,n)=>{e.exports=n.p+"c609f672e78eccae22bb18a7e17e0bc8.svg"},7086:(e,t,n)=>{e.exports=n.p+"7b8bdf71864ed0e12c4f6b198fd54f99.svg"},7192:(e,t,n)=>{var r=n(7193);var o;"string"==typeof r&&(r=[[e.id,r,""]]);var a={hmr:!0};a.transform=o,a.insertInto=void 0,n(483)(r,a),r.locals&&(e.exports=r.locals)},7196:(e,t,n)=>{var r=n(7197);var o;"string"==typeof r&&(r=[[e.id,r,""]]);var a={hmr:!0};a.transform=o,a.insertInto=void 0,n(483)(r,a),r.locals&&(e.exports=r.locals)},7159:(e,t,n)=>{var r=n(7160);var o;"string"==typeof r&&(r=[[e.id,r,""]]);var a={hmr:!0};a.transform=o,a.insertInto=void 0,n(483)(r,a),r.locals&&(e.exports=r.locals)},7093:(e,t,n)=>{var r=n(7094);var o;"string"==typeof r&&(r=[[e.id,r,""]]);var a={hmr:!0};a.transform=o,a.insertInto=void 0,n(483)(r,a),r.locals&&(e.exports=r.locals)},7163:(e,t,n)=>{var r=n(7164);var o;"string"==typeof r&&(r=[[e.id,r,""]]);var a={hmr:!0};a.transform=o,a.insertInto=void 0,n(483)(r,a),r.locals&&(e.exports=r.locals)},7145:(e,t,n)=>{var r=n(7146);var o;"string"==typeof r&&(r=[[e.id,r,""]]);var a={hmr:!0};a.transform=o,a.insertInto=void 0,n(483)(r,a),r.locals&&(e.exports=r.locals)},7150:(e,t,n)=>{var r=n(7151);var o;"string"==typeof r&&(r=[[e.id,r,""]]);var a={hmr:!0};a.transform=o,a.insertInto=void 0,n(483)(r,a),r.locals&&(e.exports=r.locals)},7078:(e,t,n)=>{var r=n(7079);var o;"string"==typeof r&&(r=[[e.id,r,""]]);var a={hmr:!0};a.transform=o,a.insertInto=void 0,n(483)(r,a),r.locals&&(e.exports=r.locals)},7091:(e,t,n)=>{var r=n(7092);var o;"string"==typeof r&&(r=[[e.id,r,""]]);var a={hmr:!0};a.transform=o,a.insertInto=void 0,n(483)(r,a),r.locals&&(e.exports=r.locals)},7216:(e,t,n)=>{var r=n(7217);var o;"string"==typeof r&&(r=[[e.id,r,""]]);var a={hmr:!0};a.transform=o,a.insertInto=void 0,n(483)(r,a),r.locals&&(e.exports=r.locals)},7219:(e,t,n)=>{var r=n(7220);var o;"string"==typeof r&&(r=[[e.id,r,""]]);var a={hmr:!0};a.transform=o,a.insertInto=void 0,n(483)(r,a),r.locals&&(e.exports=r.locals)},7223:(e,t,n)=>{var r=n(7224);var o;"string"==typeof r&&(r=[[e.id,r,""]]);var a={hmr:!0};a.transform=o,a.insertInto=void 0,n(483)(r,a),r.locals&&(e.exports=r.locals)},7206:(e,t,n)=>{n.r(t),n.d(t,{BrandKitUpdateNotification:()=>f,default:()=>d});var r=n(406);var o=n(552);var a=n(374);var i=n(2595);var u=n(731);var c=n(4438);var l=n(7207);var s=n(7208);var f=function(e){var t=e.activeBrandkit;var n;var i=(0,o.useSelector)(function(e){return e.get("branding")});var u=(0,o.useDispatch)();var f=null===(n=i.brandkits)||void 0===n?void 0:n.some(function(e){var n=e.id,r=e.hash;return n===(null==t?void 0:t.get("id"))&&r!==(null==t?void 0:t.get("hash"))});return t&&f?r.createElement(l.ConfirmationNotification,{icon:r.createElement(s.BrandkitIcon,null),info:a.default.t("app.brandkit.brandkit_update_notification"),confirmLabel:a.default.t("app.brandkit.brandkit_update_apply"),dismissLabel:a.default.t("app.brandkit.brandkit_update_dismiss"),onConfirm:function(){var e;var n=null===(e=i.brandkits)||void 0===e?void 0:e.find(function(e){return e.id===(null==t?void 0:t.get("id"))});if(!n){console.warn("Unexpected: after succesful brand kit verification, it should be available here");return}u((0,c.applyBrandkit)(n))}}):null};let d=(0,i.withFluxProps)([u.default],function(){return{activeBrandkit:u.default.brandkit}})(f)},7208:(e,t,n)=>{n.r(t),n.d(t,{BrandkitIcon:()=>o});var r=n(406);var o=function(e){var t=e.width,n=e.height;return r.createElement("svg",{width:void 0===t?24:t,height:void 0===n?24:n,viewBox:"0 0 16 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.21 14.18l5.13-3.37a1 1 0 00.45-.835V4.789a1 1 0 00-.52-.877l-5.104-2.79a1 1 0 00-.96 0l-5.103 2.79a1 1 0 00-.52.877v5.516a1 1 0 00.487.858l5.078 3.038a1 1 0 001.063-.022zm-.25-4.225a.5.5 0 00-.547 0l-1.349.88a.5.5 0 01-.761-.525l.384-1.777a.5.5 0 00-.148-.47L3.23 6.835a.5.5 0 01.295-.863l1.655-.151a.5.5 0 00.42-.316l.622-1.585a.5.5 0 01.93 0l.623 1.585a.5.5 0 00.42.316l1.654.151a.5.5 0 01.296.863l-1.31 1.226a.5.5 0 00-.148.471l.384 1.777a.5.5 0 01-.762.524L6.96 9.955zM13.8 11.11l-5.441 3.36 1.305 2.062 5.441-3.358a.996.996 0 00.324-1.383l-.229-.362a1.023 1.023 0 00-1.4-.318zm-6.242 3.832l-.871 2.06h2.122l-1.251-2.06z",fill:"#fff"}))}},7207:(e,t,n)=>{n.r(t),n.d(t,{ConfirmationNotification:()=>O});var r=n(406);var o=n(423);var a=n(422);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function c(){var e=u(["\n    width: 370px;\n    color: ",";\n    font-size: 11px;\n    line-height: 1.5;\n    background: ",";\n    border-radius: 4px;\n    box-shadow: ",";\n    overflow: hidden;\n    display: flex;\n"]);return c=function(){return e},e}function l(){var e=u(["\n    width: 50px;\n    flex: 0 0 auto;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n"]);return l=function(){return e},e}function s(){var e=u(["\n    flex: 1 1 auto;\n    padding: 15px 12px 15px 0;\n    border-right: solid 2px ",";\n    display: flex;\n"]);return s=function(){return e},e}function f(){var e=u(["\n    flex: 0 0 auto;\n    width: 70px;\n    display: flex;\n    flex-direction: column;\n"]);return f=function(){return e},e}function d(){var e=u(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    transition: background ease-in-out 0.25s;\n    cursor: pointer;\n\n    &:hover {\n        background: ",";\n    }\n"]);return d=function(){return e},e}function p(){var e=u(["\n    flex: 1 1 auto;\n    border-top: solid 2px ",";\n"]);return p=function(){return e},e}function v(){var e=u(["\n    flex: 1 1 auto;\n"]);return v=function(){return e},e}var g=o.default.div(c(),a.default.white,a.default.neutral600,a.default.shadow.hover);var h=o.default.div(l());var b=o.default.div(s(),a.default.white);var y=o.default.div(f());var m=o.default.div(d(),a.default.neutral400);var _=(0,o.default)(m)(p(),a.default.white);var E=(0,o.default)(m)(v());var O=function(e){var t=e.icon,n=e.info,o=e.confirmLabel,a=e.dismissLabel,u=e.onConfirm;var c;var l=function(e){if(Array.isArray(e))return e}(c=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r=[];var o=!0;var a=!1;var i,u;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(r.push(i.value),!t||r.length!==t);o=!0);}catch(e){a=!0,u=e}finally{try{o||null==n.return||n.return()}finally{if(a)throw u}}return r}}(c,2)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}}(c,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=l[0],f=l[1];return s?null:r.createElement(g,null,r.createElement(h,null,t),r.createElement(b,null,n),r.createElement(y,null,r.createElement(E,{onClick:function(){return f(!0)}},a),r.createElement(_,{onClick:u},o)))}},7209:(e,t,n)=>{n.r(t),n.d(t,{FirstTimeBrandkitAvailable:()=>y,default:()=>m});var r=n(406);var o=n(552);var a=n(374);var i=n(498);var u=n.n(i);var c=n(2600);var l=n(4426);var s=n(4438);var f=n(2891);var d=n(2442);var p=n(731);var v=n(2595);function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=(0,r.lazy)(function(){return n.e(88).then(n.bind(n,7469))});var y=function(e){var t=e.activeBrandkitId;var n,i;var p=(0,o.useDispatch)();var v=(0,o.useSelector)(function(e){return e.get("branding")});var y=(0,o.useSelector)(function(e){return e.get("userSettings")});var m="brandkit_first_time_available"in y&&!y.brandkit_first_time_available;var _=null==v?void 0:v.loaded;var E=null==v?void 0:null===(n=v.brandkits)||void 0===n?void 0:n.map(function(e){return e.id});var O=y.brandkits_seen;var x=u().difference(null==E?void 0:E.filter(function(e){return e!==t}),O)[0];var w=null==v?void 0:null===(i=v.brandkits)||void 0===i?void 0:i.find(function(e){return e.id===x});var R=(0,r.useCallback)(function(){var e;var n=E&&t?function(e){if(Array.isArray(e))return g(e)}(e=new Set(E.concat([t])))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}():E;p((0,d.updateUserSettings)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};var r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){h(e,t,n[t])})}return e}(h({},f.UserSetting.FirstTimeAvailable,!0),n&&h({},f.UserSetting.BrandkitsSeen,n))))},[p,E,t]);(0,r.useEffect)(function(){_||p((0,s.loadBrandkits)())},[_,p]),(0,r.useEffect)(function(){w&&c.logLoadedNewBrandkitPopup()},[w]),(0,r.useEffect)(function(){!w&&t&&O&&!O.includes(t)&&R()},[w,O,R,t]);var S=!m&&!(null==O?void 0:O.length)&&(null==E?void 0:E.length);return((0,r.useEffect)(function(){S&&R()},[S,R]),!w||S)?null:r.createElement(b,{title:m?a.default.t("app.brandkit.popup.first_time_brandkit_title"):a.default.t("app.brandkit.popup.new_brandkit_available"),body:a.default.t("app.brandkit.popup.body2"),brandkit:w,onContinue:function(){(0,l.openBrandkitSelector)(),R(),c.logContinueToNewBrandkit()},close:R})};let m=(0,v.withFluxProps)([p.default],function(){var e;return{activeBrandkitId:null===(e=p.default.brandkit)||void 0===e?void 0:e.get("id")}})(y)},7205:(e,t,n)=>{n.r(t),n.d(t,{Notifications:()=>d,NotificationsZIndex:()=>s});var r=n(406);var o=n(423);var a=n(1166);var i=n(3188);var u=n(7206);var c=n(7209);function l(){var e,t;var n=(e=["\n    position: fixed;\n    bottom: 10px;\n    right: 10px;\n    z-index: ",";\n\n    &:empty {\n        display: none;\n    }\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return l=function(){return n},n}var s=i.ToolbarZIndex+1;var f=o.default.div(l(),s);var d=function(){return r.createElement(f,null,r.createElement(u.default,null),a.default.features.brand_kit&&r.createElement(c.default,null))}},7212:(e,t,n)=>{n.r(t),n.d(t,{default:()=>F});var r=n(406);var o=n(374);var a=n(552);var i=n(876);var u=n(423);var c=n(1189);var l=n(422);var s=n(2795);var f=n(2595);var d=n(1161);var p=n(731);var v=n(2104);var g=n(4164);var h=n(6199);var b=n(6198);var y=n(6202);var m=n(728);var _=n(501);function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r=[];var o=!0;var a=!1;var i,u;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(r.push(i.value),!t||r.length!==t);o=!0);}catch(e){a=!0,u=e}finally{try{o||null==n.return||n.return()}finally{if(a)throw u}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function w(){var e=x(["\n    margin-left: 0px;\n    top: 7px;\n    right: 7px;\n"]);return w=function(){return e},e}function R(){var e=x(["\n            border: 2px solid ",";\n            box-shadow: none;\n            background: ",";\n        "]);return R=function(){return e},e}function S(){var e=x(["\n    position: fixed;\n    top: ","px;\n    min-height: ","px;\n    z-index: 1;\n    flex-direction: column;\n    text-align: left;\n    font-weight: 500;\n    background: #3c3b3b;\n    border-top: 2px solid #2d2d2d;\n    box-sizing: border-box;\n\n    ","\n"]);return S=function(){return e},e}function k(){var e=x(["\n            background: transparent;\n        "]);return k=function(){return e},e}function P(){var e=x(["\n    padding: 0 28px;\n\n    ","\n"]);return P=function(){return e},e}function j(){var e=x(["\n    display: flex;\n    flex-direction: row;\n    align-items: flex-start;\n    justify-content: left;\n    margin: 0;\n    padding: 5px 0 0 0;\n"]);return j=function(){return e},e}function C(){var e=x(["\n            color: ",";\n            font-family: ",";\n        "]);return C=function(){return e},e}function T(){var e=x(["\n    font-size: 11px;\n    line-height: 15px;\n    color: #d8d8d8;\n    opacity: ",";\n\n    ","\n"]);return T=function(){return e},e}function I(){var e=x(["\n            background-color: transparent;\n        "]);return I=function(){return e},e}function z(){var e=x(["\n    flex-grow: 1;\n    position: relative;\n    padding: 8px 4px 5px 5px;\n    padding-left: 28px;\n\n    ","\n"]);return z=function(){return e},e}function D(){var e=x(["\n    height: 10px;\n    width: 100%;\n    cursor: row-resize;\n    position: absolute;\n    bottom: -10px;\n    z-index: 99991;\n"]);return D=function(){return e},e}function A(){var e=x(["\n    display: none;\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    z-index: 99990;\n"]);return A=function(){return e},e}var L=(0,u.default)(c.HeaderClose)(w());var M=u.default.div.attrs(function(e){return{style:{left:"".concat(e.leftSideOffset,"px"),height:"".concat(e.$height,"px"),display:e.visible?"flex":"none",width:"calc(100% - ".concat(e.leftSideOffset+e.rightSideOffset,"px)")}}})(S(),80,100,function(e){return e.theme.id===l.default.id&&(0,u.css)(R(),l.default.neutral60,l.default.white)});var N=u.default.div(P(),function(e){return e.theme.id===l.default.id&&(0,u.css)(k())});var B=u.default.div(j());var q=u.default.span(T(),l.default.alpha40,function(e){return e.theme.id===l.default.id&&(0,u.css)(C(),l.default.neutral600,l.default.fonts.ralewayBold)});var U=u.default.div(z(),function(e){return e.theme.id===l.default.id&&(0,u.css)(I())});var H=u.default.div(D());var Y=u.default.div(A());let F=(0,f.withFluxProps)([d.default,p.default],function(){var e=d.default.activePageIndex;var t=d.default.activePageId;return -1===e&&(e=0,t=p.default.editorState.getCurrentContent().getBlocks().get(0).getKey()),{pageId:t,pageIndex:e,pageCount:p.default.editorState.getCurrentContent().getBlocks().size,notes:p.default.editorState.getBlockNotes(t)}})(function(e){var t=e.pageId,n=e.pageIndex,u=e.pageCount,c=e.notes;var l=O((0,r.useState)(60),2),f=l[0],d=l[1];var p,E,x;var w=O((E=(p=O((0,r.useState)(50),2))[0],x=p[1],(0,r.useEffect)(function(){var e=g.default.addListener(function(){x(50+(g.default.elementMenuOpen?282:0))});return function(){return e.remove()}},[50]),[E]),1)[0];var R,S,k;var P=O((S=(R=O((0,r.useState)(232),2))[0],k=R[1],(0,r.useEffect)(function(){var e=v.default.addListener(function(){k(v.default.open?v.default.width:232)});return function(){return e.remove()}},[232]),[S]),1)[0];var j;var C=(0,a.useSelector)(function(e){return null!==(j=e.get("presenterNotes"))&&void 0!==j?j:{}}).open;var T=(0,r.useRef)(!0);var I=(0,a.useDispatch)();var z=function(){(0,_.logClosePresenterNotesWebJs)({project_id:m.default.infographicId}),I({type:(0,i.getType)(s.closePresenterNotes)})};var D=(0,r.useCallback)(function(e){I({type:(0,i.getType)(s.setHeightPresenterNotes),payload:e})},[I]);var A=r.createRef();var F=r.createRef();var G=O((0,r.useState)(100),2),K=G[0],X=G[1];var V=O((0,r.useState)(100),2),W=V[0],Z=V[1];var J=O(r.useState(!0),2),Q=J[0],$=J[1];var ee=O(r.useState(!1),2),et=ee[0],en=ee[1];var er=O(r.useState(0),2),eo=er[0],ea=er[1];var ei=function(){A.current&&A.current.style.removeProperty("display"),en(!1),d(K-40),sessionStorage.setItem("presenterNotesHeight",K.toString()),D(K),Q||(z(),$(!0))};var eu=function(e){var t=Math.min(W-(eo-e.clientY),window.innerHeight/2);X(Math.max(100,t)),t<50?$(!1):!Q&&t>=100&&$(!0)};return((0,r.useEffect)(function(){if(et)return document.addEventListener("mouseup",ei),document.addEventListener("mousemove",eu),document.body.style.cursor="row-resize",function(){document.body.style.removeProperty("cursor"),document.removeEventListener("mouseup",ei),document.removeEventListener("mousemove",eu)}}),(0,r.useEffect)(function(){var e=Number(sessionStorage.getItem("presenterNotesHeight"))||100;X(e),d(e-40),D(e)},[D]),(0,r.useEffect)(function(){T.current=!0},[T,n,C]),C)?r.createElement(M,{"data-lookup":"presenter-notes-sidebar",$height:K,leftSideOffset:w,rightSideOffset:P,visible:Q},r.createElement(N,null,r.createElement(B,null,r.createElement(q,{"data-lookup":"presenter-notes-sidebar-title"},o.default.t("app.presenterNotes.pageTitle",{current:n+1,total:u})),r.createElement(L,{onClick:z}))),r.createElement(U,null,r.createElement(h.default,{maxHeight:f},r.createElement(b.default,{placeholder:o.default.t("app.presenterNotes.placeholder"),pageId:t,notes:c,open:C,onBlur:function(e){(0,y.savePresenterNotes)(t,e.target.value)},onChange:function(e,t){T.current&&(c?(0,_.logModifiedPresenterNotesWebJs)({project_id:m.default.infographicId,step_index:n}):(0,_.logInsertPresenterNotesWebJs)({project_id:m.default.infographicId,step_index:n}),T.current=!1),(0,y.savePresenterNotesThrottled)(e,t)},customCss:"\n    padding-right: 12px;\n    color: #d8d8d8;\n    background: #3c3b3b;\n",fontSize:15}))),r.createElement(H,{ref:F,onMouseDown:function(e){en(!0),ea(e.clientY),Z(K),A.current&&(A.current.style.display="block")}}),r.createElement(Y,{ref:A})):null})},6198:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var r=n(406);var o=n(423);var a=n(422);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function c(){var e=u(["\n            &::placeholder {\n                color: ",";\n            }\n        "]);return c=function(){return e},e}function l(){var e=u(["\n    box-sizing: border-box;\n    outline: none;\n    width: 100%;\n    height: 60px;\n    padding: 0;\n    resize: none;\n    overflow: hidden;\n    border: 0;\n\n    &:focus {\n        border-color: transparent;\n    }\n\n    &::placeholder {\n        color: #d8d8d8;\n        opacity: ",";\n    }\n\n    ","\n"]);return l=function(){return e},e}function s(){var e=u([void 0,void 0]);return s=function(){return e},e}var f=o.default.textarea.attrs(function(e){return{style:{fontSize:"".concat(e.fontSize,"px"),lineHeight:"".concat(Math.round(1.33*e.fontSize),"px")}}})(l(),a.default.alpha40,function(e){return e.theme.id===a.default.id&&(0,o.css)(c(),a.default.neutral600)});var d=(0,o.default)(f)(s(),function(e){return e.$_css});let p=(0,r.forwardRef)(function(e,t){var n=(0,r.useRef)();var o;var a;var u=function(e){if(Array.isArray(e))return e}(a=(0,r.useState)(null!==(o=e.notes)&&void 0!==o?o:""))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r=[];var o=!0;var a=!1;var i,u;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(r.push(i.value),!t||r.length!==t);o=!0);}catch(e){a=!0,u=e}finally{try{o||null==n.return||n.return()}finally{if(a)throw u}}return r}}(a,2)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}}(a,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=u[0],l=u[1];return(0,r.useEffect)(function(){var t;l(null!==(t=e.notes)&&void 0!==t?t:"")},[e.pageId]),(0,r.useImperativeHandle)(t,function(){return{focus:function(){var e;return null===(e=n.current)||void 0===e?void 0:e.focus()}}}),(0,r.useEffect)(function(){if(e.open){var t;null===(t=n.current)||void 0===t||t.focus(),(null==n?void 0:n.current)&&(n.current.selectionStart=n.current.value.length)}},[e.open,n]),(0,r.useEffect)(function(){n.current&&(n.current.style.removeProperty("height"),n.current.style.height="".concat(n.current.scrollHeight,"px"))},[c,n]),r.createElement(d,{placeholder:e.placeholder,onChange:function(t){l(t.target.value),e.onChange(e.pageId,t.target.value),t.stopPropagation()},value:c,onBlur:e.onBlur,onFocus:e.onFocus,ref:n,fontSize:e.fontSize,$_css:e.customCss})})},6202:(e,t,n)=>{n.r(t),n.d(t,{savePresenterNotes:()=>c,savePresenterNotesThrottled:()=>s});var r=n(498);var o=n.n(r);var a=n(434);var i=n(730);function u(e,t,n,r,o,a,i){try{var u=e[a](i);var c=u.value}catch(e){n(e);return}u.done?t(c):Promise.resolve(c).then(r,o)}function c(e,t){return l.apply(this,arguments)}function l(){var e;return e=function(e,t){return function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}(this,function(n){return a.default.dispatch({type:i.SET_PAGE_PRESENTER_NOTES,payload:{pageId:e,notes:t}}),[2]})},(l=function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){u(a,r,o,i,c,"next",e)}function c(e){u(a,r,o,i,c,"throw",e)}i(void 0)})}).apply(this,arguments)}var s=o().throttle(c,500)},7098:(e,t,n)=>{n.r(t),n.d(t,{HelpButton:()=>k,default:()=>I});var r=n(374);var o=n(406);var a=n(423);var i=n(552);var u=n(4316);var c=n(7099);var l=n(7100);var s=n(701);var f=n(422);var d=n(728);function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function b(){var e=h(["\n    background-color: #434343;\n    height: 30px;\n    text-align: center;\n    line-height: 30px;\n    color: #ffffff;\n    font-size: 11px;\n    font-weight: 500;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n\n    ","\n"]);return b=function(){return e},e}function y(){var e=h(["\n    min-width: 180px;\n    background-color: #2d2d2d;\n    border-radius: 4px;\n    box-shadow: 0px 10px 40px rgba(0, 0, 0, 0.5);\n    text-align: left;\n    cursor: default;\n\n    ","\n"]);return y=function(){return e},e}function m(){var e=h(["\n    cursor: help;\n    float: right;\n    margin-top: 2px;\n    font-size: 11px;\n    min-height: 16px;\n    padding-right: 25px;\n    background-image: url(",");\n    background-position: center right;\n    background-size: 16px;\n    background-repeat: no-repeat;\n    display: flex;\n    align-items: center;\n    color: #fff;\n\n    ","\n"]);return m=function(){return e},e}function _(){var e=h(["\n    padding-bottom: 10px;\n    font-size: 11px;\n"]);return _=function(){return e},e}function E(){var e=h(["\n    padding: 0 10px;\n\n    ","\n"]);return E=function(){return e},e}function O(){var e=h(["\n    padding-top: 8px;\n\n    ","\n"]);return O=function(){return e},e}function x(){var e=h(["\n    float: right;\n"]);return x=function(){return e},e}var w=[{id:"guides",text:r.default.t("app.freelayout_editor.layout.type.guides"),statusText:"",icon:"url(".concat(n(7101),")")},{id:"grid",text:r.default.t("app.freelayout_editor.layout.type.grid"),statusText:"",icon:"url(".concat(n(7102),")")}];var R=a.default.div(b(),function(e){return e.theme.id===f.default.id&&"\n        font-family: ".concat(f.default.fonts.ralewayBold,";\n        background-color: ").concat(f.default.neutral60,";\n        color: ").concat(f.default.neutral600,";\n    ")});var S=a.default.div(y(),function(e){return e.theme.id===f.default.id&&"\n        background-color: ".concat(f.default.white,";\n        box-shadow: ").concat(f.default.shadow.default,";\n    ")});var k=a.default.span(m(),n(7103),function(e){return e.theme.id===f.default.id&&"\n        font-family: inherit;\n        background-image: url(".concat(n(7104),");\n        color: rgba(55, 64, 80, 0.4);\n    ")});var P=a.default.div(_());var j=a.default.div(E(),function(e){return e.disabled&&"\n        pointer-events: none;\n        opacity: 0.5;\n    "});var C=a.default.div(O(),function(e){return e.theme.id===f.default.id&&"\n        font-family: ".concat(f.default.fonts.ralewayBold,";\n    ")});var T=a.default.span(x());var I=function(e){"use strict";var t;!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(a,e);var n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=v(a),n;if(t){var r=v(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);var o;return(o=n)&&("object"==(o&&"undefined"!=typeof Symbol&&o.constructor===Symbol?"symbol":typeof o)||"function"==typeof o)?o:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this)});function a(){return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a),n.apply(this,arguments)}var i,s;return i=[{key:"render",value:function(){return o.createElement(S,null,o.createElement(R,null,r.default.t("app.freelayout_editor.grid.popupTitle")),o.createElement(P,null,o.createElement(c.default,{selected:this.props.selected,items:w,onClick:this.props.switch}),o.createElement(j,{disabled:!this.props.showGuides},o.createElement(C,null,r.default.t("app.freelayout_editor.layout.whitespaceSlider2"),o.createElement(T,null,2*this.props.whitespacePercent)),o.createElement(u.default,{min:0,max:6,value:this.props.whitespacePercent,onChange:this.props.setWhitespacePercent}),o.createElement(C,null,r.default.t("app.freelayout_editor.layout.columnSlider2"),o.createElement(T,null,this.props.columnCount)),o.createElement(u.default,{min:1,max:12,value:this.props.columnCount,onChange:this.props.setColumnCount})),o.createElement(l.default,null,r.default.t("app.freelayout_editor.grid.shortcut"))))}}],p(a.prototype,i),s&&p(a,s),a}(o.PureComponent);I=function(e,t,n,r){var o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r,i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([(0,i.connect)(function(e){var t=e.get("localProjectSettings");var n=e.get("flexEditorGrid");return{selected:w[t.showGuides?1:0],whitespacePercent:n.whitespacePercent,columnCount:n.columnCount,showGuides:t.showGuides}},function(e){return{switch:function(){e({type:s.FLEX_EDITOR_TOGGLE_GRID_AND_GUIDES,payload:{projectId:d.default.infographicId}})},setWhitespacePercent:function(t){e({type:s.FLEX_EDITOR_GRID_SET_WHITESPACE_PERCENT,payload:Math.round(2*t)/2})},setColumnCount:function(t){e({type:s.FLEX_EDITOR_GRID_SET_COLUMN_COUNT,payload:Math.round(t)})}}})],I)},7169:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y});var r=n(374);var o=n(406);var a=n(552);var i=n(423);var u=n(422);var c=n(434);var l=n(2103);var s=n(419);var f=n(5984);function d(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(){var e,t;var n=(e=["\n    float: right;\n    margin-top: 10px;\n    margin-right: 10px;\n    background-color: #2d2d2d;\n    border-radius: 4px;\n    width: 30px;\n    height: 30px;\n    cursor: pointer;\n    display: inline-block;\n    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);\n    background-image: url(",");\n    background-size: 13px;\n    background-position: center center;\n    background-repeat: no-repeat;\n    pointer-events: auto;\n    &:hover {\n        background-color: #3195cb;\n    }\n    ","\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return h=function(){return n},n}var b=i.default.div(h(),n(7170),function(e){return e.theme.id===u.default.id&&"\n        box-shadow: ".concat(u.default.shadow.menus,";\n        background-color: ").concat(u.default.white,";\n        background-image: url(").concat(n(7171),");\n        &:hover {\n            background-color: ").concat(u.default.blue500,";\n            background-image: url(").concat(n(7170),");\n        }\n    ")});var y=function(e){"use strict";var t;!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(a,e);var n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=v(a),n;if(t){var r=v(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);var o;return(o=n)&&("object"==(o&&"undefined"!=typeof Symbol&&o.constructor===Symbol?"symbol":typeof o)||"function"==typeof o)?o:d(this)});function a(){var e;var t,r,o;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a),e=n.apply(this,arguments),t=d(e),r="edit",o=function(){(0,s.default)(),e.props.startEdit()},r in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o,e}var i,u;return i=[{key:"render",value:function(){return o.createElement(b,{onClick:this.edit,"data-tooltip":r.default.t("app.freelayout_editor.edit"),"data-tooltip-position":"bottom"})}}],p(a.prototype,i),u&&p(a,u),a}(o.PureComponent);y=function(e,t,n,r){var o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r,i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([(0,a.connect)(null,function(e){return{startEdit:function(){e({type:f.INPLACE_EDITOR_SET_EDITING,payload:{editing:!0}}),c.default.dispatch({type:l.DATA_TABLE_OPEN,inPlaceEditing:!0})}}})],y)},7106:(e,t,n)=>{n.r(t),n.d(t,{default:()=>er});var r=n(374);var o=n(406);var a=n(552);var i=n(423);var u=n(1202);var c=n(731);var l=n(7107);var s=n(7108);var f=n(7109);var d=n(422);var p=n(460);var v=n(1245);var g=n(7099);var h=n(7098);var b=n(730);var y=n(728);var m=n(7100);var _=n(501);function E(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function k(){var e=S(["\n    background-color: #434343;\n    height: 30px;\n    text-align: center;\n    line-height: 30px;\n    color: #ffffff;\n    font-size: 11px;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n    font-weight: 500;\n\n    ","\n"]);return k=function(){return e},e}function P(){var e=S(["\n    min-width: 180px;\n    background-color: #434343;\n    border-radius: 4px;\n    box-shadow: 0px 10px 40px rgba(0, 0, 0, 0.5);\n    text-align: left;\n    cursor: default;\n\n    ","\n"]);return P=function(){return e},e}function j(){var e=S(["\n    padding: 0px;\n    font-size: 11px;\n    background-color: #2d2d2d;\n    border-bottom-right-radius: 4px;\n    border-bottom-left-radius: 4px;\n\n    ","\n"]);return j=function(){return e},e}function C(){var e=S(["\n    height: 134px;\n    display: flex;\n    flex-direction: column;\n"]);return C=function(){return e},e}function T(){var e=S(["\n    width: 100%;\n    height: 87px;\n    background-repeat: no-repeat;\n    background-position: center 26px;\n    background-size: 64px 36px;\n    background-image: ",";\n"]);return T=function(){return e},e}function I(){var e=S(["\n    width: 100%;\n    text-align: center;\n    margin-bottom: 9px;\n"]);return I=function(){return e},e}function z(){var e=S(["\n            color: ",";\n            font-family: ",";\n        "]);return z=function(){return e},e}function D(){var e=S(["\n                color: ",";\n            "]);return D=function(){return e},e}function A(){var e=S(["\n                    color: ",";\n                "]);return A=function(){return e},e}function L(){var e=S(["\n            cursor: pointer;\n            color: #c13134;\n            ","\n        "]);return L=function(){return e},e}function M(){var e=S(["\n    font-family: Roboto;\n    font-weight: 500;\n    font-size: 11px;\n    line-height: 13px;\n    color: #ffffff;\n    display: inline-block;\n\n    ","\n\n    &:hover {\n        text-decoration: underline;\n        ","\n    }\n\n    ","\n    ","\n"]);return M=function(){return e},e}function N(){var e=S(["\n    padding: 10px;\n"]);return N=function(){return e},e}function B(){var e=S(["\n    display: block;\n    width: 100%;\n    padding-top: 7px;\n    padding-bottom: 8px;\n    padding-left: 20px;\n    padding-right: 11px;\n    font-size: 11px;\n    font-weight: 500;\n    font-style: normal;\n    line-height: 15px;\n    text-align: center;\n    white-space: nowrap;\n    background-color: #656565;\n    outline: none;\n    color: white;\n\n    background-image: url(",");\n    background-size: 9px 15px;\n    background-repeat: no-repeat;\n    background-position: 11px 7px;\n\n    &:hover {\n        background-color: #7d7d7d;\n        text-decoration: none;\n    }\n\n    ","\n"]);return B=function(){return e},e}function q(){var e=S(["\n    padding: 33px 19px 38px;\n    line-height: 13px;\n    font-size: 11px;\n    text-align: center;\n"]);return q=function(){return e},e}function U(){var e=S(["\n    background: #434343;\n    border: 0 none;\n    height: 2px;\n    margin: 0;\n\n    ","\n"]);return U=function(){return e},e}function H(){var e=S(["\n    padding-top: 10px;\n    padding-left: 10px;\n    padding-right: 12px;\n    padding-bottom: 10px;\n"]);return H=function(){return e},e}var Y={default:"url(".concat(n(7110),")"),mobile:"url(".concat(n(7111),")")};var F=i.default.div(k(),function(e){return e.theme.id===d.default.id&&"\n        font-family: ".concat(d.default.fonts.ralewayBold,";\n        background-color: ").concat(d.default.neutral60,";\n        color: ").concat(d.default.neutral600,";\n    ")});var G=i.default.div(P(),function(e){return e.theme.id===d.default.id&&"\n        background-color: ".concat(d.default.white,";\n        box-shadow: ").concat(d.default.shadow.default,";\n    ")});var K=i.default.div(j(),function(e){return e.theme.id===d.default.id&&"\n        background-color: ".concat(d.default.white,";\n    ")});var X=i.default.div(C());var V=i.default.div(T(),function(e){return Y[e.icon]});var W=i.default.div(I());var Z=i.default.a(M(),function(e){return e.theme.id===d.default.id&&(0,i.css)(z(),d.default.neutral600,d.default.fonts.ralewayBold)},function(e){return e.theme.id===d.default.id&&(0,i.css)(D(),d.default.red500)},function(e){return"default"===e.type&&"\n        pointer-events: none;\n    "},function(e){return"mobile"===e.type&&(0,i.css)(L(),function(e){return e.theme.id===d.default.id&&(0,i.css)(A(),d.default.red500)})});var J=i.default.div(N());var Q=(0,i.default)(p.default)(B(),n(7112),function(e){return e.theme.id===d.default.id&&"\n        background-color: ".concat(d.default.blue500,";\n        color: ").concat(d.default.white,";\n        border: none;\n\n        &:hover {\n            color: ").concat(d.default.white,";\n            background-color: ").concat(d.default.blue400,";\n        }\n    ")});var $=i.default.div(q());var ee=i.default.hr(U(),function(e){return e.theme.id===d.default.id&&"\n        background-color: ".concat(d.default.neutral60,";\n    ")});var et=i.default.div(H());var en=[{id:"default",text:r.default.t("app.freelayout_editor.layout.type.desktop"),statusText:r.default.t("app.freelayout_editor.layout.typeStatus.desktop"),icon:"url(".concat(n(7113),")")},{id:"mobile",text:r.default.t("app.freelayout_editor.layout.type.mobile"),statusText:r.default.t("app.freelayout_editor.layout.typeStatus.mobile"),icon:"url(".concat(n(7114),")")}];var er=function(e){"use strict";var t;!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(a,e);var n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=w(a),n;if(t){var r=w(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);var o;return(o=n)&&("object"==(o&&"undefined"!=typeof Symbol&&o.constructor===Symbol?"symbol":typeof o)||"function"==typeof o)?o:E(this)});function a(){var e;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a),e=n.apply(this,arguments),x(E(e),"_changeLayout",function(e){(0,l.default)(e.id)}),x(E(e),"_removeMobileLayout",function(e){return e.stopPropagation(),(0,f.default)("mobile"),(0,_.logRemoveLayoutWebJs)({layout_name:"mobile"}),!1}),x(E(e),"_addMobileLayout",function(){(0,s.default)(en[1].id),e.props.setElementsOutsideBlockVisible(!0),(0,_.logAddLayoutWebJs)({layout_name:"mobile"})}),x(E(e),"_toggleElementsOutsideBlockVisible",function(){e.props.toggleElementsOutsideBlockVisible(),(0,_.logShowOverflowWebJs)({})}),e}var i,u;return i=[{key:"render",value:function(){return o.createElement(G,null,o.createElement(F,null,r.default.t("app.freelayout_editor.layout.popupTitle3")),o.createElement(K,null,this.state.hasLayouts&&o.createElement(o.Fragment,null,o.createElement(g.default,{selected:this.state.selected,items:en,onClick:this._changeLayout}),o.createElement(X,null,o.createElement(V,{icon:this.state.selected.id}),o.createElement(W,null,o.createElement(Z,{onClick:this._removeMobileLayout,type:this.state.selected.id},this.state.selected.statusText),o.createElement(m.default,null,r.default.t("app.freelayout_editor.layout.shortcut",{shortcut:"L"}))))),!this.state.hasLayouts&&o.createElement(o.Fragment,null,o.createElement(J,null,o.createElement(Q,{onClick:this._addMobileLayout},r.default.t("app.freelayout_editor.layout.add.mobile")),o.createElement($,{dangerouslySetInnerHTML:{__html:r.default.t("app.freelayout_editor.layout.description2",{descriptionLink:r.default.t("app.freelayout_editor.layout.descriptionLink2"),descriptionLinkUrl:"https://support.infogram.com/hc/articles/360015748799"})}}))),o.createElement(ee,null),o.createElement(et,null,o.createElement(v.default,{label:r.default.t("app.freelayout_editor.layout.overflow.label"),onChange:this._toggleElementsOutsideBlockVisible,active:this.props.elementsOutsideBlockVisible,singleLine:!0}),o.createElement(h.HelpButton,{"data-tooltip-position":"right","data-tooltip-html":r.default.t("app.freelayout_editor.layout.overflow.info")}))))}}],u=[{key:"getStores",value:function(){return[c.default]}},{key:"calculateState",value:function(){return{selected:en[c.default.editingDefaultLayout?0:1],hasLayouts:c.default.editorState.getLayouts().size>0}}}],i&&O(a.prototype,i),u&&O(a,u),a}(o.Component);er=function(e,t,n,r){var o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r,i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([(0,a.connect)(function(e){return{elementsOutsideBlockVisible:e.get("localProjectSettings").elementsOutsideBlockVisible}},{setElementsOutsideBlockVisible:function(e){return{type:b.ELEMENTS_OUTSIDE_BLOCK_VISIBLE,payload:{projectId:y.default.infographicId,enabled:e}}},toggleElementsOutsideBlockVisible:function(){return{type:b.TOGGLE_ELEMENTS_OUTSIDE_BLOCK_VISIBLE,payload:y.default.infographicId}}}),(0,u.default)()],er)},7100:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var r=n(406);var o=n(423);var a=n(422);function i(){var e,t;var n=(e=["\n    font-weight: 500;\n    font-size: 11px;\n    line-height: 13px;\n    color: #656565;\n    margin: 6px 0;\n    text-align: center;\n\n    ","\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return i=function(){return n},n}var u=o.default.div(i(),function(e){return e.theme.id===a.default.id&&"\n        color: ".concat(a.default.neutral600,";\n        opacity: ").concat(a.default.alpha40,";\n        font-family: ").concat(a.default.fonts.ralewayBold,";\n    ")});let c=function(e){var t=e.children;return r.createElement(u,null,t)}},7126:(e,t,n)=>{n.r(t),n.d(t,{LayerItem:()=>z,default:()=>D});var r=n(374);var o=n(406);var a=n(4352);var i=n(4365);var u=n(423);var c=n(422);var l=n(2030);var s=n.n(l);var f=n(541);var d=n(2536);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r=[];var o=!0;var a=!1;var i,u;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(r.push(i.value),!t||r.length!==t);o=!0);}catch(e){a=!0,u=e}finally{try{o||null==n.return||n.return()}finally{if(a)throw u}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function h(){var e=g(["\n            &:before {\n                background: ",";\n\n                ","\n            }\n        "]);return h=function(){return e},e}function b(){var e=g(["\n    &:before {\n        height: 3px;\n        background: #7d7d7d;\n        border-radius: 3px;\n        content: '';\n        display: block;\n        margin-bottom: 1px;\n    }\n\n    ","\n\n    ","\n"]);return b=function(){return e},e}function y(){var e=g(["\n            background-image: url(",");\n        "]);return y=function(){return e},e}function m(){var e=g(["\n            background-image: url(",");\n\n            ","\n        "]);return m=function(){return e},e}function _(){var e=g(["\n    display: inline-block;\n    width: 16px;\n    height: 16px;\n    background-image: url(",");\n    background-size: 16px 16px;\n    visibility: hidden;\n    margin-right: 10px;\n\n    ","\n\n    ","\n"]);return _=function(){return e},e}function E(){var e=g(["\n            background-image: url(",");\n        "]);return E=function(){return e},e}function O(){var e=g(["\n            background-image: url(",");\n\n            ","\n        "]);return O=function(){return e},e}function x(){var e=g(["\n    display: inline-block;\n    width: 16px;\n    height: 16px;\n    background-image: url(",");\n    background-size: 16px 16px;\n    visibility: ",";\n\n    ","\n\n    ","\n"]);return x=function(){return e},e}function w(){var e=g(["\n    display: inline-block;\n    width: 123px;\n"]);return w=function(){return e},e}function R(){var e=g(["\n            background-color: ",";\n            background-image: url(",");\n            color: ",";\n\n            &:hover {\n                background-color: ",";\n            }\n\n            ","\n        "]);return R=function(){return e},e}function S(){var e=g(["\n    background-color: #2d2d2d;\n    color: #d8d8d8;\n    padding: 5px;\n    display: flex;\n    align-items: left;\n    justify-content: space-between;\n    cursor: pointer;\n    margin-top: 1px;\n    margin-bottom: 1px;\n    background-position: 10px 12px;\n    background-size: 10px 6px;\n    background-repeat: no-repeat;\n    padding: 7px 10px 7px 30px;\n    border-radius: 3px;\n    background-image: url(",");\n\n    &:hover {\n        background-color: #3796c9;\n\n        "," {\n            visibility: visible;\n        }\n\n        "," {\n            visibility: visible;\n        }\n    }\n\n    ","\n\n    ","\n"]);return S=function(){return e},e}var k=s()(r.default);var P=u.default.div(b(),function(e){return e.draggingOver&&"\n        &:before {\n            background: #3796C9;\n        }\n    "},function(e){return(0,c.prezigram)(e.theme)&&(0,u.css)(h(),c.default.white,e.draggingOver&&"\n                background: ".concat(c.default.blue500,";\n            "))});var j=u.default.div(_(),n(7127),function(e){return(0,c.prezigram)(e.theme)&&(0,u.css)(y(),n(7128))},function(e){return e.locked&&(0,u.css)(m(),n(7129),(0,c.prezigram)(e.theme)&&"\n            background-image: url(".concat(n(7130),");\n        "))});var C=u.default.div(x(),n(7131),function(e){return e.enabled?"hidden":"visible"},function(e){return(0,c.prezigram)(e.theme)&&(0,u.css)(E(),n(7132))},function(e){return e.enabled&&(0,u.css)(O(),n(7133),(0,c.prezigram)(e.theme)&&"\n            background-image: url(".concat(n(7134),");\n        "))});var T=u.default.div(w());var I=u.default.div(S(),n(7135),j,C,function(e){return e.selected&&"\n        background-color: #3796C9;\n\n        ".concat(j," {\n            visibility: visible;\n        }\n\n        ").concat(C," {\n            visibility: visible;\n        }\n    ")},function(e){return(0,c.prezigram)(e.theme)&&(0,u.css)(R(),c.default.neutral80,n(7136),c.default.neutral600,c.default.neutral200,e.selected&&"\n            background-color: ".concat(c.default.neutral200,";\n        "))});var z=function(e){var t=e.entity,n=e.index,u=e.onDrop,c=e.onLayerClick,l=e.onVisibilityToggle,s=e.onLockToggle,p=e.isSelected;var g=v((0,a.useDrag)({item:{type:"ENTITY",id:t.getKey()}}),2)[1];var h=v((0,i.useDrop)({accept:"ENTITY",drop:function(e){return u(n,e.id)},collect:function(e){return{draggingOver:!!e.isOver()}}}),2),b=h[0].draggingOver,y=h[1];return o.createElement(P,{draggingOver:b,key:t.getKey(),ref:y,onClick:function(e){c(t,e.shiftKey)}},o.createElement(I,{selected:p,ref:t.isLocked()?void 0:g},o.createElement(T,null,function(e){switch(e.getType()){case"CHART":var t=e.getIn(["props","chartData"]);var n="".concat(t.get("chart_type_nr"),"_").concat(t.get("modifier"));if(n===f.MAP){var o=t.getIn(["custom","title"]);return o?"".concat(k[n].fullTitle," (").concat(o,")"):k[n].fullTitle}return k[n].fullTitle;case"IMAGE":return"icon"===e.getIn(["props","subType"])?r.default.t("inspector.responsive.graphics.icon"):r.default.t("inspector.responsive.graphics.image");case"MEDIA":var a=e.getIn(["props","mediaType"]);if("gallery_image"===a||"flickr"===a)return r.default.t("app.download.media_type_image");if("twitter"===a)return r.default.t("app.download.media_type_tweet");if("slideshare"===a)return r.default.t("app.download.media_type_slides");if("vimeo"===a||"youtube"===a)return r.default.t("app.download.media_type_video");else if("url"===a)return r.default.t("app.download.media_type_link");return r.default.t("app.download.media_type_unknown");case"SHAPE":return d.SHAPE_TYPE_LABELS[e.getIn(["props","type"])];case"CONNECTOR":return r.default.t("inspector.free.entity.title.CONNECTOR");case"TEXT":return r.default.t("components.rte.header_title");case"GROUP":return r.default.t("inspector.free.entity.title.GROUP");default:return e.getType()}}(t)),o.createElement(j,{onClick:function(e){e.stopPropagation(),s(t)},locked:t.isLocked()}),o.createElement(C,{onClick:function(e){e.stopPropagation(),l(t)},enabled:!t.isHidden()})))};let D=z},7125:(e,t,n)=>{n.r(t),n.d(t,{default:()=>D});var r=n(374);var o=n(406);var a=n(552);var i=n(423);var u=n(7126);var c=n(1202);var l=n(731);var s=n(1161);var f=n(422);var d=n(4076);var p=n(1206);var v=n(1205);var g=n(5074);var h=n(801);var b=n(798);var y=n(7137);var m=n(3435);var _=n(1086);function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function O(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function P(){var e=k(["\n    background-color: #434343;\n    height: 30px;\n    text-align: center;\n    line-height: 30px;\n    color: #ffffff;\n    font-size: 11px;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n    font-weight: 500;\n\n    ","\n"]);return P=function(){return e},e}function j(){var e=k(["\n    min-width: 180px;\n    background-color: #434343;\n    border-radius: 4px;\n    box-shadow: 0px 10px 40px rgba(0, 0, 0, 0.5);\n    text-align: left;\n    cursor: default;\n\n    ","\n"]);return j=function(){return e},e}function C(){var e=k(["\n    padding: 5px 10px 10px 10px;\n    font-size: 11px;\n    border-bottom-right-radius: 4px;\n    border-bottom-left-radius: 4px;\n    max-height: 300px;\n    overflow: auto;\n    background-color: #7d7d7d;\n\n    ","\n"]);return C=function(){return e},e}var T=i.default.div(P(),function(e){return(0,f.prezigram)(e.theme)&&"\n        font-family: ".concat(f.default.fonts.ralewayBold,";\n        background-color: ").concat(f.default.neutral60,";\n        color: ").concat(f.default.neutral600,";\n    ")});var I=i.default.div(j(),function(e){return(0,f.prezigram)(e.theme)&&"\n        background-color: ".concat(f.default.white,";\n        box-shadow: ").concat(f.default.shadow.default,";\n    ")});var z=i.default.div(C(),function(e){return(0,f.prezigram)(e.theme)&&"\n        background-color: ".concat(f.default.white,";\n    ")});var D=function(e){"use strict";var t;!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(a,e);var n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=R(a),n;if(t){var r=R(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);var o;return(o=n)&&("object"==(o&&"undefined"!=typeof Symbol&&o.constructor===Symbol?"symbol":typeof o)||"function"==typeof o)?o:O(this)});function a(){var e;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a),e=n.apply(this,arguments),w(O(e),"getEntityItems",function(){var t=e.state,n=t.entities,r=t.currentSelection;return n.map(function(t,n){return!t||void 0===n||t.getGroupKey()?null:o.createElement(u.default,{key:n,entity:t,index:n+1,onDrop:e.onDrop,isSelected:r.containsEntity(t.getKey()),onLayerClick:e._onLayerClick,onLockToggle:e._onLockToggle,onVisibilityToggle:e._onVisibilityToggle})}).reverse()}),w(O(e),"_onLockToggle",function(e){var t=e.isLocked()?b.unlockEntities:b.lockEntities;(0,g.default)(t(l.default.editorState,[e.getKey()]))}),w(O(e),"_onVisibilityToggle",function(e){var t=!e.isHidden();(0,g.default)((0,y.setVisibility)(l.default.editorState,[e.getKey()],t))}),w(O(e),"onDrop",function(e,t){(0,g.default)((0,h.sendToIndex)(l.default.editorState,[t],e))}),w(O(e),"_onLayerClick",function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var r=e.state.currentSelection;var o=t.getKey();var a=r.containsEntity(o);var i=r.getEntities();n?a?(0,d.updateSelectionState)(p.default.createFromEntityKeys(i.filter(function(e){return e!==o}))):(0,d.updateSelectionState)(p.default.createFromEntityKeys(((function(e){if(Array.isArray(e))return E(e)})(i)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||function(e,t){if(e){if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}}(i)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([o]))):a?(0,d.updateSelectionState)(p.default.createEmpty()):(0,d.updateSelectionState)(p.default.singleItem(o))}),w(O(e),"getPages",function(){var t=[];for(var n=0;n<e.state.pageCount;n++)t.push(o.createElement("option",{key:n,value:n},r.default.t("app.chart_settings.columns_menu.url.page_n",{number:n+1})));return t}),w(O(e),"changePage",function(e){(0,_.scrollToPage)(parseInt(e.target.value,10))}),e}var i,c;return i=[{key:"render",value:function(){var e=this.getEntityItems();return o.createElement(I,null,o.createElement(T,null,r.default.t("app.freelayout_editor.layerMap.buttonTitle")),o.createElement(z,null,o.createElement(m.default,{fitWidth:!0,value:this.state.activePageIndex,onChange:this.changePage},this.getPages()),e))}}],c=[{key:"getStores",value:function(){return[l.default,s.default,v.default]}},{key:"calculateState",value:function(){var e=s.default.activePageIndex;return{activePageIndex:e.toString(),entities:l.default.editorState.getCurrentContent().getBlocks().get(e).entities,currentSelection:v.default.currentSelection,pageCount:l.default.defaultEditorState.getCurrentContent().getBlocks().size}}}],i&&x(a.prototype,i),c&&x(a,c),a}(o.Component);D=function(e,t,n,r){var o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r,i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([(0,a.connect)(),(0,c.default)({withProps:!0})],D)},7115:(e,t,n)=>{n.r(t),n.d(t,{default:()=>O});var r=n(406);var o=n(423);var a=n(422);var i=n(7116);function u(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function c(){var e=u(["\n                background-image: ",";\n                background-color: ",";\n                color: ",";\n\n                &:hover {\n                    background-image: ",";\n                    background-color: ",";\n                }\n            "]);return c=function(){return e},e}function l(){var e=u(["\n            background-image: ",";\n            font-family: ",";\n\n            &:hover {\n                background-image: ",";\n                background-color: ",";\n            }\n\n            ","\n        "]);return l=function(){return e},e}function s(){var e=u(["\n    width: 100%;\n    height: 100%;\n    background-image: ",";\n    background-size: ",";\n    background-position: ",";\n    background-repeat: no-repeat;\n    font-size: 9px;\n\n    &:hover {\n        background-color: #7d7d7d;\n    }\n\n    ","\n\n    ","\n"]);return s=function(){return e},e}function f(){var e=u(["\n    position: relative;\n    width: 48px;\n    height: 48px;\n    cursor: pointer;\n    z-index: 2;\n    position: relative;\n\n    ","\n"]);return f=function(){return e},e}function d(){var e=u(["\n    font-size: 9px;\n    padding-top: 35px;\n    pointer-events: none;\n"]);return d=function(){return e},e}function p(){var e=u(["\n    position: absolute;\n    left: 100%;\n    bottom: 0;\n    margin-left: 5px;\n    line-height: initial;\n"]);return p=function(){return e},e}var v={grid:"url(".concat(n(7117),")"),default:"url(".concat(n(7118),")"),mobile:"url(".concat(n(7119),")"),layers:"url(".concat(n(7120),")")};var g={grid:"url(".concat(n(7121),")"),default:"url(".concat(n(7122),")"),mobile:"url(".concat(n(7123),")"),layers:"url(".concat(n(7124),")")};var h,b;var y=o.default.div(s(),function(e){return v[e.icon]},function(e){return null!==(h=e.iconSize)&&void 0!==h?h:"19px 19px"},function(e){return null!==(b=e.iconPosition)&&void 0!==b?b:"center 10px"},function(e){return e.active&&"\n        background-color: #7d7d7d;\n    "},function(e){return e.theme.id===a.default.id&&(0,o.css)(l(),function(e){return g[e.icon]},a.default.fonts.ralewayBold,function(e){return g[e.icon]},a.default.neutral100,e.active&&(0,o.css)(c(),function(e){return v[e.icon]},a.default.blue400,a.default.white,function(e){return v[e.icon]},a.default.blue400))});var m=o.default.div(f(),function(e){return e.theme.id===a.default.id&&"\n        width: 50px;\n        height: 50px;\n        color: ".concat(a.default.neutral600,";\n    ")});var _=o.default.div(d());var E=o.default.div(p());let O=function(e){var t=e.title,n=e.tooltipText,o=e.open,a=e.toggle,u=e.icon,c=e.children,l=e.iconSize,s=e.iconPosition;var f=(0,r.useRef)(null);var d=(0,r.useRef)(null);return(0,r.useEffect)(function(){var e=function(e){(0,i.documentContains)(e.target)&&f.current&&!f.current.contains(e.target)&&e.target!==d.current&&a(!1)};return o&&document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}},[o,a]),r.createElement(m,null,o&&r.createElement(E,{ref:f},c),r.createElement(y,{onClick:function(){a()},active:o,"data-tooltip":n,"data-tooltip-position":"right",icon:u,iconSize:l,iconPosition:s,ref:d,role:"button"},r.createElement(_,null,t)))}},7210:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var r=n(406);var o=n(552);var a=n(876);var i=n(2889);var u=n(2439);var c=n(2440);var l=n(7211);let s=function(){var e=(0,o.useSelector)(function(e){return e.get("onboarding")}),t=e.activeStep,n=e.targetBounds,s=e.calloutPosition;var f=(0,o.useDispatch)();return t&&n&&s?r.createElement(r.Fragment,null,r.createElement(u.default,{description:l.OnboardingStepDescriptions[t](),targetBounds:n,position:s,onClose:function(){f({type:(0,a.getType)(i.removeOnboardingStep),payload:t})}}),r.createElement(c.Spotlight,{targetBounds:n})):null}},7211:(e,t,n)=>{n.r(t),n.d(t,{OnboardingStepDescriptions:()=>f});var r=n(374);var o=n(406);var a=n(423);var i=n(2891);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(){var e,t;var n=(e=["\n    color: #abc0f8;\n    &:hover {\n        color: #d9e3fc;\n    }\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return c=function(){return n},n}var l=a.default.a(c());var s;var f=(u(s={},i.OnboardingStep.AddItem,function(){return r.default.t("app.onboarding.steps.add_item")}),u(s,i.OnboardingStep.ColorPaletteAndPageSize,function(){return r.default.t("app.onboarding.steps.color_palette_and_page_size")}),u(s,i.OnboardingStep.PresentInFullScreen,function(){return r.default.t("app.onboarding.steps.present_in_full_screen")}),u(s,i.OnboardingStep.ShareProject,function(){return r.default.t("app.onboarding.steps.share_project")}),u(s,i.OnboardingStep.EditChartData,function(){return r.default.t("app.onboarding.steps.edit_chart_data")}),u(s,i.OnboardingStep.SearchAssets,function(){return r.default.t("app.onboarding.steps.search_assets")}),u(s,i.OnboardingStep.AddAnimation,function(){return r.default.t("app.onboarding.steps.add_animation")}),u(s,i.OnboardingStep.EditImage,function(){return r.default.t("app.onboarding.steps.edit_image")}),u(s,i.OnboardingStep.TransformTransition,function(){return o.createElement(o.Fragment,null,o.createElement("div",null,r.default.t("app.onboarding.transform_transition_onboarding")),o.createElement(l,{href:"https://support.prezi.com/hc/en-us/articles/4427288487831"},r.default.t("app.onboarding.transform_transition_support_link")))}),u(s,i.OnboardingStep.Checked,function(){return""}),s)},7085:(e,t,n)=>{n.r(t),n.d(t,{EditButton:()=>c,default:()=>l});var r=n(406);var o=n(423);var a=n(374);function i(){var e,t;var n=(e=["\n    display: flex;\n    opacity: 0.8;\n    transition: ease-out opacity 0.25s;\n    cursor: pointer;\n\n    &:hover {\n        opacity: 0.6;\n    }\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return i=function(){return n},n}var u=o.default.div(i());var c=function(e){var t=a.default.t("tooltips.upload_your_logo");return r.createElement(u,{onClick:function(t){t.preventDefault(),e.onClick()},"data-tooltip":t,"data-tooltip-position":"right"},r.createElement("img",{src:n(7086),"data-tooltip-child":t}))};let l=c},7084:(e,t,n)=>{n.r(t),n.d(t,{EditorWatermark:()=>g,default:()=>h});var r=n(406);var o=n(423);var a=n(844);var i=n(7085);var u=n(5130);var c=n(2593);var l=n(1166);var s=n(728);var f=n(2599);function d(){var e,t;var n=(e=["\n    width: 8px;\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return d=function(){return n},n}var p=(0,r.lazy)(function(){return Promise.resolve().then(n.bind(n,4759))});var v=o.default.div(d());var g=function(e){var t=e.openDialog,n=e.scaleX,o=e.scaleY;var a=function(){return l.default.features.publish_no_watermark?r.createElement(p,{feature:"publish_custom_logo"}):r.createElement(p,{feature:"publish_no_watermark"})};return r.createElement(c.Watermark,{onClick:function(){l.default.features.publish_custom_logo?((0,u.openWatermarkSettingsPanel)(),(0,f.logOpenWatermark)({prezi_oid:s.default.infographicId})):t(r.createElement(a,null))},scaleX:n,scaleY:o},r.createElement(v,null),r.createElement(i.default,{onClick:function(){(0,u.openWatermarkSettingsPanel)(),(0,f.logOpenWatermarkSidebar)({prezi_oid:s.default.infographicId})}}))};let h=(0,a.withDialogs)()(g)},6200:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y});var r=n(406);var o=n(423);var a=n(422);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r=[];var o=!0;var a=!1;var i,u;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(r.push(i.value),!t||r.length!==t);o=!0);}catch(e){a=!0,u=e}finally{try{o||null==n.return||n.return()}finally{if(a)throw u}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function l(){var e=c(["\n    position: absolute;\n    top: ","px;\n    right: 5px;\n    cursor: default;\n    user-select: none;\n    width: 6px;\n    min-height: 30px;\n    background-color: ",";\n    border-radius: 4px;\n    opacity: 0.3;\n    transition: opacity 0.25s;\n\n    &:hover {\n        opacity: 1;\n    }\n"]);return l=function(){return e},e}function s(){var e=c(["\n    position: relative;\n    flex: 1;\n    min-height: 0;\n    overflow: hidden;\n    height: 100%;\n    ","\n"]);return s=function(){return e},e}function f(){var e=c(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    height: 100%;\n    box-sizing: border-box;\n    overflow-y: scroll;\n\n    &::-webkit-scrollbar {\n        // there is a custom scrollbar implemented\n        // so the default one should not be displayed\n        display: none;\n    }\n\n    scrollbar-width: none;\n"]);return f=function(){return e},e}function d(){var e=c(["\n    ","\n    ","\n\n    min-height: 100%;\n\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n\n    ","\n"]);return d=function(){return e},e}var p=o.default.div(l(),5,function(e){return e.theme.id===a.default.id?"#aaa":"#999"});var v=o.default.div(s(),function(e){var t=e.$height;return t&&"height: ".concat(t,"px;")});var g=o.default.div(f());var h=o.default.div(d(),function(e){return e.paddingTop&&"padding-top: ".concat(e.paddingTop,"px;")},function(e){return e.paddingBottom&&"padding-bottom: ".concat(e.paddingBottom,"px;")},function(e){return e.maxWidth&&"max-width: ".concat(e.maxWidth,"px; margin: auto;")});var b=(0,r.forwardRef)(function(e,t){var n;var o=u((0,r.useState)(1),2),a=o[0],i=o[1];var c=u((0,r.useState)(!1),2),l=c[0],s=c[1];var f=(0,r.useRef)(null);var d=t||f;var b=(0,r.useRef)(null);var y=(0,r.useRef)(null);var m=(0,r.useRef)(0);var _=(0,r.useRef)({clientHeight:0,scrollHeight:0,trackHeight:0});var E=e.paddingTop,O=e.paddingBottom;(0,r.useLayoutEffect)(function(){var e;var t=d.current;var n=b.current;var r=function(){cancelAnimationFrame(e),e=requestAnimationFrame(function(){var e=d.current,t=e.clientHeight,n=e.scrollHeight;i(t/n),_.current={clientHeight:t,scrollHeight:n,trackHeight:y.current.clientHeight}})};var o=new ResizeObserver(r);return o.observe(d.current),o.observe(b.current),r(),function(){o.unobserve(t),o.unobserve(n),cancelAnimationFrame(e)}},[d,b]);var x=e.onScroll;var w=(0,r.useCallback)(function(e){if(null==x||x(e),1!==a){var t=d.current;var n=y.current;cancelAnimationFrame(m.current),m.current=requestAnimationFrame(function(){var e=_.current,r=e.clientHeight,o=e.scrollHeight,a=e.trackHeight;var i=t.scrollTop/(o-r);n.style.transform="translateY(".concat(i*(r-a-10),"px)")})}},[d,a,x]);var R=(0,r.useCallback)(function(e){var t=d.current;var n;var r=e.pageY;var o=t.scrollTop;s(!0);var i=function(e){var i=e.pageY;cancelAnimationFrame(n),n=requestAnimationFrame(function(){o+=(i-r)/a,r=i,t.scrollTop=o})};window.addEventListener("mousemove",i),window.addEventListener("mouseup",function(){s(!1),window.removeEventListener("mousemove",i)},{once:!0})},[d,a]);var S=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};var r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({height:"calc(".concat(100*a,"% - ").concat(10,"px)"),opacity:l?1:void 0,display:1===a?"none":void 0},e.trackStyle||{});var k;return r.createElement(v,{className:e.className,$height:e.maxHeight?Math.min(e.maxHeight,null!==(k=null===(n=b.current)||void 0===n?void 0:n.offsetHeight)&&void 0!==k?k:0):void 0},r.createElement(g,{ref:d,onScroll:w},r.createElement(h,{maxWidth:e.maxWidth,paddingTop:E,paddingBottom:O,ref:b},e.children)),r.createElement(p,{ref:y,onMouseDown:R,style:S}))});let y=b},6199:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r.default});var r=n(6200)},7099:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y});var r=n(406);var o=n(423);var a=n(422);function i(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function u(){var e=i(["\n                background-color: ",";\n            "]);return u=function(){return e},e}function c(){var e=i(["\n    display: flex;\n    width: 100%;\n    position: relative;\n    height: 54px;\n    &:before {\n        content: '';\n        position: absolute;\n        width: 100%;\n        height: 2px;\n        background-color: #434343;\n        ","\n        bottom: 0;\n        left: 0;\n    }\n"]);return c=function(){return e},e}function l(){var e=i(["\n                        background-color: ",";\n                    "]);return l=function(){return e},e}function s(){var e=i(["\n            position: relative;\n\n            &:before {\n                content: '';\n                position: absolute;\n                width: 100%;\n                height: 5px;\n                background-color: #3195cb;\n                ","\n                bottom: 0;\n                left: 0;\n            }\n        "]);return s=function(){return e},e}function f(){var e=i(["\n    display: flex;\n    flex-direction: column;\n    flex-basis: 100%;\n    flex: 1;\n\n    cursor: pointer;\n\n    background-repeat: no-repeat;\n    background-position: center 10px;\n    background-image: ",";\n\n    ","\n"]);return f=function(){return e},e}function d(){var e=i(["\n            font-family: ",";\n        "]);return d=function(){return e},e}function p(){var e=i(["\n    padding-top: 31px;\n    font-family: Roboto;\n    font-weight: 500;\n    font-size: 9px;\n    line-height: 11px;\n    text-align: center;\n\n    ","\n"]);return p=function(){return e},e}var v=o.default.div(c(),function(e){return e.theme.id===a.default.id&&(0,o.css)(u(),a.default.neutral60)});var g=o.default.div(f(),function(e){return e.icon},function(e){return e.selected&&(0,o.css)(s(),function(e){return e.theme.id===a.default.id&&(0,o.css)(l(),a.default.blue500)})});var h=o.default.div(p(),function(e){return e.theme.id===a.default.id&&(0,o.css)(d(),a.default.fonts.ralewayBold)});var b=function(e){var t=e.item,n=e.selected,o=e.onClick,a=e.children;return r.createElement(g,{selected:t===n,icon:t.icon,onClick:function(){return o(t)}},a)};let y=function(e){var t=e.items,n=e.selected,o=e.onClick;var a=function(e){e!==n&&o(e)};return r.createElement(v,null,t.map(function(e){return r.createElement(b,{key:e.id,item:e,selected:n,onClick:a},r.createElement(h,null,e.text))}))}},7189:(e,t,n)=>{n.r(t),n.d(t,{default:()=>R});var r=n(406);var o=n(413);var a=n.n(o);var i=n(875);var u=n.n(i);var c=n(454);var l=n.n(c);var s=n(1196);var f=n(1197);var d=n(2683);var p=n(7190);var v=n(7194);var g=n(2681);var h=n(7192);var b=n.n(h);var y=n(2684);var m=n.n(y);function _(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var R=function(e){"use strict";var t;!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(o,e);var n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=x(o),n;if(t){var r=x(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);var a;return(a=n)&&("object"==(a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof a)?a:_(this)});function o(){var e;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o),e=n.apply(this,arguments),O(_(e),"state",{hovered:!1}),O(_(e),"_refCallout",function(t){var n=e.props.entity.getKey();t?((0,f.setElementForCallout)(n,t),s.default.addHandler(t,"select_entity",n),e._callout=t):((0,f.removeElementForCallout)(n),s.default.removeHandler(e._callout,"select_entity",n),e._callout=null)}),O(_(e),"_handleMouseDown",function(t){e._callout===t.target&&e.props.onEntityMouseDown&&e.props.onEntityMouseDown(e.props.entity,t)}),O(_(e),"_handleMouseUp",function(t){e._callout===t.target&&e.props.onEntityMouseUp&&e.props.onEntityMouseUp(e.props.entity,t)}),O(_(e),"_handleMouseEnter",function(t){e._callout!==t.target||e.state.hovered?e._callout!==t.target&&e.state.hovered&&e.setState({hovered:!1}):e.setState({hovered:!0})}),O(_(e),"_handleMouseLeave",function(t){e._callout===t.target&&e.state.hovered&&e.setState({hovered:!1})}),e}var a,i;return a=[{key:"render",value:function(){var e=this;var t=this.props,n=t.entity,o=t.callout,a=t.design,i=t.assets,u=t.calloutEntities,c=t.scaleX,s=t.scaleY,f=t.bounds;var h="overlay"===o.get("type");var y=(0,d.default)(o,a);return r.createElement("div",{className:l()(b().callout,b()[o.get("alignment")],m()[o.get("position")]),style:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};var r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){O(e,t,n[t])})}return e}({},y,f),ref:this._refCallout,onMouseDown:this._handleMouseDown,onMouseUp:this._handleMouseUp,onMouseEnter:this._handleMouseEnter,onMouseLeave:this._handleMouseLeave},u&&u.map(function(t){return r.createElement(p.default,{key:t.getKey(),entity:t,design:a,assets:i,scaleX:c,scaleY:s,selected:e.props.selectedEntities.includes(t.getKey()),onMouseDown:e.props.onEntityMouseDown,onMouseUp:e.props.onEntityMouseUp})}),r.createElement(v.default,{entityKey:n.getKey(),callout:o,entities:u,width:f.width,height:f.height,hovered:this.state.hovered,selected:this.props.selectedEntities.first()===n.getKey()}),h&&r.createElement(g.default,{onClose:this.props.onClose}))}}],E(o.prototype,a),i&&E(o,i),o}(r.PureComponent);O(R,"propTypes",{entity:u().record.isRequired,callout:u().map.isRequired,calloutEntities:u().list,bounds:a().shape({top:a().string.isRequired,left:a().string.isRequired,width:a().number.isRequired,height:a().number.isRequired}).isRequired,selectedEntities:u().set,design:u().map.isRequired,assets:a().shape({getURL:a().func.isRequired}),scaleX:a().number.isRequired,scaleY:a().number.isRequired,onEntityMouseDown:a().func.isRequired,onEntityMouseUp:a().func.isRequired,onClose:a().func.isRequired})},7190:(e,t,n)=>{n.r(t),n.d(t,{default:()=>k});var r=n(406);var o=n(413);var a=n.n(o);var i=n(875);var u=n.n(i);var c=n(423);var l=n(1202);var s=n(5235);var f=n(4704);var d=n(730);var p=n(7144);var v=n(7149);var g=n(1203);var h=n(7191);var b=n(7192);var y=n.n(b);function m(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(){var e,t;var n=(e=["\n    width: 100%;\n    height: 100%;\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return w=function(){return n},n}var R;var S=c.default.div(w());var k=(R=function(e){"use strict";var t;(function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)})(o,e);var n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=O(o),n;if(t){var r=O(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);var a;return(a=n)&&("object"==(a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof a)?a:m(this)});function o(){var e;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o),e=n.apply(this,arguments),E(m(e),"state",{hovered:!1}),E(m(e),"_hover",function(){e.state.hovered||e.setState({hovered:!0})}),E(m(e),"_unhover",function(){e.state.hovered&&e.setState({hovered:!1})}),E(m(e),"_handleMouseDown",function(t){e.props.onMouseDown&&e.props.onMouseDown(e.props.entity,t)}),E(m(e),"_handleMouseUp",function(t){e.props.onMouseUp&&e.props.onMouseUp(e.props.entity,t)}),e}var a,i;return a=[{key:"render",value:function(){var e=this.props,t=e.design,n=e.assets,o=e.entity,a=e.scaleX,i=e.scaleY,u=e.selected;var c=this.state,l=c.clipping,f=c.resizing,g=c.dragging;var b=(0,s.default)(o,t,{scaleX:a,scaleY:i,rotate:0,resizeOnInit:!0},{readOnly:!1,inEditMode:!0,assets:n});var m=o.getProperty("crop");var _=o.getProperty("mask");var E=l?o:o.bounds();var O={left:E.left*a,top:E.top*i,width:E.width*a,height:E.height*i,zIndex:l?2:1};var x;if(l===d.IMAGE_CROP?x=r.createElement(p.default,{entity:o,scaleX:a,scaleY:i}):l===d.IMAGE_MASK&&(x=r.createElement(v.default,{entity:o,scaleX:a,scaleY:i})),l&&m){var w=m.get("left")+(100-m.get("left")-m.get("right"))/2;var R=m.get("top")+(100-m.get("top")-m.get("bottom"))/2;O.transformOrigin="".concat(w,"% ").concat(R,"%")}else if(l&&_){var k=100*_.get("center").get("left");var P=100*_.get("center").get("top");O.transformOrigin="".concat(k,"% ").concat(P,"%")}return x?r.createElement("div",{className:y().calloutEditItem,style:O},x):r.createElement("div",{className:y().calloutEditItem,style:O},r.createElement(S,{onMouseMove:this._hover,onMouseLeave:this._unhover,onMouseDown:this._handleMouseDown,onMouseUp:this._handleMouseUp},b),(u||this.state.hovered)&&r.createElement(h.default,{entity:o,width:O.width,height:O.height,selected:u,dragging:g,resizing:f,hovered:this.state.hovered}))}}],i=[{key:"getStores",value:function(){return[f.default,g.default]}},{key:"calculateState",value:function(e,t){return{clipping:f.default.activeEntityKey===t.entity.getKey()?f.default.activeType:null,resizing:g.default.resizing,dragging:g.default.dragging}}}],a&&_(o.prototype,a),i&&_(o,i),o}(r.Component),E(R,"propTypes",{entity:u().record.isRequired,design:u().map.isRequired,assets:a().shape({getURL:a().func.isRequired}),scaleX:a().number.isRequired,scaleY:a().number.isRequired,selected:a().bool,onMouseDown:a().func.isRequired,onMouseUp:a().func.isRequired}),R);k=function(e,t,n,r){var o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r,i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([(0,l.default)({withProps:!0})],k)},7191:(e,t,n)=>{n.r(t),n.d(t,{default:()=>_});var r=n(406);var o=n(413);var a=n.n(o);var i=n(875);var u=n.n(i);var c=n(423);var l=n(7077);var s=n(7153);var f=n(1196);var d=n(422);var p=n(7192);var v=n.n(p);function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(){var e,t;var n=(e=["\n    position: absolute;\n    top: 30px;\n    right: 30px;\n    bottom: 30px;\n    left: 30px;\n    cursor: move;\n\n    ","\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return y=function(){return n},n}var m=c.default.div(y(),function(e){return e.solid&&"\n        border: 1px solid ".concat(e.theme.id===d.default.id?d.default.blue500:"#3195cb",";\n    ")});var _=function(e){"use strict";var t;!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(o,e);var n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=h(o),n;if(t){var r=h(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);var a;return(a=n)&&("object"==(a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof a)?a:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this)});function o(e){var t;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o),(t=n.call(this,e))._refs={},t._handlers={resize:t._assignHandler("resize"),resizeSide:t._assignHandler("resizeSide"),resizeWidth:t._assignHandler("resizeWidth"),scaleText:t._assignHandler("scaleText"),select:t._assignHandler("select_entity")},t}var a,i;return a=[{key:"_assignHandler",value:function(e){var t=this;return function(n){n?f.default.addHandler(n,e,t.props.entity.getKey()):t._refs[e]&&f.default.removeHandler(t._refs[e],e,t.props.entity.getKey()),t._refs[e]=n}}},{key:"render",value:function(){var e=this.props,t=e.entity,n=e.width,o=e.height,a=e.selected,i=e.resizing,u=e.dragging,c=e.hovered;var f=i||u;var d=(0,s.getOverlayMode)(t);return r.createElement("div",{className:v().overlay},r.createElement(m,{solid:a||!f&&c,ref:this._handlers.select}),a&&!u&&r.createElement(l.default,{width:n,height:o,handlers:this._handlers,rotation:0,resizing:i,mode:d}))}}],g(o.prototype,a),i&&g(o,i),o}(r.PureComponent);var E,O;E="propTypes",O={entity:u().record.isRequired,width:a().number.isRequired,height:a().number.isRequired,selected:a().bool.isRequired,resizing:a().bool.isRequired,dragging:a().bool.isRequired,hovered:a().bool.isRequired},E in _?Object.defineProperty(_,E,{value:O,enumerable:!0,configurable:!0,writable:!0}):_[E]=O},7194:(e,t,n)=>{n.r(t),n.d(t,{default:()=>x});var r=n(406);var o=n(413);var a=n.n(o);var i=n(875);var u=n.n(i);var c=n(1202);var l=n(4704);var s=n(1196);var f=n(1203);var d=n(7195);var p=n(7192);var v=n.n(p);function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}var m;var _,E,O;var x=(_=m=function(e){"use strict";var t;(function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)})(o,e);var n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=h(o),n;if(t){var r=h(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);var a;return(a=n)&&("object"==(a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof a)?a:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this)});function o(e){var t;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o),(t=n.call(this,e))._refs={},t._handlers={resize:t._assignHandler("callout"),resizeSide:t._assignHandler("callout"),select:t._assignHandler("select_entity")},t}var a,i;return a=[{key:"_assignHandler",value:function(e){var t=this;return function(n,r){var o=r?"".concat(e,"_").concat(r):e;n?s.default.addHandler(n,o,t.props.entityKey):t._refs[o]&&s.default.removeHandler(t._refs[o],o,t.props.entityKey),t._refs[o]=n}}},{key:"render",value:function(){var e=this.props,t=e.entities,n=e.callout;var o=this.state,a=o.dragging,i=o.resizing,u=o.clipping;var c=t.size>1||"TEXT"!==t.first().getType()||!n.get("fixedPaddings");var l="resize-".concat(this.props.entityKey,"-").concat(n.get("fixedPaddings"));return r.createElement("div",{className:v().calloutOverlay},r.createElement("div",{className:v().calloutOverlaySelect,ref:this._handlers.select}),!a&&!u&&r.createElement(d.default,{key:l,handlers:this._handlers,resizing:i,withVerticalResize:c}))}}],i=[{key:"getStores",value:function(){return[l.default,f.default]}},{key:"calculateState",value:function(){return{clipping:!!l.default.activeType,dragging:f.default.dragging,resizing:f.default.resizing}}}],a&&g(o.prototype,a),i&&g(o,i),o}(r.Component),E="propTypes",O={entityKey:a().string.isRequired,callout:u().map.isRequired,entities:u().list.isRequired,width:a().number.isRequired,height:a().number.isRequired,hovered:a().bool.isRequired,selected:a().bool.isRequired},E in _?Object.defineProperty(_,E,{value:O,enumerable:!0,configurable:!0,writable:!0}):_[E]=O,m);x=function(e,t,n,r){var o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r,i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([(0,c.default)(),y("design:type",Function),y("design:paramtypes",[void 0])],x)},7195:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var r=n(406);var o=n(413);var a=n.n(o);var i=n(454);var u=n.n(i);var c=n(7196);var l=n.n(c);function s(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g={n:u()(l().sideHandle,l().n,d({},l().prezigram,!1)),ne:u()(l().cornerHandle,l().ne,d({},l().prezigram,!1)),e:u()(l().sideHandle,l().e,d({},l().prezigram,!1)),se:u()(l().cornerHandle,l().se,d({},l().prezigram,!1)),s:u()(l().sideHandle,l().s,d({},l().prezigram,!1)),sw:u()(l().cornerHandle,l().sw,d({},l().prezigram,!1)),w:u()(l().sideHandle,l().w,d({},l().prezigram,!1)),nw:u()(l().cornerHandle,l().nw,d({},l().prezigram,!1))};var h=function(e){"use strict";var t;!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(o,e);var n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=p(o),n;if(t){var r=p(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);var a;return(a=n)&&("object"==(a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof a)?a:s(this)});function o(){var e;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o),e=n.apply(this,arguments),d(s(e),"state",{selectedOrigin:void 0}),d(s(e),"_refHandler",function(t){if(t){var n=t.getAttribute("data-origin");e._assignHandler(t,n)}}),d(s(e),"_assignHandler",function(t,n){(Object.keys(g).indexOf(n)%2?e.props.handlers.resize:e.props.handlers.resizeSide)(t,n)}),d(s(e),"_selectOrigin",function(t){var n=t.target.getAttribute("data-origin");e.setState({selectedOrigin:n})}),d(s(e),"_resetSelectedOrigin",function(){e.setState({selectedOrigin:void 0})}),e}var a,i;return a=[{key:"componentWillUnmount",value:function(){var e=this;Object.keys(g).forEach(function(t){return e._assignHandler(void 0,t)})}},{key:"componentDidUpdate",value:function(e){e.resizing&&!this.props.resizing&&this.state.selectedOrigin&&this._resetSelectedOrigin()}},{key:"render",value:function(){var e=this;var t=Object.keys(g).filter(function(t){return(e.props.withHorizontalResize||-1===["w","e"].indexOf(t))&&(e.props.withVerticalResize||-1===["n","s"].indexOf(t))});return r.createElement(r.Fragment,null,t.map(function(t){return r.createElement("div",{key:t,"data-origin":t,className:u()(g[t],d({},l().selected,t===e.state.selectedOrigin)),ref:e._refHandler,onMouseDown:e._selectOrigin,onMouseUp:e._resetSelectedOrigin})}))}}],f(o.prototype,a),i&&f(o,i),o}(r.PureComponent);d(h,"propTypes",{handlers:a().shape({resize:a().func.isRequired,resizeSide:a().func.isRequired}).isRequired,withHorizontalResize:a().bool,withVerticalResize:a().bool,resizing:a().bool}),d(h,"defaultProps",{withHorizontalResize:!0,withVerticalResize:!0})},7202:(e,t,n)=>{n.r(t),n.d(t,{default:()=>E});var r=n(406);var o=n(413);var a=n.n(o);var i=n(875);var u=n.n(i);var c=n(423);var l=n(501);var s=n(2687);var f=n(2684);var d=n.n(f);n(728);var p=n(422);function v(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(){var e,t;var n=(e=["\n    background: #2d2d2d url(",") no-repeat center center;\n    position: absolute;\n    cursor: pointer;\n    border-radius: 4px;\n    z-index: 1;\n\n    &:hover {\n        text-decoration: none;\n    }\n\n    ","\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return m=function(){return n},n}var _=c.default.div(m(),n(4677),function(e){return e.theme.id===p.default.id&&"\n        background: ".concat(p.default.neutral80," url(").concat(n(4679),") no-repeat center center;\n        background-size: 12px;\n    ")});var E=function(e){"use strict";var t;!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(o,e);var n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=b(o),n;if(t){var r=b(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);var a;return(a=n)&&("object"==(a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof a)?a:v(this)});function o(){var e;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o),e=n.apply(this,arguments),h(v(e),"_showCallout",function(t){e.props.onToggleCallout(e.props.entity,t),(0,l.logOpenObjectCalloutWebJs)({})}),e}var a,i;return a=[{key:"render",value:function(){var e=this.props,t=e.entity,n=e.entityBounds,o=e.scaleX,a=e.scaleY;var i=t.getCallout();var u=(0,s.default)(i.get("position"),20/o,20/a,{entityBounds:n,calloutScale:{scaleX:o,scaleY:a},scaleX:o,scaleY:a});return r.createElement(_,{className:d()[i.get("position")],style:u,onMouseLeave:this.props.onMouseLeave,onMouseEnter:this.props.onMouseEnter,onClick:this._showCallout})}}],g(o.prototype,a),i&&g(o,i),o}(r.PureComponent);h(E,"propTypes",{entity:u().record.isRequired,entityBounds:a().shape({top:a().number.isRequired,left:a().number.isRequired,width:a().number.isRequired,height:a().number.isRequired}).isRequired,scaleX:a().number.isRequired,scaleY:a().number.isRequired,onToggleCallout:a().func.isRequired,onMouseLeave:a().func,onMouseEnter:a().func})},7188:(e,t,n)=>{n.r(t),n.d(t,{default:()=>R});var r=n(406);var o=n(413);var a=n.n(o);var i=n(875);var u=n.n(i);var c=n(552);var l=n(1206);var s=n(4704);var f=n(1202);var d=n(2686);var p=n(814);var v=n(2687);var g=n(5979);var h=n(776);var b=n(7189);var y=n(7202);function m(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w;var R=(w=function(e){"use strict";var t;(function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)})(o,e);var n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=O(o),n;if(t){var r=O(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);var a;return(a=n)&&("object"==(a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof a)?a:m(this)});function o(){var e;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o),e=n.apply(this,arguments),E(m(e),"state",{hoveredTimerId:void 0,hoveredEntity:void 0}),E(m(e),"_showPreview",function(t){var n=e.state.hoveredTimerId;n&&(clearTimeout(n),n=void 0),e.setState({hoveredEntity:t,hoveredTimerId:n})}),E(m(e),"_clearHidePreviewTimer",function(){e.state.hoveredTimerId&&(clearTimeout(e.state.hoveredTimerId),e.setState({hoveredTimerId:void 0}))}),E(m(e),"_hidePreviewOnTimeout",function(){var t=setTimeout(function(){e.setState({hoveredEntity:void 0,hoveredTimerId:void 0})},h.CALLOUT_HIDE_DELAY);e.setState({hoveredTimerId:t})}),E(m(e),"_hidePreview",function(){e.state.hoveredTimerId&&clearTimeout(e.state.hoveredTimerId),e.setState({hoveredTimerId:void 0,hoveredEntity:void 0})}),E(m(e),"_closeCallout",function(){e.props.entity&&e.props.calloutOpen&&e.props.onToggleCallout(e.props.entity)}),E(m(e),"_selectEntity",function(t){e.props.onSelectionChange(l.default.singleItem(t.getKey()))}),e}var a,i;return a=[{key:"componentDidUpdate",value:function(e){if(this.props.entity!==e.entity||this.props.hoveredEntity!==e.hoveredEntity){var t=this.props.hoveredEntity;var n=this.props.entity&&this.props.entity.getKey();t&&t!==e.hoveredEntity&&t.getCallout()&&t.getKey()!==n?this._showPreview(t):this.state.hoveredEntity&&this.state.hoveredEntity.getKey()===n?this._hidePreview():e.hoveredEntity&&this.state.hoveredEntity===e.hoveredEntity&&this._hidePreviewOnTimeout()}}},{key:"componentDidMount",value:function(){(0,d.default)(this.props.block,this.props.assets)}},{key:"componentWillUnmount",value:function(){this.state.hoveredTimerId&&clearTimeout(this.state.hoveredTimerId)}},{key:"render",value:function(){var e=this.props,t=e.entity,n=e.callout,o=e.calloutOpen,a=e.calloutEntities,i=e.calloutBounds,u=e.calloutScale,c=e.scaleX,l=e.scaleY;var s=this.state,f=s.hoveredEntity,d=s.entityIsBeingClipped;return r.createElement(r.Fragment,null,n&&o&&!d&&r.createElement(b.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};var r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){E(e,t,n[t])})}return e}({key:t.getKey(),entity:t,design:this.props.design,assets:this.props.assets,callout:n,calloutEntities:a,bounds:i,selectedEntities:this.props.selectedEntities,onEntityMouseDown:this.props.onEntityMouseDown,onEntityMouseUp:this.props.onEntityMouseUp,onClose:this._closeCallout},u)),n&&!o&&!d&&r.createElement(y.default,{entity:t,entityBounds:t.bounds(),callout:n,scaleX:c,scaleY:l,onToggleCallout:this.props.onToggleCallout}),f&&r.createElement(y.default,{entity:f,entityBounds:f.bounds(),callout:f.getCallout(),scaleX:c,scaleY:l,onToggleCallout:this._selectEntity,onMouseLeave:this._hidePreviewOnTimeout,onMouseEnter:this._clearHidePreviewTimer}))}}],i=[{key:"getStores",value:function(){return[s.default]}},{key:"calculateState",value:function(e,t){return{entityIsBeingClipped:s.default.activeType&&t.entity&&t.entity.key===s.default.activeEntityKey}}}],a&&_(o.prototype,a),i&&_(o,i),o}(r.Component),E(w,"propTypes",{design:u().map.isRequired,assets:a().shape({getURL:a().func.isRequired}),block:u().record.isRequired,selectedEntities:u().set,hoveredEntity:u().record,scaleX:a().number.isRequired,scaleY:a().number.isRequired,pageSize:a().shape({width:a().number.isRequired,height:a().number.isRequired}).isRequired,onEntityMouseDown:a().func.isRequired,onEntityMouseUp:a().func.isRequired,entity:u().record,callout:u().map,calloutOpen:a().bool,calloutEntities:u().list,calloutScale:a().shape({scaleX:a().number.isRequired,scaleY:a().number.isRequired}),calloutBounds:a().shape({top:a().string.isRequired,left:a().string.isRequired,width:a().number.isRequired,height:a().number.isRequired}),onToggleCallout:a().func.isRequired,onSelectionChange:a().func.isRequired}),w);R=function(e,t,n,r){var o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r,i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([(0,c.connect)(function(e,t){var n=t.block,r=t.pageSize,o=t.scaleX,a=t.scaleY;var i=e.get("calloutEdit");var u=i.entityKey&&n.getKey()===i.blockKey?n.getEntity(i.entityKey):void 0;var c;var l;var s;var f;var d;if(u&&u.getCallout()){if(s=u.getCallout(),c=i.get("calloutOpen")){l=n.getEntitiesByKeys(s.get("entities"),{orderByKeys:!0}),f=(0,p.default)(s,r,{scaleX:o,scaleY:a});var g="overlay"===s.get("type");d=(0,v.default)(s.get("position"),s.get("width"),s.get("height"),{entityBounds:u.bounds(),isOverlay:g,pageSize:r,scaleX:o,scaleY:a,calloutScale:f})}}else u=void 0;return{entity:u,callout:s,calloutOpen:c,calloutEntities:l,calloutScale:f,calloutBounds:d}},function(e){return{onToggleCallout:function(t){e({type:g.CALLOUTS_TOGGLE_CALLOUT,payload:{entity:t}})}}},null,{areStatesEqual:function(e,t){return e.get("calloutEdit")===t.get("calloutEdit")},areStatePropsEqual:function(e,t){return e.entity===t.entity&&e.callout===t.callout&&e.calloutOpen===t.calloutOpen&&e.calloutEntities===t.calloutEntities&&e.calloutScale===t.calloutScale&&e.calloutBounds===t.calloutBounds}}),(0,f.default)({withProps:!0})],R)},7154:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var r=n(406);var o=n(413);var a=n.n(o);var i=n(875);var u=n.n(i);var c=n(7155);var l=n(7158);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){"use strict";var t;!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(o,e);var n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=f(o),n;if(t){var r=f(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);var a;return(a=n)&&("object"==(a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof a)?a:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this)});function o(){return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o),n.apply(this,arguments)}var a,i;return a=[{key:"render",value:function(){var e=this.props.entity;return r.createElement(r.Fragment,null,e&&r.createElement(c.default,{handlerKey:e.getKey(),entity:e,scaleX:this.props.scaleX,scaleY:this.props.scaleY}),r.createElement(l.default,{scaleX:this.props.scaleX,scaleY:this.props.scaleY,blockKey:this.props.blockKey}))}}],s(o.prototype,a),i&&s(o,i),o}(r.PureComponent);var v,g;v="propTypes",g={entity:u().record,scaleX:a().number.isRequired,scaleY:a().number.isRequired,blockKey:a().string.isRequired},v in p?Object.defineProperty(p,v,{value:g,enumerable:!0,configurable:!0,writable:!0}):p[v]=g;let h=p},7155:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var r=n(406);var o=n(413);var a=n.n(o);var i=n(875);var u=n.n(i);var c=n(1196);var l=n(7156);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){"use strict";var t;!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(o,e);var n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=f(o),n;if(t){var r=f(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);var a;return(a=n)&&("object"==(a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof a)?a:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this)});function o(e){var t;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o),(t=n.call(this,e))._refs={},t._handlers={connectorCreate:t._assignHandler("connectorCreate")},t}var a,i;return a=[{key:"_assignHandler",value:function(e){var t=this;return function(n){n?c.default.addHandler(n,e,t.props.handlerKey):t._refs[e]&&c.default.removeHandler(t._refs[e],e,t.props.handlerKey),t._refs[e]=n}}},{key:"render",value:function(){return r.createElement(l.default,{entity:this.props.entity,handlers:this._handlers,scaleX:this.props.scaleX,scaleY:this.props.scaleY})}}],s(o.prototype,a),i&&s(o,i),o}(r.PureComponent);var v,g;v="propTypes",g={entity:u().record.isRequired,handlerKey:a().string.isRequired,scaleX:a().number.isRequired,scaleY:a().number.isRequired},v in p?Object.defineProperty(p,v,{value:g,enumerable:!0,configurable:!0,writable:!0}):p[v]=g;let h=p},7156:(e,t,n)=>{n.r(t),n.d(t,{default:()=>w});var r=n(413);var o=n.n(r);var a=n(406);var i=n(875);var u=n.n(i);var c=n(454);var l=n.n(c);var s=n(440);var f=n(1203);var d=n(4704);var p=n(7157);var v=n(4705);var g=n(7153);var h=n(7078);var b=n.n(h);var y=n(754);function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var x=function(e){"use strict";var t;!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(r,e);var n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=E(r),n;if(t){var o=E(this).constructor;n=Reflect.construct(e,arguments,o)}else n=e.apply(this,arguments);var a;return(a=n)&&("object"==(a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof a)?a:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this)});function r(){return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),n.apply(this,arguments)}var o,i;return o=[{key:"render",value:function(){var e=this.state,t=e.isResizing,n=e.isDragging,r=e.mode;if(!e.createHandlesVisible)return null;var o=this.props,i=o.handlers,u=o.entity;var c=r===v.OVERLAY_MODES.RECTANGLE;var s=(0,y.calculateClippedRectangle)(u);var f=s.transform.rotate;var d={top:s.top*this.props.scaleY+30,left:s.left*this.props.scaleX+30,width:s.width*this.props.scaleX,height:s.height*this.props.scaleY};return u.getCallout()?null:a.createElement("div",{style:{top:0,left:0,width:"100%",height:"100%",position:"absolute",pointerEvents:"none",zIndex:2,opacity:n?.5:1}},a.createElement("div",{className:l()(_({},b().selector,c))},a.createElement(p.default,{entityRect:d,handlers:i,rotation:f,resizing:t,mode:r})))}}],i=[{key:"getStores",value:function(){return[f.default,d.default]}},{key:"calculateState",value:function(e,t){var n=t.entity;var r=(0,g.getOverlayMode)(n);var o=!!(d.default.activeEntityKey===n.getKey()&&d.default.activeType);return{isResizing:f.default.resizing,isDragging:f.default.dragging,mode:r,createHandlesVisible:!n.locked&&r===v.OVERLAY_MODES.RECTANGLE&&!o}}}],o&&m(r.prototype,o),i&&m(r,i),r}(a.Component);_(x,"propTypes",{entity:u().record.isRequired,scaleX:o().number.isRequired,scaleY:o().number.isRequired,handlers:o().object.isRequired});let w=s.Container.create(x,{withProps:!0})},7158:(e,t,n)=>{n.r(t),n.d(t,{default:()=>w});var r=n(413);var o=n.n(r);var a=n(406);var i=n(440);var u=n(423);var c=n(1203);var l=n(754);var s=n(4705);var f=n(7153);var d=n(7159);var p=n.n(d);var v=n(422);function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(){var e,t;var n=(e=["\n    pointer-events: auto;\n    position: absolute;\n    height: 20px;\n    width: 20px;\n    background-color: #3195cb;\n    border-radius: 100%;\n    opacity: 0.5;\n\n    ","\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return y=function(){return n},n}var m=["nw","n","ne","w","center","e","sw","s","se"];var _=u.default.div(y(),function(e){return e.theme.id===v.default.id&&"\n        background-color: ".concat(v.default.blue500,";\n    ")});var E=function(e){"use strict";var t;!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(r,e);var n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=h(r),n;if(t){var o=h(this).constructor;n=Reflect.construct(e,arguments,o)}else n=e.apply(this,arguments);var a;return(a=n)&&("object"==(a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof a)?a:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this)});function r(){return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),n.apply(this,arguments)}var o,i;return o=[{key:"render",value:function(){var e=this.state.containerStyle;return e?a.createElement("div",{style:e},m.map(function(e){return a.createElement(_,{className:p()[e],key:e})})):null}}],i=[{key:"getStores",value:function(){return[c.default]}},{key:"calculateState",value:function(e,t){var n=t.scaleX,r=t.scaleY,o=t.blockKey;var a=c.default.connectorTargetEntity;var i;var u;var d;if(a&&!a.locked&&a.getBlockKey()===o&&(0,f.getOverlayMode)(a)===s.OVERLAY_MODES.RECTANGLE&&(u=(i=c.default.activeHandle)&&i.get("type"))&&-1!==["connectorCreate","from","to"].indexOf(u)){var p=(0,l.calculateClippedRectangle)(a);d={transform:"rotate(".concat(p.transform.rotate,"deg)"),top:p.top*r,left:p.left*n,width:p.width*n,height:p.height*r,position:"absolute",pointerEvents:"none",zIndex:1}}return{containerStyle:d}}}],o&&g(r.prototype,o),i&&g(r,i),r}(a.Component);var O,x;O="propTypes",x={scaleX:o().number.isRequired,scaleY:o().number.isRequired,blockKey:o().string},O in E?Object.defineProperty(E,O,{value:x,enumerable:!0,configurable:!0,writable:!0}):E[O]=x;let w=i.Container.create(E,{withProps:!0})},7157:(e,t,n)=>{n.r(t),n.d(t,{default:()=>T});var r=n(413);var o=n.n(r);var a=n(423);var i=n(406);var u=n(875);var c=n.n(u);var l=n(552);var s=n(1205);var f=n(1161);var d=n(1202);var p=n(1203);var v=n(764);var g=n(422);function h(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function E(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function O(){var e=_(["\n    pointer-events: auto;\n    position: absolute;\n    height: 13px;\n    width: 13px;\n    padding: 2px;\n    transform-origin: top left;\n    box-sizing: content-box;\n    cursor: crosshair;\n"]);return O=function(){return e},e}function x(){var e=_(["\n    pointer-events: none;\n    height: 11px;\n    width: 11px;\n    border-radius: 100%;\n    background-color: #3195cb;\n    border: 1px solid #fff;\n    transition: transform 50ms ease-in-out;\n    backface-visibility: hidden;\n\n    ","\n"]);return x=function(){return e},e}var w;var R=["create-n","create-e","create-s","create-w"];var S=a.default.div(O());var k=a.default.div(x(),function(e){return e.theme.id===g.default.id&&"\n        background-color: ".concat(g.default.blue500,";\n    ")});var P,j,C;var T=(P=w=function(e){"use strict";var t;(function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)})(r,e);var n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=y(r),n;if(t){var o=y(this).constructor;n=Reflect.construct(e,arguments,o)}else n=e.apply(this,arguments);var a;return(a=n)&&("object"==(a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof a)?a:h(this)});function r(e){var t;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),(t=n.call(this,e))._setRef=t._setRef.bind(h(t)),t._storePositions=t._storePositions.bind(h(t)),t._findActiveResize=t._findActiveResize.bind(h(t)),t._handleMouseDown=t._handleMouseDown.bind(h(t)),t._handleMouseUp=t._handleMouseUp.bind(h(t)),t._refs={},t}var o,a;return o=[{key:"componentDidMount",value:function(){this._storePositions()}},{key:"componentDidUpdate",value:function(e,t){var n,r;(t.scrolling&&!this.state.scrolling||e.zoom!==this.props.zoom||t.resizing&&!this.state.resizing||t.selection!==this.state.selection||t.dragging!==this.state.dragging||e.rotation!==this.props.rotation||(n=e.entityRect,r=this.props.entityRect,n.width!==r.width||n.height!==r.height||n.left!==r.left||n.top!==r.top))&&this._storePositions()}},{key:"render",value:function(){var e=this;var t=this.props,n=t.entityRect,r=t.zoom;var o=this.props.rotation;var a=this.state,u=a.selected,c=a.dragX,l=a.dragY;var s=this._findActiveResize();var f=function(e,t){var n,r,o,a;var i=(n=e.left,r=e.top,{"create-n":{x:n+(o=e.width)/2,y:r},"create-e":{x:n+o,y:r+(a=e.height)/2},"create-s":{x:n+o/2,y:r+a},"create-w":{x:n,y:r+a/2}});var u=(0,v.centerOf)(e);var c=(0,v.rad)((0,v.positiveDeg)(t));for(var l in i){var s=i[l];var f=(0,v.Point)(0,0);var d=1;switch(l){case"create-e":f.x=9;break;case"create-w":f.x-=26,d=-1;break;case"create-n":f.y-=26;break;case"create-s":f.y=9,d=-1}s.x+=f.x,s.y+=f.y;var p=(0,v.rotatePoint)(s,c,u);var g=(0,v.Point)(p.x-u.x,p.y-u.y);var h=Math.atan2(-g.x,g.y);var b=(0,v.movePoint)(p,h,8*d);s.x=Math.round(b.x),s.y=Math.round(b.y)}return i}(n,o);return u&&null!==c&&(f[u].x=c*r+30-8,f[u].y=l*r+30-8,o=0),i.createElement("div",null,R.map(function(t){return i.createElement(S,{style:{left:f[t].x,top:f[t].y,transform:"rotate(".concat(o,"deg)")},key:t,ref:function(n){return e._setRef(t,n)},onMouseDown:function(){return e._handleMouseDown(t)},onMouseUp:e._handleMouseUp},i.createElement(k,{style:{transform:e._getTransform(t,s,u)}}))}))}},{key:"_findActiveResize",value:function(){var e=this.props,t=e.resizing,n=e.mousePosition;var r=this.state,o=r.positions,a=r.selected;if(a)return{type:a,scale:1};var i=null;if(!o||a||t||Object.keys(o).forEach(function(e){var t=o[e];var r=t?Math.floor((0,v.distance)(n,t)):1/0;(!i||r<i.distance)&&(i={type:e,distance:r})}),i)return{type:i.type,scale:this._calculateScale(i.distance)}}},{key:"_calculateScale",value:function(e){if(e>86)return 0;var t=(99-e)*.75/86+.25;return(t=Math.min(1,t)).toFixed(2)}},{key:"_getTransform",value:function(e,t,n){var r=0;return n===e&&(r=1),!n&&t&&t.type===e&&(r=t.scale),"scale(".concat(r,")")}},{key:"_getPosition",value:function(e){var t=e.getBoundingClientRect();return{x:t.width/2+t.left,y:t.height/2+t.top}}},{key:"_storePositions",value:function(){var e=this;var t={};Object.keys(this._refs).forEach(function(n){var r=e._refs[n];t[n]=r?e._getPosition(r):null}),this.setState({positions:t})}},{key:"_setRef",value:function(e,t){this.props.handlers.connectorCreate(t),this._refs[e]=t}},{key:"_handleMouseDown",value:function(e){this.setState({selected:e})}},{key:"_handleMouseUp",value:function(){this.setState({selected:null})}}],a=[{key:"getStores",value:function(){return[f.default,s.default,p.default]}},{key:"calculateState",value:function(e,t){var n=f.default.scrolling;var r=t&&t.resizing;var o=e&&e.positions;var a=s.default.currentSelection;var i=p.default.dragging,u=p.default.pointerMovedX,c=p.default.pointerMovedY;var l=e&&e.selected;return e&&e.resizing&&!r&&(l=null),{positions:o,selected:l,scrolling:n,resizing:r,selection:a,dragX:u,dragY:c,dragging:i}}}],o&&b(r.prototype,o),a&&b(r,a),r}(i.Component),j="propTypes",C={entityRect:o().object.isRequired,handlers:o().object.isRequired,rotation:o().number.isRequired,zoom:o().number.isRequired,resizing:o().bool.isRequired,mode:o().string.isRequired,mousePosition:c().contains({x:o().number.isRequired,y:o().number.isRequired})},j in P?Object.defineProperty(P,j,{value:C,enumerable:!0,configurable:!0,writable:!0}):P[j]=C,w);T=function(e,t,n,r){var o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r,i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([(0,l.connect)(function(e){return{mousePosition:e.get("mousePosition"),zoom:e.getIn(["editorZoom","zoom"])}}),(0,d.default)({withProps:!0}),E("design:type",Function),E("design:paramtypes",[void 0])],T)},7152:(e,t,n)=>{n.r(t),n.d(t,{default:()=>E});var r=n(413);var o=n.n(r);var a=n(406);var i=n(875);var u=n.n(i);var c=n(454);var l=n.n(c);var s=n(423);var f=n(765);var d=n(422);var p=n(7078);var v=n.n(p);function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(){var e,t;var n=(e=["\n    pointer-events: none;\n    height: 12px;\n    width: 12px;\n    background: #3195cb;\n    border: 1px solid #fff;\n    border-radius: 7px;\n    transition: transform 50ms ease-in-out;\n    backface-visibility: hidden;\n\n    ","\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return y=function(){return n},n}var m=["from","to"];var _=s.default.div(y(),function(e){return e.theme.id===d.default.id&&"\n        background: ".concat(d.default.blue500,";\n    ")});var E=function(e){"use strict";var t;!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(r,e);var n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=h(r),n;if(t){var o=h(this).constructor;n=Reflect.construct(e,arguments,o)}else n=e.apply(this,arguments);var a;return(a=n)&&("object"==(a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof a)?a:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this)});function r(){return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),n.apply(this,arguments)}var o,i;return o=[{key:"render",value:function(){var e=this;var t;var n,r,o,i,u;var c=(n=(t=this.props).entity,r=t.scaleX,o=t.scaleY,i=t.block,u=t.pageSize,m.reduce(function(e,t){var a=(0,f.getPosition)(n.getIn(["props",t]),i,u);return e[t]={left:r*a.x-7,top:o*a.y-7},e},{}));return a.createElement("div",null,m.map(function(t){return a.createElement("div",{className:l()(v().lineResizeHandle),style:{cursor:"move",left:c[t].left,top:c[t].top},key:t,ref:function(n){return e.props.handlers[t](n)}},a.createElement(_,null))}))}}],g(r.prototype,o),i&&g(r,i),r}(a.PureComponent);var O,x;O="propTypes",x={handlers:o().object.isRequired,entity:u().record.isRequired,mousePosition:u().contains({x:o().number.isRequired,y:o().number.isRequired}),scaleX:o().number,scaleY:o().number,block:o().any.isRequired,pageSize:o().shape({width:o().number.isRequired,height:o().number.isRequired})},O in E?Object.defineProperty(E,O,{value:x,enumerable:!0,configurable:!0,writable:!0}):E[O]=x},7087:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});var r=n(872);var o=n(7088);function a(e,t,n){var a=n.mouseX,i=n.mouseY,u=n.scaleX,c=n.scaleY;var l=(0,o.default)(e,t,{mouseX:a,mouseY:i,scaleX:u,scaleY:c});return{type:r.CONVERSATIONS_NEW_MARKER,payload:{blockId:e,objectId:t?t.getKey():void 0,positionX:l.x,positionY:l.y}}}},7088:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});var r=n(1197);var o=n(764);function a(e,t,n){var a=n.mouseX,i=n.mouseY,u=n.scaleX,c=n.scaleY;var l=(0,r.getElementForBlock)(e).getBoundingClientRect();var s=(0,o.Point)(a-l.left,i-l.top);if(t){var f;var d=(f=t.bounds(),(0,o.Rectangle)(f.left*u-.05*f.width*u,f.top*c-.05*f.height*c,f.width*u*1.1,f.height*c*1.1));var p;((p=s).x<d.left||p.x>d.left+d.width||p.y<d.top||p.y>d.top+d.height)&&(s=function(e,t){var n=(0,o.Point)(t.left+t.width/2,t.top+t.height/2);var r=(n.y-e.y)/(n.x-e.x);var a=t.top+t.height;var i=t.left+t.width;if(e.x<=n.x){var u=r*(t.left-e.x)+e.y;if(t.top<=u&&u<=a)return(0,o.Point)(t.left,u)}if(e.x>=n.x){var c=r*(i-e.x)+e.y;if(t.top<=c&&c<=a)return(0,o.Point)(i,c)}if(e.y<=n.y){var l=(t.top-e.y)/r+e.x;if(t.left<=l&&l<=i)return(0,o.Point)(l,t.top)}if(e.y>=n.y){var s=(a-e.y)/r+e.x;if(t.left<=s&&s<=i)return(0,o.Point)(s,a)}return e}(s,d));var v=t.getTransform().getRotate();if(0!==v){var g=(0,o.centerOf)(t.rectangle());g=(0,o.Point)(g.x*u,g.y*c),s=(0,o.rotatePoint)(s,-(0,o.rad)(v),g)}return s=(0,o.Point)(s.x/u-t.left,s.y/c-t.top),(0,o.Point)(s.x/t.width,s.y/t.height)}return(0,o.Point)(Math.max(0,Math.min(1,s.x/l.width)),Math.max(0,Math.min(1,s.y/l.height)))}},7089:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});var r=n(872);var o=n(731);var a=n(7088);function i(e,t){var n=t.mouseX,i=t.mouseY,u=t.scaleX,c=t.scaleY;var l=e.objectId&&o.default.editorState.getEntity(e.objectId);var s=(0,a.default)(e.blockId,l,{mouseX:n,mouseY:i,scaleX:u,scaleY:c});return{type:r.CONVERSATIONS_CHANGE_COMMENT,payload:{key:e.key,put:{positionX:s.x,positionY:s.y}}}}},7108:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});var r=n(434);var o=n(730);function a(e){r.default.dispatch({type:o.ADD_LAYOUT,layout:e})}},7183:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});var r=n(434);var o=n(730);function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;r.default.dispatch({type:o.MOVE_ENTITIES,entityKeys:e,direction:t,stepSize:n})}},7109:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});var r=n(434);var o=n(730);var a=n(728);function i(e){r.default.dispatch({type:o.REMOVE_LAYOUT,layout:e,projectId:a.default.infographicId})}},7107:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});var r=n(434);var o=n(730);function a(e){r.default.dispatch({type:o.SET_LAYOUT,layout:e})}},7185:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});var r=n(434);var o=n(730);function a(){r.default.dispatch({type:o.TOGGLE_LAYOUT})}},7074:(e,t,n)=>{n.r(t),n.d(t,{default:()=>eL});var r=n(406);var o=n(409);var a=n(552);var i=n(454);var u=n.n(i);var c=n(423);var l=n(413);var s=n.n(l);var f=n(418);var d=n.n(f);var p=n(458);var v=n.n(p);var g=n(2444);var h=n(1202);var b=n(7075);var y=n(731);var m=n(728);var _=n(5253);var E=n(4066);var O=n(2452);var x=n(2446);var w=n(7076);var R=n(2941);var S=n(2105);var k=n(4676);var P=n(4158);var j=n(2946);var C=n(4165);var T=n(4170);var I=n(7082);var z=n(5235);var D=n(7055);var A=n(7095);var L=n(7143);var M=n(7154);var N=n(7161);var B=n(7182);var q=n(5287);var U=n(5295);var H=n(422);var Y=n(2846);var F=n(5074);var G=n(730);var K=n(1086);var X=n(2690);var V=n(7187);var W=n(2112);var Z=n(6069);var J=n.n(Z);var Q=n(5292);var $=n(2559);var ee=n(5252);var et=n(5296);var en=n(4076);var er=n(1203);var eo=n(2460);var ea=n(1205);var ei=n(873);var eu=n(7188);var ec=n(1161);var el=n(2510);n(1166);var es=n(844);var ef=n(2373);var ed=n(7203);var ep=n(1197);var ev=n(3170);n(7205),n(7210);var eg=n(7212);var eh=n(2703);var eb=n(3188);function ey(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function em(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function e_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eO(e){return(eO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ex(e,t){return(ex=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ew(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function eR(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function eS(){var e=ew(["\n    position: fixed;\n    left: 50px;\n    right: 232px;\n    top: ","px;\n    bottom: 0px;\n    text-rendering: optimizeLegibility !important;\n\n    ","\n\n    ","\n"]);return eS=function(){return e},e}function ek(){var e=ew(["\n    position: fixed;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    background: #434343;\n    z-index: 10000;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n"]);return ek=function(){return e},e}var eP;var ej=["wheel","gesturechange","gesturestart"];var eC=d().getParser(window.navigator.userAgent).satisfies(eE({},d().BROWSER_MAP.ie,"<=11"));var eT=c.default.div.attrs(function(e){var t=e.$presenterNotesOffset;return{style:{paddingTop:"".concat(t,"px")}}})(eS(),eb.TOOLBAR_HEIGHT,eC&&"\n        position: relative;\n        left: -50px;\n        right: unset;\n    ",function(e){return e.theme.id===H.default.id?"\n        background: ".concat(H.default.neutral60,";\n        top: 60px;\n    "):""});var eI=c.default.div(ek());function ez(e,t,n){n.addEventListener(e,t,!$.optionsSupported||{capture:!0,passive:!1})}function eD(e,t,n){n.removeEventListener(e,t,!$.optionsSupported||{capture:!0,passive:!1})}var eA=function(e,t,n,r){if(n.renderItemContentsFn||(n.renderItemContentsFn=eA),"CHART"===e.getType()){var o,a;return(0,z.default)(e,t,(o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};var r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){eE(e,t,n[t])})}return e}({},n),a=a={viewMode:"edit"},Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(a)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(a)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(a,e))}),o),r)}return(0,z.default)(e,t,n,r)};var eL=(eP=function(e){"use strict";var t;(function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ex(e,t)})(a,e);var n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=eO(a),n;if(t){var r=eO(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);var o;return(o=n)&&("object"==(o&&"undefined"!=typeof Symbol&&o.constructor===Symbol?"symbol":typeof o)||"function"==typeof o)?o:em(this)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a),eE(em(t=n.call(this,e)),"_handleGesture",function(e){var n=t.props,r=n.zoom,o=n.zoomChange,a=n.onScale;(0,ed.default)({event:e,zoom:r*o,onScale:a,contentBounds:t._editorElementBounds})}),eE(em(t),"_refEditor",function(e){e?((0,ep.setElementForEditor)(e),t._editorElement=e,t._editorElementBounds=e.getBoundingClientRect()):((0,ep.removeElementForEditor)(),t._editorElement=null,t._editorElementBounds=null)}),eE(em(t),"_handlePaste",function(e){e.target instanceof HTMLInputElement||(0,ee.default)(e.clipboardData.getData("application/json")||e.clipboardData.getData("text/plain"),e,{onUploadMedia:t.props.onUploadMedia,addItem:t._handleItemChoice,availableFonts:t.props.preziFonts,customFonts:t.state.customFonts})}),eE(em(t),"_duplicateEntities",function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=r.dragging,a=void 0!==o&&o;(0,_.default)(t,n,{offsetEntities:!a,forceSelection:a?"no-update":void 0})}),t._handleItemChoice=t._handleItemChoice.bind(em(t)),t._handleMouseUp=t._handleMouseUp.bind(em(t)),t.state={scrollInitialized:!1},t}var i,c;return i=[{key:"componentDidMount",value:function(){var e=this;this.props.requestLiveDataRefresh(),this._editorElement.addEventListener("scroll",K.onScroll),this._resizeObserver=(0,K.initScrollOnResizeObserver)(this._editorElement),this._scroll=(0,K.initFreelayoutScroll)(this._editorElement),ej.forEach(function(t){return ez(t,e._handleGesture,e._editorElement)}),ez("paste",this._handlePaste,document),document.addEventListener("click",X.navigateToPageLinkHandler,!1),this.setState({scrollInitialized:!0})}},{key:"componentWillUnmount",value:function(){var e=this;document.removeEventListener("click",X.navigateToPageLinkHandler,!1),this._editorElement.removeEventListener("scroll",this._onScroll),this._resizeObserver.disconnect(),ej.forEach(function(t){return eD(t,e._handleGesture,e._editorElement)}),eD("paste",this._handlePaste,document)}},{key:"render",value:function(){var e=this.state,t=e.textEditingActive,n=e.preventTextSelection,a=e.scrollInitialized,i=e.activeBlockKey,c=e.subscribed;var l=u()(J().editor,this.state.actionLoading&&J().loading,n&&J().__selecting);var s=this.state.panelName?"panel_"+this.state.panelName:"";return r.createElement(j.default,null,r.createElement("div",{"data-lookup":"editor",className:l,onMouseUp:this._handleMouseUp},r.createElement(P.default,null),r.createElement(B.default,null),r.createElement(eT,{$presenterNotesOffset:this.props.presenterNotesHeight,ref:this._refEditor},r.createElement("div",{className:s},a&&r.createElement(g.default.Provider,{value:{activeBlockKey:i}},r.createElement(I.default,{allowDragAndDrop:!t,onChange:F.default,onSelectionChange:en.updateSelectionState,onSelectionBoundBoxChange:en.updateBoundingBox,onDuplicateEntities:this._duplicateEntities,entityOverlayComponent:L.default,connectorEntityOverlays:M.default,multiSelectionOverlayComponent:w.default,entityBoundingBoxComponent:N.default,blockWrapperComponent:D.default,commentComponent:ei.CommentMarker,commentingTooltipComponent:ei.CommentingTooltip,calloutsComponent:eu.default,renderItemContentsFn:eA,scaleX:this.props.zoom,scaleY:this.props.zoom,zoomChange:this.props.zoomChange,scroll:this._scroll})))),r.createElement(C.default,null),this.props.toolbar,r.createElement(R.default,{onSelect:this._handleItemChoice,displayShapes:!0,flex:!0},r.createElement(A.default,null)),r.createElement(q.default,{freeLayout:!0}),r.createElement(et.default,null),r.createElement(ei.ConversationsSidebar,null),r.createElement(eg.default,null),!1,!1,o.createPortal(r.createElement(W.default,{style:(0,eh.getTooltipStyle)(m.default.model.get("theme"))}),document.getElementById("tooltip-container")),!c&&r.createElement(eI,null,r.createElement("img",{src:"/i/user-loader.gif"}))))}},{key:"_handleMouseUp",value:function(){x.default.rectangle&&((0,eo.default)(),(0,O.selectionMouseUp)())}},{key:"_handleItemChoice",value:function(e){var t=this.state.activeBlockKey;var n=y.default.editorState;if(e instanceof FileList){v()(!1,"Prezigram based upload cannot be used in Infogram");var r=!0,o=!1,a=void 0;try{for(var i=e[Symbol.iterator](),u;!(r=(u=i.next()).done);r=!0){var c=u.value;var l=(0,Q.getItemOptions)(n,{zoom:this.props.zoom,activeBlockKey:t});if(l.onUploadMedia=this.props.onUploadMedia,"video/mp4"===c.type)(0,Y.addMedia)("video",{file:c,title:c.name},l);else{var s={subType:"image",graphicType:(0,ev.enhanceGraphicType)("upload",c.type),file:c};(0,Y.addImage)(s,l)}}}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return}var f=e.dropResult,d=e.type,p=e.subtype;var g=(0,Q.getItemOptions)(n,{clientOffset:f,zoom:this.props.zoom,activeBlockKey:t});switch(g.drop=!!f,g.onUploadMedia=this.props.onUploadMedia,d){case"CHART":if("upgrade"===p){window.app.router.navigate("//upgrade/charts",{promote:{from:"grouped_combo"}});return}var h;var b=function(e){if(Array.isArray(e))return e}(h=p.chartType||p.split("_").map(function(e){return parseInt(e,10)}))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r=[];var o=!0;var a=!1;var i,u;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(r.push(i.value),!t||r.length!==t);o=!0);}catch(e){a=!0,u=e}finally{try{o||null==n.return||n.return()}finally{if(a)throw u}}return r}}(h,2)||function(e,t){if(e){if("string"==typeof e)return ey(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ey(e,t)}}(h,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),m=b[0],_=b[1];(0,Y.addChart)({chartId:m,modifier:_,options:g,header:S.default.activeHeader});break;case"MAP":if(p.upgrade){window.app.router.navigate("//upgrade/region_maps",{promote:{from:"region_maps"}});return}g.isCustomMap=!!p.custom,(0,Y.addMap)({id:p.id,title:p.title,options:g,freeLayout:!0});break;case"COMPOSITE":var E=(0,V.default)(p.elementType);(0,Y.addCompositeItem)(E,g,p.elementType);break;case"TEXT":(0,Y.addText)(p.elementType,g);break;case"SHAPE":(0,Y.addShape)(p,g);break;case"IMAGE":case"ATLAS_IMAGE":case"ICON":var O=(0,k.default)(e);(0,Y.addImage)(O,g);break;case"MEDIA":var x=p.mediaType,w=p.data;(0,Y.addMedia)(x,w,g);break;case"INTEGRATION":(0,Y.addIntegration)(p,g);break;case"ELEMENT":var R=e.subtype,P=R.entities,j=R.assets,C=R.title,T=R.elementType;(0,Y.addElement)(P,j,C,T,g);break;default:console.log("chosen item",e)}}}],c=[{key:"getStores",value:function(){return[b.default,E.ActiveTextEditorStore,x.default,y.default,er.default,T.default,ea.default,ec.default,m.default]}},{key:"calculateState",value:function(){var e=E.ActiveTextEditorStore.editing&&!E.ActiveTextEditorStore.transforming;var t=er.default.resizing||er.default.dragging||er.default.navigating;var n=ea.default.currentSelection.getEntities().size>1;var r=T.default.currentPanel;var o="";return r&&(o=r.get("component").key||""),{actionLoading:b.default.loading,themeId:y.default.themeId,textEditingActive:e,panelName:o,preventTextSelection:!!x.default.rectangle||t||n,activeBlockKey:(0,U.getActiveBlockKey)(),subscribed:m.default.subscribed,customFonts:y.default.editorState.customFonts}}}],i&&e_(a.prototype,i),c&&e_(a,c),a}(r.Component),eE(eP,"propTypes",{toolbar:s().node.isRequired,zoom:s().number.isRequired,zoomChange:s().number.isRequired,onScale:s().func.isRequired,requestLiveDataRefresh:s().func.isRequired,onUploadMedia:s().func.isRequired,openDialog:s().func,preziFonts:s().object,presenterNotesHeight:s().number}),eP);eL=function(e,t,n,r){var o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r,i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([(0,es.withDialogs)(),(0,a.connect)(function(e){var t=e.get("editorZoom");var n=e.get("presenterNotes");var r=e.get("preziFonts");return{zoom:t.zoom,zoomChange:t.zoomChange,preziFonts:r,presenterNotesHeight:((null==n?void 0:n.open)?n.height:0)+20}},function(e){return{onScale:function(t){e({type:G.EDITOR_SCALE,payload:{scale:t}})},onUploadMedia:function(t){e({type:el.PREZIGRAM_UPLOAD_MEDIA,payload:t})},requestLiveDataRefresh:function(){e({type:ef.LOAD_LIVE_DATA_ONCE})}}},null,{areStatesEqual:function(e,t){return e.get("editorZoom")===t.get("editorZoom")&&e.get("preziFonts")===t.get("preziFonts")&&e.get("presenterNotes")===t.get("presenterNotes")},areStatePropsEqual:function(e,t){return e.zoom===t.zoom&&e.zoomChange===t.zoomChange&&e.preziFonts===t.preziFonts&&e.presenterNotesHeight===t.presenterNotesHeight}}),(0,h.default)(),eR("design:type",Function),eR("design:paramtypes",[void 0])],eL)},7082:(e,t,n)=>{n.r(t),n.d(t,{default:()=>U});var r=n(498);var o=n.n(r);var a=n(406);var i=n(413);var u=n.n(i);var c=n(875);var l=n.n(c);var s=n(5177);var f=n(552);var d=n(876);var p=n(731);var v=n(1205);var g=n(2385);var h=n(728);var b=n(1202);var y=n(730);var m=n(701);var _=n(7083);n(7084);var E=n(7087);var O=n(7089);var x=n(1083);var w=n(872);var R=n(1203);var S=n(7090);var k=n(5979);var P=n(7093);var j=n.n(P);var C=n(844);var T=n(1192);function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function z(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}var q;var U=(q=function(e){"use strict";var t;(function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)})(r,e);var n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=L(r),n;if(t){var o=L(this).constructor;n=Reflect.construct(e,arguments,o)}else n=e.apply(this,arguments);var a;return(a=n)&&("object"==(a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof a)?a:z(this)});function r(e){var t;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),(t=n.call(this,e))._updateMousePositionWithChecks=t._updateMousePositionWithChecks.bind(z(t)),t.throttledUpdateMousePosition=o().throttle(function(e,n){t.props.updateMousePosition(e,n)},100),t._addComment=t._addComment.bind(z(t)),t}var i,u;return i=[{key:"render",value:function(){var e=this.props,t=e.connectDropTarget,n=function(e,t){if(null==e)return{};var n=function(e,t){if(null==e)return{};var n={};var r=Object.keys(e);var o,a;for(a=0;a<r.length;a++)o=r[a],t.indexOf(o)>=0||(n[o]=e[o]);return n}(e,t);var r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,["connectDropTarget"]);var r;var o,i;return r=_.default,t(a.createElement("div",{className:j().droppableInfographicEditor},a.createElement(g.default,(o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};var r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){A(e,t,n[t])})}return e}({blockOverlayComponent:r,currentSelection:this.state.currentSelection,editorState:this.state.editorState,initialBoundingBox:this.state.initialBoundingBox,multiSelectionActive:this.state.multiSelectionActive,footerSettings:this.props.footerSettings,guideSettings:this.props.guideSettings,groupsInEditMode:this.state.groupsInEditMode},n),i=i={updateMousePosition:this._updateMousePositionWithChecks,navigating:this.state.navigating,thumbsView:this.props.thumbsView,onAddComment:this._addComment,pageUpgradeComponent:S.default,projectId:h.default.infographicId},Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(i,e))}),o))))}},{key:"componentDidUpdate",value:function(e,t){t.currentSelection!==this.state.currentSelection&&this.props.notifySelectionChange(this.state.projectId,N(this.state.currentSelection.getEntities()).concat(N(this.state.currentSelection.getBlocks())))}},{key:"componentDidMount",value:function(){var e=this;var t;var n;var r;var o=(t=this.state.editorState,n=document.body.clientWidth-410,(r=t.getPageSize().width)<=n?1:n/r);o<1&&requestAnimationFrame(function(){return e.props.onScale(o)})}},{key:"_updateMousePositionWithChecks",value:function(e,t){var n=this;this.state.mousePositionUpdatesEnabled&&(this.props.commenting?requestAnimationFrame(function(){return n.props.updateMousePosition(e,t)}):this.throttledUpdateMousePosition(e,t))}},{key:"_addComment",value:function(e,t,n){this.props.commentingTriggerUpgrade?(window.app.router.saveLocation(),window.app.router.navigate("//upgrade/commenting",{promote:{from:"commenting"}})):this.props.onAddComment(e,t,n)}}],u=[{key:"getStores",value:function(){return[p.default,v.default,h.default,R.default]}},{key:"calculateState",value:function(e,t){var n=v.default.currentSelection;var r=!(R.default.resizing||R.default.dragging||R.default.navigating)&&(t.commenting||!n.isEmpty());return{projectId:h.default.infographicId,editorState:p.default.editorState,initialBoundingBox:v.default.initialBoundingBox,multiSelectionActive:v.default.multiSelectionActive,groupsInEditMode:v.default.groupsInEditMode,currentSelection:n,mousePositionUpdatesEnabled:r,navigating:R.default.navigating}}}],i&&D(r.prototype,i),u&&D(r,u),r}(a.Component),A(q,"propTypes",{connectDropTarget:u().func.isRequired,footerSettings:u().shape({backgroundColor:u().string,backgroundOpacity:u().number.isRequired,bold:u().bool,footerLayout:u().string,footnoteType:u().string,footnoteText:u().string,footnoteStyle:u().shape({bold:u().bool,italic:u().bool,fontSize:u().number,color:u().string}),italic:u().bool,logoType:u().string,logoImage:u().string,logoName:u().string,footerLink:u().string}),guideSettings:u().shape({showGuides:u().bool.isRequired,snapObjects:u().bool.isRequired,whitespacePercent:u().number.isRequired,columnCount:u().number.isRequired,rowSpacing:u().number.isRequired}),notifySelectionChange:u().func.isRequired,updateMousePosition:u().func.isRequired,onAddComment:u().func.isRequired,onMoveComment:u().func.isRequired,onCommentPositionChanged:u().func.isRequired,onToggleComment:u().func.isRequired,onCloseSidebar:u().func.isRequired,commenting:u().bool.isRequired,commentingIsAvailable:u().bool.isRequired,commentingTriggerUpgrade:u().bool.isRequired,comments:l().list,scroll:u().object,thumbsView:u().bool,onScale:u().func.isRequired,onToggleCallout:u().func.isRequired,elementsOutsideBlockVisible:u().bool,onToggleElementsOutsideBlockVisible:u().func.isRequired,openDialog:u().func.isRequired}),q);U=function(e,t,n,r){var o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r,i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([(0,s.DropTarget)("ELEMENT_MENU_ITEM",{drop:function(e,t){return t.getClientOffset()}},function(e){return{connectDropTarget:e.dropTarget()}}),(0,C.withDialogs)(),(0,f.connect)(function(e){var t=e.get("conversations");var n=e.get("flexEditorGrid"),r=n.whitespacePercent,o=n.columnCount,a=n.rowSpacing;var i=e.get("localProjectSettings"),u=i.showGuides,c=i.snapObjects,l=i.elementsOutsideBlockVisible;return{footerSettings:e.get("footerSettings"),guideSettings:{showGuides:u,snapObjects:c,whitespacePercent:r,columnCount:o,rowSpacing:a},commenting:t.commenting,commentingIsAvailable:t.commentingEnabled||t.triggerUpgrade,commentingTriggerUpgrade:t.triggerUpgrade,comments:t.comments,thumbsView:e.getIn(["editorZoom","thumbsView"]),elementsOutsideBlockVisible:l}},function(e){return{notifySelectionChange:function(t,n){e({type:m.FLEX_EDITOR_SELECTION_CHANGED,payload:{projectId:t,selection:n}})},updateMousePosition:function(t,n){e({type:m.MOUSE_MOVE,payload:{x:t,y:n}})},onAddComment:function(t,n,r){e((0,E.default)(t,n,r))},onMoveComment:function(t,n){e((0,O.default)(t,n))},onCommentPositionChanged:function(t){e((0,x.saveCommentPosition)(t))},onToggleComment:function(t){e({type:w.CONVERSATIONS_TOGGLE_MARKER,payload:{key:t.key}})},onCloseSidebar:function(){e({type:(0,d.getType)(T.closeSidebar)})},onScale:function(t){e({type:y.EDITOR_SCALE,payload:{scale:t}})},onToggleCallout:function(t){e({type:k.CALLOUTS_TOGGLE_CALLOUT,payload:{entity:t}})},onToggleElementsOutsideBlockVisible:function(){e({type:y.TOGGLE_ELEMENTS_OUTSIDE_BLOCK_VISIBLE,payload:h.default.infographicId})}}},null,{areStatesEqual:function(e,t){return e.get("conversations")===t.get("conversations")&&e.get("footerSettings")===t.get("footerSettings")&&e.get("flexEditorGrid")===t.get("flexEditorGrid")&&e.get("localProjectSettings")===t.get("localProjectSettings")&&e.get("editorZoom")===t.get("editorZoom")}}),(0,b.default)({withProps:!0}),B("design:type",Function),B("design:paramtypes",[void 0])],U)},7162:(e,t,n)=>{n.r(t),n.d(t,{default:()=>j});var r=n(406);var o=n(413);var a=n.n(o);var i=n(875);var u=n.n(i);var c=n(454);var l=n.n(c);var s=n(552);var f=n(732);var d=n(4704);var p=n(1202);var v=n(7163);var g=n.n(v);var h=n(821);var b=n(7165);var y=n(7181);n(422);var m=n(541);var _=n(497);function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};var r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){O(e,t,n[t])})}return e}function R(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var k;n(1166),n(2577);var P=[m.MAP,m.FACTS_AND_FIGURES_V2];var j=(O(k=function(e){"use strict";var t;(function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)})(o,e);var n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=x(o),n;if(t){var r=x(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);var a;return(a=n)&&("object"==(a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof a)?a:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this)});function o(){return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o),n.apply(this,arguments)}var a,i;return a=[{key:"render",value:function(){var e=this.props,t=e.entity,n=e.hasExternalSelection,o=e.selected,a=e.multipleSelected,i=e.highlighted;if((!o||o&&a)&&!n&&!i)return null;var u=this.state,c=u.isClipping,s=u.OverlayComponent;var f=t.bounds(c);if(c){var d=(0,h.default)(t,{left:50,top:50});f.top+=d.get("y"),f.left+=d.get("x")}var p={top:f.top*this.props.scaleY,left:f.left*this.props.scaleX,width:f.width*this.props.scaleX,height:f.height*this.props.scaleY};var v=R(w({},p),{position:"absolute",pointerEvents:"none",border:"1px dashed ".concat("#3195cb")});return t.isHeightlessChart()&&delete v.border,r.createElement(r.Fragment,null,n&&r.createElement("div",{className:g().border,style:R(w({},v),{border:"1px solid ".concat(this.props.externalSelectionUserColor)})},r.createElement("div",{className:g().username,style:{backgroundColor:this.props.externalSelectionUserColor}},this.props.externalSelectionUserName)),o&&!a&&!t.isConnector()&&!t.isLine()&&r.createElement("div",{className:l()(g().container),style:v},s),i&&r.createElement("div",{className:l()(g().container,g().highlight),style:p},r.createElement(y.default,null)))}}],i=[{key:"getStores",value:function(){return[d.default]}},{key:"calculateState",value:function(e,t){var n=null!==d.default.activeType;var r=t.entity,o=t.selected,a=t.multipleSelected;var i={isClipping:n};if(o&&!a&&"CHART"===r.type&&!r.locked){var u=f.default.getEntity(r.getKey());if(u){var c=u.chart;P.includes(c.getTypeMod())&&(i.OverlayComponent=(0,b.default)(c))}}return i}}],a&&E(o.prototype,a),i&&E(o,i),o}(r.Component),"propTypes",{entity:u().record.isRequired,scaleX:a().number.isRequired,scaleY:a().number.isRequired,selected:a().bool.isRequired,multipleSelected:a().bool.isRequired,hasExternalSelection:a().bool,externalSelectionUserName:a().string,externalSelectionUserColor:a().string,highlighted:a().bool}),O(k,"defaultProps",{hasExternalSelection:!1}),k);j=function(e,t,n,r){var o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r,i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([(0,s.connect)(function(e,t){var n=e.getIn(["flexCollaboration","users"]);var r=_.default.profile.id;var o=null==n?void 0:n.find(function(e){return e.get("id")!==r&&e.get("selectedObjects").contains(t.entity.key)});return{hasExternalSelection:!!o,externalSelectionUserName:null==o?void 0:o.get("displayName"),externalSelectionUserColor:null==o?void 0:o.get("color")}},null,null,{areStatesEqual:function(e,t){return e.getIn(["flexCollaboration","users"])===t.getIn(["flexCollaboration","users"])}}),(0,p.default)({withProps:!0})],j)},7165:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var r=n(406);var o=n(541);var a=n(2106);var i=n(7166);var u=n(731);function c(e){switch(e.getTypeMod()){case o.MAP:var t,n;if(null===(n=e.get("custom"))||void 0===n?void 0:null===(t=n.map_json)||void 0===t?void 0:t.disableZoom)return;return r.createElement(a.default,{chartId:e.id});case o.FACTS_AND_FIGURES_V2:return r.createElement(i.default,{chartId:e.id,entity:u.default.editorState.getEntity(e.id)})}}},7161:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r.default});var r=n(7162)},7144:(e,t,n)=>{n.r(t),n.d(t,{default:()=>k});var r=n(406);var o=n(413);var a=n.n(o);var i=n(875);var u=n.n(i);var c=n(440);var l=n(454);var s=n.n(l);var f=n(4704);var d=n(1205);var p=n(731);var v=n(764);var g=n(2564);var h=n(7145);var b=n.n(h);var y=n(7147);var m=n(7148);var _=n(2568);function E(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var S=function(e){"use strict";var t;!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(o,e);var n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=w(o),n;if(t){var r=w(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);var a;return(a=n)&&("object"==(a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof a)?a:E(this)});function o(e){var t;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o),(t=n.call(this,e))._onResizeStart=t._onResizeStart.bind(E(t)),t._onResize=t._onResize.bind(E(t)),t._onResizeStop=t._onResizeStop.bind(E(t)),t._onDragStart=t._onDragStart.bind(E(t)),t._onDrag=t._onDrag.bind(E(t)),t._onDragStop=t._onDragStop.bind(E(t)),t.onBackgroundDragStart=(0,m.createBackgroundDragHandler)({moveClip:g.moveImageCrop,getBounds:function(){return t.state.cropDimensions},onStart:function(){return t.setState({draggingBackground:!0})},onEnd:function(){t.setState({draggingBackground:!1})}}).bind(E(t)),t}var a,i;return a=[{key:"componentWillUnmount",value:function(){document.removeEventListener("mousemove",this._onResize),document.removeEventListener("mouseup",this._onResizeStop),document.removeEventListener("mousemove",this._onDrag),document.removeEventListener("mouseup",this._onDragStop)}},{key:"_onResizeStart",value:function(e){e.stopPropagation(),e.preventDefault();var t=e.target.dataset.origin;var n=this.props,r=n.scaleX,o=n.scaleY;(0,g.startClipResize)({startPoint:(0,v.Point)(e.clientX,e.clientY),resizeOrigin:t,scaleX:r,scaleY:o}),document.addEventListener("mousemove",this._onResize),document.addEventListener("mouseup",this._onResizeStop)}},{key:"_onResize",value:function(e){e.stopPropagation();var t=e.shiftKey;(0,g.resizeImageCrop)((0,v.Point)(e.clientX,e.clientY),t)}},{key:"_onResizeStop",value:function(){document.removeEventListener("mousemove",this._onResize),document.removeEventListener("mouseup",this._onResizeStop)}},{key:"_onDragStart",value:function(e){e.stopPropagation(),e.preventDefault();var t=this.props,n=t.scaleX,r=t.scaleY;(0,g.startClipMove)({startPoint:(0,v.Point)(e.clientX,e.clientY),scaleX:n,scaleY:r}),document.addEventListener("mousemove",this._onDrag),document.addEventListener("mouseup",this._onDragStop)}},{key:"_onDrag",value:function(e){e.stopPropagation(),(0,g.moveImageCrop)((0,v.Point)(e.clientX,e.clientY))}},{key:"_onDragStop",value:function(){document.removeEventListener("mousemove",this._onDrag),document.removeEventListener("mouseup",this._onDragStop)}},{key:"render",value:function(){var e=this.props.entity;var t=this.state,n=t.crop,o=t.cropDimensions,a=t.entitySize,i=t.backgroundDragEnabled,u=t.imageURL;var c={WebkitClipPath:"inset(".concat(n.get("top"),"% ").concat(n.get("right"),"% ").concat(n.get("bottom"),"% ").concat(n.get("left"),"%)"),clipPath:"inset(".concat(n.get("top"),"% ").concat(n.get("right"),"% ").concat(n.get("bottom"),"% ").concat(n.get("left"),"%)"),left:-o.left,top:-o.top,width:a.width,height:a.height};var l;return r.createElement("div",{className:b().container},r.createElement("img",{className:s()(b().cropBackground,(x(l={},b().draggableBackground,i),x(l,b().draggingBackground,this.state.draggingBackground),l)),src:u,onMouseDown:i?this.onBackgroundDragStart:void 0}),r.createElement("div",{className:b().previewContainer,style:o},r.createElement(_.default,{className:b().cropPreview,style:c,src:u,width:a.width,height:a.height,onMouseDown:i?this.onBackgroundDragStart:void 0,filters:e.getFilters(),clip:n})),r.createElement(y.default,{crop:n,onHandleMove:this._onResizeStart,onDrag:this._onDragStart}))}}],i=[{key:"getStores",value:function(){return[f.default,d.default,p.default]}},{key:"calculateState",value:function(e,t){var n=f.default.currentImageClip;var r=t.entity,o=t.scaleX,a=t.scaleY;var i={left:n.get("left")*r.getWidth()*o/100,top:n.get("top")*r.getHeight()*a/100,width:(100-n.get("left")-n.get("right"))*r.getWidth()*o/100,height:(100-n.get("top")-n.get("bottom"))*r.getHeight()*a/100};return{crop:n,cropDimensions:i,entitySize:{width:r.getWidth()*o,height:r.getHeight()*a},transformOriginOffset:f.default.transformOriginOffset,backgroundDragEnabled:!r.getCalloutKey(),imageURL:p.default.editorState.getAssetURL(r.getProperty("assetId")).replace(/_q\.(jpg|jpeg|png|svg|gif)$/,".$1")}}}],a&&O(o.prototype,a),i&&O(o,i),o}(r.Component);x(S,"propTypes",{entity:u().record.isRequired,scaleX:a().number.isRequired,scaleY:a().number.isRequired});let k=c.Container.create(S,{withProps:!0})},7147:(e,t,n)=>{n.r(t),n.d(t,{default:()=>S});var r=n(406);var o=n(413);var a=n.n(o);var i=n(875);var u=n.n(i);var c=n(423);var l=n(4705);var s=n(422);var f=n(7145);var d=n.n(f);function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function b(){var e=h(["\n    position: absolute;\n    box-sizing: border-box;\n    border: 2px dotted #ff00ff;\n    pointer-events: auto;\n\n    ","\n"]);return b=function(){return e},e}function y(){var e=h(["\n    display: block;\n    position: absolute;\n    background: #ff00ff;\n    border: 1px solid #fff;\n    pointer-events: auto;\n\n    ","\n"]);return y=function(){return e},e}function m(){var e=h(["\n    display: block;\n    position: absolute;\n    width: 4px;\n    height: 4px;\n    cursor: pointer;\n    pointer-events: auto;\n    box-sizing: border-box;\n    background: #ff00ff;\n    border-left: 1px solid #fff;\n    border-top: 1px solid #fff;\n\n    &::before,\n    &::after {\n        content: '';\n        display: block;\n        position: absolute;\n        background: #ff00ff;\n        box-sizing: border-box;\n        border: 1px solid #fff;\n    }\n\n    &:before {\n        height: 6px;\n        width: 4px;\n        left: -1px;\n        bottom: -6px;\n        border-top: none;\n    }\n\n    &:after {\n        width: 6px;\n        height: 4px;\n        right: -6px;\n        top: -1px;\n        border-left: 0;\n    }\n\n    ","\n"]);return m=function(){return e},e}var _=c.default.div(b(),function(e){return e.theme.id===s.default.id&&"\n        border-color: ".concat(s.default.purple400,";\n    ")});var E=c.default.div(y(),function(e){return e.theme.id===s.default.id&&"\n        background: ".concat(s.default.purple400,";\n    ")});var O=c.default.div(m(),function(e){return e.theme.id===s.default.id&&"\n        background: ".concat(s.default.purple400,";\n\n        &::before,\n        &::after {\n            background: ").concat(s.default.purple400,";\n        }\n    ")});var x=function(e){"use strict";var t;!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(o,e);var n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=v(o),n;if(t){var r=v(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);var a;return(a=n)&&("object"==(a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof a)?a:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this)});function o(){return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o),n.apply(this,arguments)}var a,i;return a=[{key:"render",value:function(){var e=this.props,t=e.crop,n=e.onDrag,o=e.onHandleMove;var a={top:"".concat(t.get("top"),"%"),right:"".concat(t.get("right"),"%"),bottom:"".concat(t.get("bottom"),"%"),left:"".concat(t.get("left"),"%")};return r.createElement(_,{style:a,onMouseDown:n},r.createElement(E,{onMouseDown:o,"data-origin":l.RESIZE_ORIGIN.N,className:d().topHandle}),r.createElement(E,{onMouseDown:o,"data-origin":l.RESIZE_ORIGIN.E,className:d().rightHandle}),r.createElement(E,{onMouseDown:o,"data-origin":l.RESIZE_ORIGIN.S,className:d().bottomHandle}),r.createElement(E,{onMouseDown:o,"data-origin":l.RESIZE_ORIGIN.W,className:d().leftHandle}),r.createElement(O,{onMouseDown:o,"data-origin":l.RESIZE_ORIGIN.NW,className:d().topLeftHandle}),r.createElement(O,{onMouseDown:o,"data-origin":l.RESIZE_ORIGIN.NE,className:d().topRightHandle}),r.createElement(O,{onMouseDown:o,"data-origin":l.RESIZE_ORIGIN.SE,className:d().bottomRightHandle}),r.createElement(O,{onMouseDown:o,"data-origin":l.RESIZE_ORIGIN.SW,className:d().bottomLeftHandle}))}}],p(o.prototype,a),i&&p(o,i),o}(r.PureComponent);var w,R;w="propTypes",R={crop:u().contains({top:a().number,right:a().number,bottom:a().number,left:a().number}).isRequired,onHandleMove:a().func,onDrag:a().func},w in x?Object.defineProperty(x,w,{value:R,enumerable:!0,configurable:!0,writable:!0}):x[w]=R;let S=x},7149:(e,t,n)=>{n.r(t),n.d(t,{default:()=>N});var r=n(406);var o=n(413);var a=n.n(o);var i=n(875);var u=n.n(i);var c=n(440);var l=n(454);var s=n.n(l);var f=n(423);var d=n(4704);var p=n(4705);var v=n(2564);var g=n(764);var h=n(7150);var b=n.n(h);var y=n(7078);var m=n.n(y);var _=n(2566);var E=n(7148);var O=n(731);var x=n(422);var w=n(7080);var R=n.n(w);function S(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};var r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){P(e,t,n[t])})}return e}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function z(){var e=I(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    border: 1px dotted #3195cb;\n    /* selector outset, see style.css */\n    margin: 30px;\n    pointer-events: auto;\n\n    ","\n"]);return z=function(){return e},e}function D(){var e=I(["\n    pointer-events: auto;\n    position: absolute;\n    height: 11px;\n    width: 11px;\n    margin: 3px;\n    background: #3195cb;\n    outline: solid 1px #fff;\n    cursor: pointer;\n\n    ","\n"]);return D=function(){return e},e}n(7081);var A=f.default.div(z(),function(e){return e.theme.id===x.default.id&&"\n        border-color: ".concat(x.default.blue500,";\n    ")});var L=f.default.div(D(),function(e){return e.theme.id===x.default.id&&"\n        background: ".concat(x.default.blue500,";\n    ")});var M=function(e){"use strict";var t;!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(o,e);var n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=j(o),n;if(t){var r=j(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);var a;return(a=n)&&("object"==(a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof a)?a:S(this)});function o(e){var t;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o),(t=n.call(this,e))._onResizeStart=t._onResizeStart.bind(S(t)),t._onRotateStart=t._onRotateStart.bind(S(t)),t._onHandleMove=t._onHandleMove.bind(S(t)),t._onHandleStop=t._onHandleStop.bind(S(t)),t._onDragStart=t._onDragStart.bind(S(t)),t._onDrag=t._onDrag.bind(S(t)),t._onDragStop=t._onDragStop.bind(S(t)),t.onBackgroundDragStart=(0,E.createBackgroundDragHandler)({moveClip:v.moveImageMask,onStart:function(){return t.setState({draggingBackground:!0})},onEnd:function(){return t.setState({draggingBackground:!1})}}).bind(S(t)),t}var a,i;return a=[{key:"componentWillUnmount",value:function(){document.removeEventListener("mousemove",this._onHandleMove),document.removeEventListener("mouseup",this._onHandleStop),document.removeEventListener("mousemove",this._onDrag),document.removeEventListener("mouseup",this._onDragStop)}},{key:"_onResizeStart",value:function(e){e.stopPropagation(),e.preventDefault();var t=e.target.dataset.origin;var n=this.props,r=n.scaleX,o=n.scaleY;(0,v.startClipResize)({startPoint:(0,g.Point)(e.clientX,e.clientY),resizeOrigin:t,scaleX:r,scaleY:o}),document.addEventListener("mousemove",this._onHandleMove),document.addEventListener("mouseup",this._onHandleStop)}},{key:"_onRotateStart",value:function(e){e.stopPropagation(),e.preventDefault();var t=this.props,n=t.scaleX,r=t.scaleY;(0,v.startClipRotate)({startPoint:(0,g.Point)(e.clientX,e.clientY),scaleX:n,scaleY:r}),document.addEventListener("mousemove",this._onHandleMove),document.addEventListener("mouseup",this._onHandleStop)}},{key:"_onHandleMove",value:function(e){e.stopPropagation(),(0,v.transformImageMask)((0,g.Point)(e.clientX,e.clientY))}},{key:"_onHandleStop",value:function(){document.removeEventListener("mousemove",this._onHandleMove),document.removeEventListener("mouseup",this._onHandleStop)}},{key:"_onDragStart",value:function(e){e.stopPropagation(),e.preventDefault();var t=this.props,n=t.scaleX,r=t.scaleY;(0,v.startClipMove)({startPoint:(0,g.Point)(e.clientX,e.clientY),scaleX:n,scaleY:r}),document.addEventListener("mousemove",this._onDrag),document.addEventListener("mouseup",this._onDragStop)}},{key:"_onDrag",value:function(e){e.stopPropagation(),(0,v.moveImageMask)((0,g.Point)(e.clientX,e.clientY))}},{key:"_onDragStop",value:function(){document.removeEventListener("mousemove",this._onDrag),document.removeEventListener("mouseup",this._onDragStop)}},{key:"render",value:function(){var e=this.props.entity;var t=this.state,n=t.mask,o=t.maskDimensions,a=t.selectorDimensions,i=t.entityDimensions,u=t.rotationAvailable,c=t.backgroundDragEnabled,l=t.imageURL;var f=C({transform:"rotate(".concat(n.get("rotate"),"deg)")},o);var d=C({transform:"rotate(".concat(n.get("rotate"),"deg)")},a);var v={className:s()(b().mask,P({},b().maskPrezigram,!1)),style:f};var g;return r.createElement("div",{className:b().container},r.createElement("img",{className:s()(b().background,(P(g={},b().draggableBackground,c),P(g,b().draggingBackground,this.state.draggingBackground),g)),src:l,onMouseDown:c?this.onBackgroundDragStart:void 0}),r.createElement(_.default,{id:e.getKey(),clip:n,type:"mask",src:l,width:i.width,height:i.height,maskProps:v,filters:e.getFilters(),editing:!0}),r.createElement("div",{className:b().selector,style:d},r.createElement(A,{onMouseDown:this._onDragStart}),u&&r.createElement("img",{src:R(),onMouseDown:this._onRotateStart,className:m().rotationIcon}),r.createElement(L,{onMouseDown:this._onResizeStart,"data-origin":p.RESIZE_ORIGIN.NW,className:s()(b().nw,m().nw)}),r.createElement(L,{onMouseDown:this._onResizeStart,"data-origin":p.RESIZE_ORIGIN.NE,className:s()(b().ne,m().ne)}),r.createElement(L,{onMouseDown:this._onResizeStart,"data-origin":p.RESIZE_ORIGIN.SE,className:s()(b().se,m().se)}),r.createElement(L,{onMouseDown:this._onResizeStart,"data-origin":p.RESIZE_ORIGIN.SW,className:s()(b().sw,m().sw)})))}}],i=[{key:"getStores",value:function(){return[d.default,O.default]}},{key:"calculateState",value:function(e,t){var n=t.entity,r=t.scaleX,o=t.scaleY;var a=d.default.currentImageClip;var i=a.get("boundingBox");var u={left:i.get("left")*n.getWidth()*r,top:i.get("top")*n.getHeight()*o,width:i.get("width")*n.getWidth()*r,height:i.get("height")*n.getHeight()*o};var c={left:u.left-30,top:u.top-30,width:u.width+60,height:u.height+60};return{mask:a,maskDimensions:u,selectorDimensions:c,entityDimensions:{width:n.getWidth()*r,height:n.getHeight()*o},transformOriginOffset:d.default.transformOriginOffset,rotationAvailable:!n.getCalloutKey(),backgroundDragEnabled:!n.getCalloutKey(),imageURL:O.default.editorState.getAssetURL(n.getProperty("assetId")).replace(/_q\.(jpg|jpeg|png|svg|gif)$/,".$1")}}}],a&&k(o.prototype,a),i&&k(o,i),o}(r.Component);P(M,"propTypes",{entity:u().record.isRequired,scaleX:a().number.isRequired,scaleY:a().number.isRequired});let N=c.Container.create(M,{withProps:!0})},7077:(e,t,n)=>{n.r(t),n.d(t,{default:()=>H});var r=n(413);var o=n.n(r);var a=n(406);var i=n(875);var u=n.n(i);var c=n(423);var l=n(552);var s=n(454);var f=n.n(s);var d=n(1205);var p=n(1161);var v=n(4704);var g=n(1202);var h=n(4705);var b=n(422);var y=n(7078);var m=n.n(y);function _(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function S(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function k(){var e=R(["\n    position: absolute;\n    top: 50%;\n    border-left: 1px solid #3195cb;\n    border-right: 1px solid #3195cb;\n    width: 5px;\n    height: 10px;\n    margin-top: -5px;\n    pointer-events: none;\n\n    ","\n"]);return k=function(){return e},e}function P(){var e=R(["\n    position: absolute;\n    width: 10px;\n    top: 27px;\n    bottom: 27px;\n    pointer-events: auto;\n    cursor: ew-resize;\n\n    "," {\n        box-sizing: border-box;\n    }\n"]);return P=function(){return e},e}function j(){var e=R(["\n    right: 23px;\n"]);return j=function(){return e},e}function C(){var e=R(["\n    left: 28px;\n"]);return C=function(){return e},e}function T(){var e=R(["\n    pointer-events: none;\n    background: #3195cb;\n    transition: transform 50ms ease-in-out;\n    backface-visibility: hidden;\n\n    ","\n\n    ","\n\n    ","\n"]);return T=function(){return e},e}var I;var z=["begin","end"];var D=["n","ne","e","se","s","sw","w","nw"];var A=["ne","nw","sw","se"];var L=["ns-resize","nesw-resize","ew-resize","nwse-resize"];var M=c.default.div(k(),function(e){return e.theme.id===b.default.id&&"\n        border-right-color: ".concat(b.default.blue500,";\n        border-left-color: ").concat(b.default.blue500,";\n    ")});var N=c.default.div(P(),M);var B=(0,c.default)(N)(j());var q=(0,c.default)(N)(C());var U=c.default.div(T(),function(e){return e.rectangle&&"\n        height: 11px;\n        width: 11px;\n        outline: solid 1px #fff;\n    "},function(e){return e.line&&"\n        height: 12px;\n        width: 12px;\n        border: 1px solid #fff;\n        border-radius: 7px;\n    "},function(e){return e.theme.id===b.default.id&&"\n        background: ".concat(b.default.blue500,";\n    ")});var H=(I=function(e){"use strict";var t;(function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)})(r,e);var n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=x(r),n;if(t){var o=x(this).constructor;n=Reflect.construct(e,arguments,o)}else n=e.apply(this,arguments);var a;return(a=n)&&("object"==(a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof a)?a:_(this)});function r(e){var t;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),O(_(t=n.call(this,e)),"_assignHandler",function(e,n){(t.props.mode===h.OVERLAY_MODES.LINE?t.props.handlers[e]:t.props.mode===h.OVERLAY_MODES.TEXT?D.includes(e)?t.props.handlers.scaleText:t.props.handlers.resizeWidth:D.indexOf(e)%2?t.props.handlers.resize:t.props.handlers.resizeSide)(n,e),t._refs[e]=n}),t._setRef=t._setRef.bind(_(t)),t._storePositions=t._storePositions.bind(_(t)),t._getCursor=t._getCursor.bind(_(t)),t._findActiveResize=t._findActiveResize.bind(_(t)),t._handleMouseDown=t._handleMouseDown.bind(_(t)),t._handleMouseUp=t._handleMouseUp.bind(_(t)),t._refs={},t}var o,i;return o=[{key:"componentDidMount",value:function(){this._storePositions()}},{key:"componentDidUpdate",value:function(e,t){(t.scrolling&&!this.state.scrolling||e.zoom!==this.props.zoom||t.resizing&&!this.state.resizing||t.clipping&&!this.state.clipping||t.selection!==this.state.selection||e.width!==this.props.width||e.height!==this.props.height||e.rotation!==this.props.rotation)&&this._storePositions()}},{key:"componentWillUnmount",value:function(){var e=this;Object.keys(this._refs).forEach(function(t){return e._assignHandler(t,null)})}},{key:"render",value:function(){var e=this;var t=this.props,n=t.mode,r=t.width,o=t.height;var i=this.state.sideResizeEnabled;var u=this._findActiveResize();var c;if(h.OVERLAY_MODES.LINE===n)c=z;else if(n===h.OVERLAY_MODES.TEXT||n===h.OVERLAY_MODES.CONTAINERLESS)c=i&&A||[];else{var l=[i&&r>24,!0,i&&o>24,!0];c=D.filter(function(e,t){return l[t%4]})}var s=h.OVERLAY_MODES.RECTANGLE===n||n===h.OVERLAY_MODES.TEXT||n===h.OVERLAY_MODES.CONTAINERLESS;return a.createElement("div",null,(n===h.OVERLAY_MODES.TEXT||n===h.OVERLAY_MODES.CONTAINERLESS)&&i&&a.createElement(a.Fragment,null,a.createElement(B,{ref:this._setRef,style:{cursor:this._getCursor("left")},"data-type":"left",onMouseDown:this._handleMouseDown,onMouseUp:this._handleMouseUp},a.createElement(M,{style:{transform:this._getTransform("left",u)}})),a.createElement(q,{ref:this._setRef,style:{cursor:this._getCursor("right")},"data-type":"right",onMouseDown:this._handleMouseDown,onMouseUp:this._handleMouseUp},a.createElement(M,{style:{transform:this._getTransform("right",u)}}))),n!==h.OVERLAY_MODES.CONTAINERLESS&&c.map(function(t){var r;return a.createElement("div",{className:f()((O(r={},m().lineResizeHandle,h.OVERLAY_MODES.LINE===n),O(r,m().resizeHandle,s),O(r,m()[t],!0),r)),style:{cursor:e._getCursor(t)},key:t,"data-type":t,ref:e._setRef,onMouseDown:e._handleMouseDown,onMouseUp:e._handleMouseUp},a.createElement(U,{line:h.OVERLAY_MODES.LINE===n,rectangle:s,style:{transform:e._getTransform(t,u)}}))}))}},{key:"_findActiveResize",value:function(){var e=this.props,t=e.resizing,n=e.mousePosition;var r=this.state,o=r.positions,a=r.selected;if(a)return{type:a,scale:1};var i=null;if(!o||a||t||Object.keys(o).forEach(function(e){var t=o[e];var r=t?Math.floor(Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))):1/0;(!i||r<i.distance)&&(i={type:e,distance:r})}),i)return{type:i.type,scale:this._calculateScale(i.distance)}}},{key:"_calculateScale",value:function(e){if(e>70)return 0;var t=(83-e)*.75/70+.25;return(t=Math.min(1,t)).toFixed(2)}},{key:"_getCursor",value:function(e){if(this.props.mode===h.OVERLAY_MODES.LINE)return"move";this.props.mode===h.OVERLAY_MODES.TEXT&&("left"===e?e="e":"right"===e&&(e="w"));var t=D.indexOf(e);var n=this.props.rotation+112.5;return L[(L.length+t+(Math.floor(n/45)-2))%L.length]}},{key:"_getTransform",value:function(e,t){var n=0;return this.props.mode===h.OVERLAY_MODES.LINE?n=1:t&&t.type===e&&(n=t.scale),"scale(".concat(n,")")}},{key:"_getPosition",value:function(e){var t=e.getBoundingClientRect();return{x:t.width/2+t.left,y:t.height/2+t.top}}},{key:"_storePositions",value:function(){var e=this;var t={};Object.keys(this._refs).forEach(function(n){var r=e._refs[n];t[n]=r?e._getPosition(r):null}),this.setState({positions:t})}},{key:"_setRef",value:function(e){if(e){var t=e.getAttribute("data-type");this._assignHandler(t,e)}}},{key:"_handleMouseDown",value:function(e){var t=e.target.getAttribute("data-type");this.setState({selected:t})}},{key:"_handleMouseUp",value:function(){this.setState({selected:null})}}],i=[{key:"getStores",value:function(){return[p.default,d.default,v.default]}},{key:"calculateState",value:function(e,t){var n=p.default.scrolling;var r=t&&t.resizing;var o=e&&e.positions;var a=!d.default.multiSelectionActive&&!t.isGroup;var i=d.default.currentSelection;var u=e&&e.selected;return e&&e.resizing&&!r&&(u=null),{positions:o,selected:u,scrolling:n,resizing:r,clipping:!!v.default.activeType,sideResizeEnabled:a,selection:i}}}],o&&E(r.prototype,o),i&&E(r,i),r}(a.Component),O(I,"propTypes",{width:o().number.isRequired,height:o().number.isRequired,handlers:o().object.isRequired,rotation:o().number.isRequired,zoom:o().number.isRequired,resizing:o().bool.isRequired,mode:o().string.isRequired,isGroup:o().bool,mousePosition:u().contains({x:o().number.isRequired,y:o().number.isRequired})}),I);H=function(e,t,n,r){var o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r,i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([(0,l.connect)(function(e){var t=e.get("editorZoom");return{mousePosition:e.get("mousePosition"),zoom:t.zoom}},null,null,{areStatesEqual:function(e,t){return e.get("mousePosition")===t.get("mousePosition")&&e.get("editorZoom")===t.get("editorZoom")},areStatePropsEqual:function(e,t){return e.zoom===t.zoom&&e.mousePosition===t.mousePosition}}),(0,g.default)({withProps:!0}),S("design:type",Function),S("design:paramtypes",[void 0])],H)},7148:(e,t,n)=>{n.r(t),n.d(t,{createBackgroundDragHandler:()=>l});var r=n(2564);var o=n(4704);var a=n(764);var i=n(2465);var u=n(2460);var c=n(2506);function l(e){var t=e.moveClip,n=e.getBounds,l=e.onStart,s=e.onEnd;return function(e){var f=function(e){e.stopPropagation();var n=o.default.ongoingClipTransform.get("startPoint");var r=e.clientX-n.x;var i=e.clientY-n.y;if(p){var u=(0,o.calculateLocalCoordinates)(r,i,b.getTransform().getRotate());r=Math.max(Math.min(u.x,p.left),-(b.width*g-p.left-p.width)),i=Math.max(Math.min(u.y,p.top),-(b.height*h-p.top-p.height));var l=(0,o.calculateLocalCoordinates)(r,i,-b.getTransform().getRotate());r=l.x,i=l.y}t((0,a.Point)(n.x-r,n.y-i)),(0,c.default)([b.getKey()],{left:d.x+r/g,top:d.y+i/h})};var d;var p=n&&n();var v=this.props,g=v.scaleX,h=v.scaleY,b=v.entity;e.nativeEvent.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),(0,i.default)(),(0,r.startClipMove)({startPoint:(0,a.Point)(e.clientX,e.clientY),scaleX:g,scaleY:h}),d=(0,a.Point)(b.left,b.top),l&&l(),document.addEventListener("mousemove",f),document.addEventListener("mouseup",function e(){(0,u.default)(),s&&s(),document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",e)})}}},7143:(e,t,n)=>{n.r(t),n.d(t,{default:()=>B});var r=n(413);var o=n.n(r);var a=n(406);var i=n(875);var u=n.n(i);var c=n(423);var l=n(454);var s=n.n(l);var f=n(440);var d=n(4704);var p=n(754);var v=n(730);var g=n(1203);var h=n(7144);var b=n(7149);var y=n(7077);var m=n(7152);var _=n(4705);var E=n(7153);var O=n(2579);var x=n(422);var w=n(7078);var R=n.n(w);var S=n(7080);var k=n.n(S);function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function I(){var e=T(["\n    height: 1px;\n    position: absolute;\n    left: 31px;\n    right: 31px;\n    top: calc(50% - 0.5px);\n    background: ",";\n\n    ","\n"]);return I=function(){return e},e}function z(){var e=T(["\n    position: absolute;\n    top: 30px;\n    right: 30px;\n    bottom: 30px;\n    left: 30px;\n    cursor: move;\n\n    ","\n\n    ","\n\n    ","\n"]);return z=function(){return e},e}n(7081);var D=c.default.div(I(),function(e){return e.theme.id===x.default.id?x.default.blue500:"#3195cb"},function(e){return e.locked&&"\n        background: ".concat(e.theme.id===x.default.id?x.default.neutral60:"#949496",";\n    ")});var A=c.default.div(z(),function(e){return e.solid&&"\n        border: 1px solid ".concat(e.theme.id===x.default.id?x.default.blue500:"#3195cb",";\n    ")},function(e){return e.locked&&"\n        border: 1px solid ".concat(e.theme.id===x.default.id?x.default.neutral60:"#949496",";\n    ")},function(e){return e.none&&"\n        border: none;\n    "});var L=function(e){"use strict";var t;!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(r,e);var n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=j(r),n;if(t){var o=j(this).constructor;n=Reflect.construct(e,arguments,o)}else n=e.apply(this,arguments);var a;return(a=n)&&("object"==(a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof a)?a:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this)});function r(){return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),n.apply(this,arguments)}var o,i;return o=[{key:"render",value:function(){var e=this.props,t=e.handlers,n=e.hovered,r=e.selected,o=e.multiSelectionActive,i=e.entity,u=e.scaleX,c=e.scaleY,l=e.editing;var f=this.state,d=f.isRotating,g=f.isResizing,E=f.isDragging,x=f.clipping,w=f.mode;var S=d||g||E;var P=w===_.OVERLAY_MODES.CONNECTOR;var j=i.getTransform().getRotate();var C=i.getProperty("crop");var T=i.getProperty("mask");var I=i.locked;var z=x?i:(0,p.calculateClippedRectangle)(i);var L={transform:"rotate(".concat(j||0,"deg)"),top:z.top*this.props.scaleY,left:z.left*this.props.scaleX,width:z.width*this.props.scaleX,height:z.height*this.props.scaleY,position:"absolute",pointerEvents:"none",zIndex:2,opacity:E&&!x?.5:1};if(P&&(L.top=0,L.left=0,L.width="100%",L.height="100%"),x&&C){var M=C.get("left")+(100-C.get("left")-C.get("right"))/2;var N=C.get("top")+(100-C.get("top")-C.get("bottom"))/2;L.transformOrigin="".concat(M,"% ").concat(N,"%")}else if(x&&T){var B=100*T.get("center").get("left");var q=100*T.get("center").get("top");L.transformOrigin="".concat(B,"% ").concat(q,"%")}var U={};var H=0;T&&!x?(H=T.get("rotate"),U.transform="rotate(".concat(H,"deg)")):x&&(U.display="none");var Y=j+H;var F;x===v.IMAGE_CROP?F=a.createElement(h.default,{entity:i,scaleX:this.props.scaleX,scaleY:this.props.scaleY}):x===v.IMAGE_MASK&&(F=a.createElement(b.default,{entity:i,scaleX:this.props.scaleX,scaleY:this.props.scaleY}));var G=w===_.OVERLAY_MODES.RECTANGLE||w===_.OVERLAY_MODES.TEXT||w===_.OVERLAY_MODES.CONTAINERLESS;var K=P&&o;return a.createElement("div",{style:L},F,a.createElement("div",{className:s()(!P&&R().selector),style:U},a.createElement(A,{solid:G&&!I&&(r||!S&&n),locked:G&&I&&(r||!S&&n),none:w===_.OVERLAY_MODES.CONTAINERLESS&&l,ref:t.select}),w===_.OVERLAY_MODES.LINE&&(n&&!r&&!S||r&&I)&&a.createElement(D,{locked:I}),K&&!l&&a.createElement(O.default,{entity:i,scaleX:u,scaleY:c,block:this.props.block,pageSize:this.props.pageSize,readOnly:!1,overlay:!0}),r&&!I&&!o&&!this.props.commenting&&a.createElement(a.Fragment,null,(d||!g&!l)&&G&&a.createElement("img",{ref:t.rotate,className:R().rotationIcon,src:k()}),!d&&!E&&a.createElement(a.Fragment,null,!P&&a.createElement(y.default,{isGroup:i.isGroup(),width:L.width,height:L.height,handlers:t,rotation:Y,resizing:g,mode:w}),P&&a.createElement(m.default,{handlers:t,rotation:Y,entity:i,scaleX:this.props.scaleX,scaleY:this.props.scaleY,block:this.props.block,pageSize:this.props.pageSize})))))}}],i=[{key:"getStores",value:function(){return[d.default,g.default]}},{key:"calculateState",value:function(e,t){var n=g.default.activeHandle;return{isRotating:n&&"rotate"===n.get("type")&&n.get("key")===t.entity.getKey(),isResizing:g.default.resizing,isDragging:g.default.dragging,clipping:d.default.activeEntityKey===t.entity.getKey()?d.default.activeType:null,mode:(0,E.getOverlayMode)(t.entity)}}}],o&&P(r.prototype,o),i&&P(r,i),r}(a.Component);var M,N;M="propTypes",N={entity:u().record.isRequired,scaleX:o().number.isRequired,scaleY:o().number.isRequired,hovered:o().bool.isRequired,selected:o().bool.isRequired,handlers:o().object.isRequired,multiSelectionActive:o().bool,isClipping:o().bool,commenting:o().bool,block:o().any.isRequired,pageSize:o().shape({width:o().number.isRequired,height:o().number.isRequired}),editing:o().bool},M in L?Object.defineProperty(L,M,{value:N,enumerable:!0,configurable:!0,writable:!0}):L[M]=N;let B=f.Container.create(L,{withProps:!0})},7153:(e,t,n)=>{n.r(t),n.d(t,{getOverlayMode:()=>o});var r=n(4705);function o(e){return e.isConnector()?r.OVERLAY_MODES.CONNECTOR:"TEXT"===e.type?r.OVERLAY_MODES.TEXT:e.isLine()?r.OVERLAY_MODES.LINE:e.isHeightlessChart()?r.OVERLAY_MODES.CONTAINERLESS:r.OVERLAY_MODES.RECTANGLE}},7182:(e,t,n)=>{n.r(t),n.d(t,{default:()=>eE});var r=n(374);var o=n(406);var a=n(413);var i=n.n(a);var u=n(552);var c=n(458);var l=n.n(c);var s=n(418);var f=n.n(s);var d=n(876);var p=n(1161);var v=n(731);var g=n(728);var h=n(2105);var b=n(1086);var y=n(701);var m=n(4066);var _=n(730);var E=n(5253);var O=n(5075);var x=n(5252);var w=n(5251);var R=n(4077);var S=n(4224);var k=n(4225);var P=n(4226);var j=n(4227);var C=n(5162);var T=n(2926);var I=n(656);var z=n(5250);var D=n(1972);var A=n(4103);var L=n(1205);var M=n(4076);var N=n(7183);var B=n(1203);var q=n(2457);var U=n(2460);var H=n(784);var Y=n(7058);var F=n(5151);var G=n(872);var K=n(7184);var X=n(1197);var V=n(2564);var W=n(4704);var Z=n(7185);var J=n(501);var Q=n(2454);var $=n(2464);var ee=n(7186);var et=n(2393);var en=n(753);var er=n(1192);function eo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ea(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ei(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ec(e){return(ec=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function el(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function es(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};var r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){eu(e,t,n[t])})}return e}function ef(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function ed(e,t){return(ed=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ep(e){return function(e){if(Array.isArray(e))return e}(e)||el(e)||eg(e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ev(e){return function(e){if(Array.isArray(e))return eo(e)}(e)||el(e)||eg(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eg(e,t){if(e){if("string"==typeof e)return eo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eo(e,t)}}function eh(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}var eb;var ey=f().getParser(window.navigator.userAgent);var em=ey.isOS(f().OS_MAP.MacOS);var e_=ey.isBrowser(f().BROWSER_MAP.ie);var eE=(eu(eb=function(e){"use strict";var t;(function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ed(e,t)})(a,e);var n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=ec(a),n;if(t){var r=ec(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);var o;return(o=n)&&("object"==(o&&"undefined"!=typeof Symbol&&o.constructor===Symbol?"symbol":typeof o)||"function"==typeof o)?o:ea(this)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a),(t=n.call(this,e)).handleKeys=t.handleKeys.bind(ea(t)),t.wrapper=o.createRef(),t}var i,u;return i=[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeys,!1),document.addEventListener("keyup",this.handleKeys,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeys,!1),document.removeEventListener("keyup",this.handleKeys,!1)}},{key:"handleKeys",value:function(e){var t=e.target,n=e.type;(t===document.body||t instanceof HTMLButtonElement||"button"===t.getAttribute("role"))&&(!e_||"true"!==t.contentEditable&&"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName)&&("keyup"===n?this.handleKeyUp(e):"keydown"===n?this.handleKeyDown(e):l()(!1,"Unknown event type"))}},{key:"shouldShowObjectGuides",get:function(){return this.props.guideSettings&&!this.props.guideSettings.showGuides&&this.props.guideSettings.snapObjects}},{key:"snapMoveEntities",value:function(e,t,n,r){var o;if(this.shouldShowObjectGuides){var a=t.first().getBlockKey();var i=v.default.editorState.getCurrentContent().getBlock(a).getEntities();var u=(0,H.flattenEntities)(v.default.editorState,t);o=(0,Q.findNextSmartSnap)((0,en.calculateBoundingBox)(t,!0),u,i,v.default.editorState.getPageSize(),n)}else if(this.props.guideSettings&&this.props.guideSettings.showGuides){var c=new et.GridSettings(v.default.editorState.getPageSize().width,v.default.editorState.getPageSize().height,this.props.guideSettings.columnCount,this.props.guideSettings.whitespacePercent,this.props.guideSettings.rowSpacing).getGridLines(),l=c.guides,s=c.baselines;o=(0,Q.findNextGridSnap)((0,en.calculateBoundingBox)(t,!0),v.default.editorState.getPageSize(),n,l,s)}return(0,ee.default)(),o.next=o.next.filter(function(e){return e.distance>0}),o.prev=o.prev.filter(function(e){return e.distance>0}),(0,N.default)(e.getEntities(),["up","down"].includes(r)?"top":"left",["up","left"].includes(r)?-o.prev[0].distance:o.next[0].distance),o}},{key:"handleKeyDown",value:function(e){if(!m.ActiveTextEditorStore.editing&&"input"!==e.target.tagName.toLowerCase()){var t=em?e.metaKey:e.ctrlKey;var n=e.metaKey||e.ctrlKey||e.altKey;var o=L.default.currentSelection;var a=v.default.editorState;var i=a.getEntities(o.getEntities());var u=i.every(function(e){return e.isLocked()});var c=i.some(function(e){return e.isLocked()});var l=i.some(function(e){return e.getCalloutKey()});switch(e.keyCode){case I.default.BACKSPACE:case I.default.DELETE:if(c||n||this.props.editingObject||0===D.default.activeSettingsTabIndex)return;if(i.isEmpty()){if(!o.hasNoBlocks()&&a.getCurrentContent().getBlocks().size>1){var s=o.getBlocks().first();var f=a.getCurrentContent().getBlockIndex(s)+1;var d=a.getCurrentContent().getBlocks().size;(0,A.showConfirmDialog)({title:r.default.t("app.freelayout_editor.delete_page_dialog_title",{page_number:f}),description:r.default.t("app.freelayout_editor.delete_page_dialog_description"),button:r.default.t("delete")}).then(function(){(0,C.default)([s]),f===d&&(0,b.scrollToPage)(f-2)})}}else{var y=a.getEntities(o.getEntities());var _=ep((0,H.flattenEntities)(a,y).keys()).slice(0);(0,R.default)(_),y.every(function(e){return e.getCalloutKey()})&&(0,M.updateSelectionState)(o.clear().addEntities(y.first().getCalloutKey()))}break;case I.default.DOWN_ARROW:if(t&&!e.altKey){if(0===o.getEntities().size)(0,b.scrollToPage)(p.default.activePageIndex+1);else{var U=this.snapMoveEntities(o,i,"vertical","down");(0,$.default)([(0,Q.createVisibleGuide)(ef(es({},U.next[0]),{direction:"vertical"}),U.selectedBounds,0)])}}else{if(n||u||l)return;(0,N.default)(o.getEntities(),"top",e.shiftKey?10:1)}break;case I.default.UP_ARROW:if(t&&!e.altKey&&0!==o.getEntities().size){var G=this.snapMoveEntities(o,i,"vertical","up");(0,$.default)([(0,Q.createVisibleGuide)(ef(es({},G.prev[0]),{direction:"vertical"}),G.selectedBounds,0)])}else if(t&&!e.altKey&&p.default.activePageIndex>0)(0,b.scrollToPage)(p.default.activePageIndex-1);else{if(n||u||l)return;(0,N.default)(o.getEntities(),"top",e.shiftKey?-10:-1)}break;case I.default.LEFT_ARROW:if(i.isEmpty()||u||l)return;if(t&&!e.altKey){var Z=this.snapMoveEntities(o,i,"horizontal","left");(0,$.default)([(0,Q.createVisibleGuide)(ef(es({},Z.prev[0]),{direction:"horizontal"}),Z.selectedBounds,0)])}else{if(n)return;(0,N.default)(o.getEntities(),"left",e.shiftKey?-10:-1)}break;case I.default.RIGHT_ARROW:if(i.isEmpty()||u||l)return;if(t&&!e.altKey){var ee=this.snapMoveEntities(o,i,"horizontal","right");(0,$.default)([(0,Q.createVisibleGuide)(ef(es({},ee.next[0]),{direction:"horizontal"}),ee.selectedBounds,0)])}else{if(n)return;(0,N.default)(o.getEntities(),"left",e.shiftKey?10:1)}break;case I.default.KEY_Z:if(t&&!e.altKey){e.shiftKey?(0,Y.redo)():(0,Y.undo)();break}return;case I.default.KEY_Y:if(t&&!e.altKey){(0,Y.redo)();break}return;case I.default.KEY_C:if(t&&e.shiftKey){(0,z.copyElementStyle)();break}if(c||!t||e.altKey){if(n)return;(0,T.changeActiveHeader)("chart");break}(0,w.default)();break;case I.default.KEY_V:if(!c&&t&&e.shiftKey){(0,z.pasteElementStyle)();break}t&&!e.altKey&&window.clipboardData&&(0,x.default)(window.clipboardData.getData("Text"),e);return;case I.default.KEY_D:if(t){if(c)break;if(i.isEmpty()){if(1===o.getBlocks().size){var et=o.getBlocks().first();var en=a.getCurrentContent().getBlockIndex(et);(0,F.default)(et,en+1,{scroll:!0});break}}else{var er=i.first().getBlockKey();(0,E.default)(i,er,{offsetEntities:!0});break}}return;case I.default.KEY_O:this.props.toggleElementsOutsideBlockVisible(g.default.infographicId),(0,J.logShowOverflowWebJs)({});break;case I.default.KEY_R:if(!i.size||n)return;if(B.default.pointerDown||i.first().locked||l)break;var eo={type:"rotate",key:i.map(function(e){return e.getKey()}).join("-")};var ea=(0,H.flattenEntities)(a,i)||B.default.initialEntityPositions;eo.blockRect=i.size?(0,X.getRelativeBlockRect)(ea.first()):null;var ei=a.getCurrentContent().getBlock(i.first().blockKey);(0,q.default)(eo,ea,{x:-1,y:-1},ei);break;case I.default.KEY_I:if(n)return;(0,T.changeActiveHeader)("image");break;case I.default.KEY_X:if(!t||i.isEmpty())break;(0,w.default)();var eu=ep((0,H.flattenEntities)(a,i).keys()).slice(0);(0,R.default)(eu);break;case I.default.KEY_G:if(c||i.isEmpty()&&n)return;if(t&&e.shiftKey)O.ungroupEntities.apply(void 0,ev(o.getEntities().values()));else if(t&&i.size>1)(0,O.groupEntities)(o.getEntities());else{if(n)return;this.props.toggleGridAndGuides(g.default.infographicId)}break;case I.default.KEY_L:if(v.default.multiLayout){this.props.toggleLayout();break}if(n)return;break;case I.default.KEY_T:if(n)return;(0,T.changeActiveHeader)("text");break;case I.default.KEY_S:if(t&&e.altKey,n)return;(0,T.changeActiveHeader)("shape");break;case I.default.KEY_M:if(n)return;(0,T.changeActiveHeader)("map");break;case I.default.KEY_A:if(t){var ec;var el=p.default.activePageIndex;var ed=a.getCurrentContent().getBlocks().get(el);var eg=[];ed.getEntities().forEach(function(e){e.locked||e.getGroupKey()||e.getCalloutKey()||eg.push(e.getKey())});var eh=(ec=o.clear()).addEntities.apply(ec,ev(eg));(0,M.updateSelectionState)(eh)}break;case I.default.OPEN_BRACKET:if(i.isEmpty())return;t&&e.altKey?S.default.apply(void 0,ev(o.getEntities())):t&&P.default.apply(void 0,ev(o.getEntities()));break;case I.default.CLOSE_BRACKET:if(i.isEmpty())return;t&&e.altKey?k.default.apply(void 0,ev(o.getEntities())):t&&j.default.apply(void 0,ev(o.getEntities()));break;case I.default.SPACE:if(n)return;B.default.navigating||(0,K.default)();break;case I.default.ESCAPE:if(n)return;this.props.commenting?(this.props.closeCommentMarker(),this.props.closeCommenting()):this.props.hasOpenComment?this.props.closeCommentMarker():this.props.sidebarOpen?this.props.closeSidebar():W.default.activeType?(0,V.stopClipping)():h.default.activeHeader&&(0,T.closeElementMenu)();break;case I.default.ENTER:if(n)return;W.default.activeType&&(0,V.stopClipping)();break;case I.default.DASH:t&&this.props.onZoom(-1);break;case I.default.EQUALS:t&&this.props.onZoom(1);break;default:return}e.stopPropagation(),e.preventDefault()}}},{key:"handleKeyUp",value:function(e){switch(e.keyCode){case I.default.KEY_R:case I.default.SPACE:case I.default.LEFT_META:case I.default.RIGHT_META:case I.default.CTRL:(0,U.default)()}}},{key:"render",value:function(){return null}}],ei(a.prototype,i),u&&ei(a,u),a}(o.PureComponent),"propTypes",{toggleGridAndGuides:i().func.isRequired,commenting:i().bool.isRequired,hasOpenComment:i().bool.isRequired,sidebarOpen:i().bool.isRequired,closeCommentMarker:i().func.isRequired,closeCommenting:i().func.isRequired,closeSidebar:i().func.isRequired,onZoom:i().func.isRequired,toggleLayout:i().func.isRequired,editingObject:i().bool.isRequired,toggleElementsOutsideBlockVisible:i().func.isRequired,saveImitation:i().func.isRequired,guideSettings:i().shape({showGuides:i().bool.isRequired,snapObjects:i().bool.isRequired,whitespacePercent:i().number.isRequired,columnCount:i().number.isRequired,rowSpacing:i().number.isRequired})}),eb);eE=function(e,t,n,r){var o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r,i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([(0,u.connect)(function(e){var t;var n=e.get("conversations");var r=e.get("chartEditor");var o=e.get("flexEditorGrid"),a=o.whitespacePercent,i=o.columnCount,u=o.rowSpacing;var c=e.get("localProjectSettings"),l=c.showGuides,s=c.snapObjects;return{commenting:n.commenting,hasOpenComment:!!n.openCommentKey,sidebarOpen:!!(null===(t=e.get("sidebar"))||void 0===t?void 0:t.active),editingObject:r.editing,guideSettings:{showGuides:l,snapObjects:s,whitespacePercent:a,columnCount:i,rowSpacing:u}}},function(e){return{toggleGridAndGuides:function(t){e({type:y.FLEX_EDITOR_TOGGLE_GRID_AND_GUIDES,payload:{projectId:t}})},closeCommentMarker:function(){e({type:G.CONVERSATIONS_TOGGLE_MARKER})},closeCommenting:function(){e({type:G.CONVERSATIONS_TOGGLE_COMMENTING})},closeSidebar:function(){e({type:(0,d.getType)(er.closeSidebar)})},onZoom:function(t){e({type:_.EDITOR_ZOOM,payload:{direction:t}})},saveImitation:function(){e({type:y.FLEX_EDITOR_CONTENT_SAVING}),setTimeout(function(){e({type:y.FLEX_EDITOR_CONTENT_SAVE_REQUESTED})},1e3)},toggleLayout:Z.default,toggleElementsOutsideBlockVisible:function(t){e({type:_.TOGGLE_ELEMENTS_OUTSIDE_BLOCK_VISIBLE,payload:t})}}},null,{areStatesEqual:function(e,t){return e.get("conversations")===t.get("conversations")&&e.get("chartEditor")===t.get("chartEditor")&&e.get("flexEditorGrid")===t.get("flexEditorGrid")&&e.get("localProjectSettings")===t.get("localProjectSettings")&&e.get("sidebar")===t.get("sidebar")}}),eh("design:type",Function),eh("design:paramtypes",[void 0])],eE)},7203:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var r=n(730);var o=n(7204);var a=function(e){return Math.min(Math.max(e=Math.round(100*e)/100,r.FREELAYOUT_MIN_ZOOM_LIMIT),r.MAX_ZOOM_LIMIT)};var i;function u(e){var t=e.event,n=e.zoom,u=e.onScale,c=e.contentBounds;if("gesturestart"===t.type)t.preventDefault(),i=n;else if("gesturechange"===t.type){t.preventDefault();var l=a(i*t.scale);(0,o.default)({event:t,targetZoom:l,onScale:u,contentBounds:c})}else if("wheel"===t.type&&(t.metaKey||t.ctrlKey)){t.preventDefault(),t.stopImmediatePropagation();var s=Math.abs(t.deltaY)*Math.max(r.ZOOM_STEP_SIZE,n-.5);var f=a(n-Math.min(r.MAX_RELATIVE_PINCH_OR_WHEEL_ZOOM_STEP,Math.max(r.MIN_RELATIVE_PINCH_OR_WHEEL_ZOOM_STEP,s))*(t.deltaY<0?-1:1)/100);(0,o.default)({event:t,targetZoom:f,onScale:u,contentBounds:c})}else if("wheel"===t.type&&t.deltaX<0&&Math.abs(t.deltaX)>=Math.abs(t.deltaY)){var d=!1;var p=t.target;do if(d=d||p.scrollLeft>0)break;while(p=p.parentElement);d||t.preventDefault()}}},7204:(e,t,n)=>{n.r(t),n.d(t,{default:()=>o});var r=n(1086);function o(e){var t=e.event,n=e.targetZoom,o=e.onScale,a=e.contentBounds;var i=(0,r.getEditorScroll)();if(i){var u=i.element;var c=(t.clientX-a.left+u.scrollLeft)/u.scrollWidth;var l=(t.clientY-a.top+u.scrollTop)/u.scrollHeight;o(n),u.scrollLeft=Math.max(0,Math.round(c*u.scrollWidth-t.clientX+a.left)),u.scrollTop=Math.max(0,Math.round(l*u.scrollHeight-t.clientY+a.top))}else o(n)}},7187:(e,t,n)=>{function r(e){return o[e]}n.r(t),n.d(t,{default:()=>r});var o={figures:[{type:"IMAGE",width:60,height:60,offsetX:0,top:10,align:"{{ALIGN_LEFT}}",props:{subType:"icon",graphicType:"icon",path:"m25.01,9.25q0,0.33,-0.39,0.72l-5.45,5.32l1.29,7.51q0.02,0.11,0.02,0.3q0,0.32,-0.16,0.53t-0.46,0.22q-0.29,0,-0.6,-0.18l-6.75,-3.55l-6.75,3.55q-0.33,0.18,-0.6,0.18q-0.32,0,-0.47,-0.22t-0.16,-0.53q0,-0.09,0.03,-0.3l1.29,-7.51l-5.47,-5.32q-0.38,-0.41,-0.38,-0.72q0,-0.56,0.84,-0.69l7.54,-1.1l3.38,-6.84q0.29,-0.62,0.74,-0.62t0.74,0.62l3.38,6.84l7.54,1.1q0.84,0.14,0.84,0.69Z",width:25,height:24}},{type:"TEXT",offsetX:70,top:0,align:"{{ALIGN_LEFT}}",newline:!0,props:{template:"h2"}},{type:"TEXT",offsetX:70,top:0,align:"{{ALIGN_LEFT}}",newline:!0,props:{template:"body"}},{type:"IMAGE",width:60,height:60,offsetX:0,top:10,props:{subType:"icon",graphicType:"icon",path:"m25,12.5q0,0.63,-0.46,1.1t-1.1,0.46l-21.87,0q-0.63,0,-1.1,-0.46t-0.46,-1.1t0.46,-1.1l10.94,-10.94q0.46,-0.46,1.1,-0.46t1.1,0.46l10.94,10.94q0.46,0.46,0.46,1.1Z",width:25,height:14},align:"{{ALIGN_LEFT}}"},{type:"TEXT",offsetX:70,top:10,align:"{{ALIGN_LEFT}}",newline:!0,props:{template:"h2"}},{type:"TEXT",offsetX:70,top:10,align:"{{ALIGN_LEFT}}",props:{template:"body"}}],centeredfact:[{type:"IMAGE",width:60,height:60,offsetX:0,top:0,newline:!0,props:{subType:"icon",graphicType:"icon",path:"m25.01,9.25q0,0.33,-0.39,0.72l-5.45,5.32l1.29,7.51q0.02,0.11,0.02,0.3q0,0.32,-0.16,0.53t-0.46,0.22q-0.29,0,-0.6,-0.18l-6.75,-3.55l-6.75,3.55q-0.33,0.18,-0.6,0.18q-0.32,0,-0.47,-0.22t-0.16,-0.53q0,-0.09,0.03,-0.3l1.29,-7.51l-5.47,-5.32q-0.38,-0.41,-0.38,-0.72q0,-0.56,0.84,-0.69l7.54,-1.1l3.38,-6.84q0.29,-0.62,0.74,-0.62t0.74,0.62l3.38,6.84l7.54,1.1q0.84,0.14,0.84,0.69Z",width:25,height:24}},{type:"TEXT",offsetX:0,top:2,newline:!0,props:{template:"h2"}},{type:"TEXT",offsetX:0,top:10,props:{template:"body"}}],quote:[{type:"IMAGE",width:45,height:45,offsetX:0,top:0,props:{subType:"icon",graphicType:"icon",path:"M0,5.721C0,4.195,0.616,2.86,1.846,1.716C3.077,0.572,4.529,0,6.201,0C8.83,0,10.849,0.87,12.259,2.61C13.669,4.35,14.373,6.758,14.373,9.832C14.373,12.693,13.161,15.577,10.735,18.485C8.31,21.392,5.388,23.598,1.971,25.099C1.971,25.099,0.394,22.561,0.394,22.561C3.098,21.25,5.216,19.724,6.747,17.984C8.279,16.244,9.164,14.134,9.404,11.656C9.404,11.656,7.393,11.656,7.393,11.656C5.91,11.656,4.702,11.489,3.769,11.155C2.836,10.821,2.082,10.356,1.507,9.761C0.958,9.189,0.569,8.557,0.342,7.866C0.114,7.174,0,6.459,0,5.721C0,5.721,0,5.721,0,5.721M17.627,5.721C17.627,4.195,18.242,2.86,19.473,1.716C20.703,0.572,22.155,0,23.828,0C26.456,0,28.475,0.87,29.885,2.61C31.295,4.35,32,6.758,32,9.832C32,12.693,30.787,15.577,28.362,18.485C25.936,21.392,23.015,23.598,19.597,25.099C19.597,25.099,18.02,22.561,18.02,22.561C20.725,21.25,22.843,19.724,24.374,17.984C25.905,16.244,26.791,14.134,27.03,11.656C27.03,11.656,25.02,11.656,25.02,11.656C23.537,11.656,22.328,11.489,21.395,11.155C20.463,10.821,19.709,10.356,19.134,9.761C18.584,9.189,18.195,8.557,17.968,7.866C17.741,7.174,17.627,6.459,17.627,5.721C17.627,5.721,17.627,5.721,17.627,5.721",width:32,height:26},newline:!0},{type:"TEXT",offsetX:0,top:5,newline:!0,props:{template:"h2"}},{type:"TEXT",offsetX:0,top:20,props:{template:"body"}}]}},7073:(e,t,n)=>{n.r(t),n.d(t,{default:()=>R});var r=n(406);var o=n(552);var a=n(413);var i=n.n(a);var u=n(1163);var c=n(728);var l=n(7074);var s=n(2382);var f=n(2708);var d=n(7213);var p=n(1202);var v=n(701);var g=n(7225);var h=n(2885);function b(e,t,n,r,o,a,i){try{var u=e[a](i);var c=u.value}catch(e){n(e);return}u.done?t(c):Promise.resolve(c).then(r,o)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E;var O,x,w;var R=(O=E=function(e){"use strict";var t;(function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)})(o,e);var n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=m(o),n;if(t){var r=m(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);var a;return(a=n)&&("object"==(a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof a)?a:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this)});function o(){return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o),n.apply(this,arguments)}var a,i;return a=[{key:"componentDidMount",value:function(){this.props.openProject(this.state.projectId,this.state.flexTemplateId,this.props.options)}},{key:"componentWillUnmount",value:function(){this.props.closeProject(this.state.projectId)}},{key:"render",value:function(){return this.state.shouldPresent?r.createElement(s.default,{showChartsOnScroll:this.state.showChartsOnScroll,withPresenterView:!0,canUseLinks:!0}):this.props.shouldShowRevisions?r.createElement(d.default,null):r.createElement(l.default,{toolbar:r.createElement(f.default,{isFreeLayout:!0})})}}],i=[{key:"getStores",value:function(){return[u.default,c.default,h.default]}},{key:"calculateState",value:function(){return{shouldPresent:u.default.isPresenting,showChartsOnScroll:h.default.getState().get("showChartsOnScroll"),projectId:c.default.infographicId,flexTemplateId:c.default.flexTemplateId}}}],a&&y(o.prototype,a),i&&y(o,i),o}(r.Component),x="propTypes",w={shouldShowRevisions:i().bool.isRequired,openProject:i().func.isRequired,closeProject:i().func.isRequired,options:i().object},x in O?Object.defineProperty(O,x,{value:w,enumerable:!0,configurable:!0,writable:!0}):O[x]=w,E);R=function(e,t,n,r){var o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r,i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([(0,o.connect)(function(e){return{shouldShowRevisions:e.getIn(["revisions","shouldShowRevisions"])}},function(e){return{openProject:function(t,n,r){var o;return(o=function(){return function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}(this,function(o){switch(o.label){case 0:return[4,(0,g.loadTemplate)(n)];case 1:return o.sent(),e({type:v.FLEX_EDITOR_OPEN_PROJECT,payload:{projectId:t,options:r,useBackboneModel:!0}}),[2]}})},function(){var e=this,t=arguments;return new Promise(function(n,r){var a=o.apply(e,t);function i(e){b(a,n,r,i,u,"next",e)}function u(e){b(a,n,r,i,u,"throw",e)}i(void 0)})})()},closeProject:function(t){e({type:v.FLEX_EDITOR_CLOSE_PROJECT,payload:{projectId:t}})}}}),(0,p.default)()],R)},7075:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var r=n(440);var o=n(434);var a=n(730);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=new(function(e){"use strict";var t;!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(r,e);var n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=u(r),n;if(t){var o=u(this).constructor;n=Reflect.construct(e,arguments,o)}else n=e.apply(this,arguments);var a;return(a=n)&&("object"==(a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof a)?a:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this)});function r(){return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),n.apply(this,arguments)}var o;return i(r.prototype,[{key:"getInitialState",value:function(){return!1}},{key:"reduce",value:function(e,t){return t.type===a.EDITOR_ACTION_LOADING?t.value:e}},{key:"loading",get:function(){return this.getState()}}]),o&&i(r,o),r}(r.ReduceStore))(o.default);let s=l},7166:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ep});var r=n(498);var o=n.n(r);var a=n(374);var i=n(406);var u=n(413);var c=n.n(u);var l=n(552);var s=n(423);var f=n(434);var d=n(731);var p=n(732);var v=n(422);var g=n(2180);var h=n(1968);var b=n(7167);var y=n(7168);var m=n(2476);var _=n(5238);var E=n(2530);var O=n(4735);var x=n(2551);var w=n(419);var R=n(7169);var S=n(822);var k=n(2103);function P(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t,n){return t&&C(e.prototype,t),n&&C(e,n),e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n=z(e),r;if(t){var o=z(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);var a;return(a=r)&&("object"==(a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof a)?a:P(this)}}function N(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function B(){var e=L(["\n    pointer-events: auto;\n    height: 100%;\n\n    ","\n"]);return B=function(){return e},e}function q(){var e=L(["\n    display: flex;\n    flex-direction: column;\n    margin-right: -1px;\n\n    ","\n"]);return q=function(){return e},e}function U(){var e=L(["\n    margin: 0 5px 5px 5px;\n    ","\n\n    ","\n"]);return U=function(){return e},e}function H(){var e=L(["\n    margin: 5px 5px 0 5px;\n\n    ","\n\n    ","\n"]);return H=function(){return e},e}function Y(){var e=L(["\n    border: 1px solid ",";\n\n    ","\n"]);return Y=function(){return e},e}function F(){var e=L(["\n    border-bottom: 1px dotted #777;\n    position: relative;\n    overflow: initial;\n    color: #2d2d2d;\n    pointer-events: auto;\n    display: flex;\n    margin-left: -1px;\n    margin-top: -1px;\n\n    &:last-child {\n        border-bottom: none;\n    }\n\n    ","\n\n    &:first-child {\n        "," {\n            height: 100%;\n            top: 0;\n        }\n    }\n\n    &:last-child {\n        "," {\n            height: 100%;\n        }\n    }\n"]);return F=function(){return e},e}function G(){var e=L(["\n    position: absolute;\n    top: 50%;\n    margin-top: -6px;\n    line-height: 12px;\n    width: 100%;\n    cursor: pointer;\n"]);return G=function(){return e},e}function K(){var e=L(["\n    position: absolute;\n    top: 5px;\n    background-image: url(",");\n    width: 100%;\n    background-position: center center;\n    background-size: 12px 6px;\n    background-repeat: no-repeat;\n    height: 6px;\n    cursor: pointer;\n\n    ","\n"]);return K=function(){return e},e}function X(){var e=L(["\n    position: absolute;\n    bottom: 5px;\n    background-image: url(",");\n    background-position: center center;\n    background-size: 12px 6px;\n    background-repeat: no-repeat;\n    width: 100%;\n    height: 6px;\n    cursor: pointer;\n\n    ","\n"]);return X=function(){return e},e}function V(){var e=L(["\n    pointer-events: auto;\n    cursor: pointer;\n    margin: 12px 9px 12px 16px;\n    width: ","px;\n    height: ","px;\n\n    &:hover {\n        border: 1px solid #3796c9;\n        margin: 11px 8px 11px 15px;\n    }\n\n    ","\n\n    ","\n"]);return V=function(){return e},e}function W(){var e=L(["\n    position: absolute;\n    top: 1px;\n    left: -32px;\n    width: 30px;\n    height: calc(100% - 1px);\n    font-size: 12px;\n    text-align: center;\n    background: #2d2d2d;\n    vertical-align: middle;\n    color: #fff;\n    display: block;\n\n    ","\n"]);return W=function(){return e},e}function Z(){var e=L(["\n    cursor: pointer;\n    position: absolute;\n    right: -10px;\n    width: 20px;\n    height: 20px;\n    top: 50%;\n    margin-top: -10px;\n    background-color: #2d2d2d;\n    background-image: url(",");\n    background-size: 12px 12px;\n    background-position: center center;\n    background-repeat: no-repeat;\n    border-radius: 3px;\n    z-index: 2;\n    pointer-events: auto;\n\n    ","\n"]);return Z=function(){return e},e}function J(){var e=L(["\n    position: absolute;\n    margin-top: 1px;\n    left: -28px;\n    background-color: #2d2d2d;\n    background-image: url(",");\n    background-size: 10px 10px;\n    background-position: center center;\n    background-repeat: no-repeat;\n    width: 20px;\n    height: 20px;\n    display: block;\n    border-bottom-left-radius: 3px;\n    border-bottom-right-radius: 3px;\n    cursor: pointer;\n    pointer-events: auto;\n\n    &:hover {\n        background-color: #3195cb;\n    }\n\n    ","\n"]);return J=function(){return e},e}var Q;var $=(0,E.default)(function(e,t,n,r){return i.createElement(_.default,{entity:e,design:t,location:r})});var ee=s.default.div(B(),function(e){return e.marginTop&&"\n        margin-top: ".concat(e.marginTop,"px;\n    ")});var et=s.default.div(q(),function(e){return e.iconWidth&&"\n        width: calc(100% - ".concat(e.iconWidth+20,"px);\n    ")});var en=s.default.div(U(),function(e){return e.active&&"\n        border: 1px solid #3796c9;\n        margin: -1px 4px 4px 4px;\n    "},function(e){return e.active&&e.theme.id===v.default.id&&"\n        border: 1px solid ".concat(v.default.blue500,";\n    ")});var er=s.default.h2(H(),function(e){return e.active&&"\n        margin: 4px 4px -1px 4px;\n        border: 1px solid #3796c9;\n    "},function(e){return e.active&&e.theme.id===v.default.id&&"\n        border: 1px solid ".concat(v.default.blue500,";\n    ")});var eo=s.default.div(Y(),v.default.blue500,function(e){return e.somethingIsFocused&&"\n        border-color: ".concat(v.default.neutral300,";\n\n        ").concat(ea," {\n            border-color: ").concat(v.default.neutral300,";\n        }\n    ")});var ea=s.default.div(F(),function(e){return e.theme.id===v.default.id&&"\n        border-bottom: 1px dotted ".concat(v.default.blue500,";\n    ")},es,es);var ei=s.default.div(G());var eu=s.default.div(K(),n(7172),function(e){return e.theme.id===v.default.id&&"\n        background-image: url(".concat(n(7173),");\n        background-size: 8px 4px;\n        top: 0;\n        height: 30px;\n\n        &:hover {\n            background-image: url(").concat(n(7174),");\n        }\n    ")});var ec=s.default.div(X(),n(7175),function(e){return e.theme.id===v.default.id&&"\n        background-image: url(".concat(n(7176),");\n        background-size: 8px 4px;\n        bottom: 0px;\n        height: 30px;\n\n        &:hover {\n            background-image: url(").concat(n(7177),");\n        }\n    ")});var el=s.default.div(V(),function(e){return e.size},function(e){return e.size},function(e){return e.active&&"\n        border: 1px solid #3796c9;\n        margin: 11px 8px 11px 15px;\n    "},function(e){return e.theme.id===v.default.id&&"\n        &:hover {\n            border: 1px solid ".concat(v.default.blue500,";\n        }\n\n        ").concat(e.active&&"\n            border: 1px solid ".concat(v.default.blue500,";\n        "),"\n    ")});var es=s.default.div(W(),function(e){return e.theme.id===v.default.id&&"\n        background: ".concat(v.default.neutral400,";\n    ")});var ef=s.default.div(Z(),n(7178),function(e){return e.theme.id===v.default.id&&"\n        background-image: url(".concat(n(7179),");\n        background-color: ").concat(v.default.white,";\n        box-shadow: ").concat(v.default.shadow.menus,";\n\n        &:hover {\n            background-image: url(").concat(n(7178),");\n            background-color: ").concat(v.default.red500,";\n        }\n    ")});var ed=s.default.div(J(),n(7180),function(e){return e.theme.id===v.default.id&&"\n        background-color: ".concat(v.default.neutral400,";\n\n        &:hover {\n            background-color: ").concat(v.default.neutral500,";\n        }\n    ")});var ep=(Q=function(e){"use strict";D(n,e);var t=M(n);function n(e){var r;return j(this,n),I(P(r=t.call(this,e)),"deselect",function(){-1!==r.props.rowNumber&&((0,h.popInspectorPanel)(),r.props.selectCell(-1,-1),(0,m.endEditing)())}),I(P(r),"onAddEntry",function(){r.deselect();var e=r.props,t=e.sheetIndex,n=e.updateChartData;var a=r.props.chartEntity.chart;var i=a.get("data");var u=o().clone(i[t][i[t].length-1]);i[t].push(u),a.set("data",i),(0,g.updateChart)(a),n(i)}),I(P(r),"deleteEntry",function(e){r.deselect(),e.stopPropagation();var t=parseInt(e.target.getAttribute("data-row-number"),10);var n=r.props,o=n.sheetIndex,a=n.updateChartData;var i=r.props.chartEntity.chart;var u=i.get("data");u[o].splice(t,1);var c=i.get("sheets_settings");i.set("data",u),i.set("sheets_settings",c),(0,g.updateChart)(i),a(u)}),I(P(r),"moveUp",function(e){r.deselect(),e.stopPropagation();var t=parseInt(e.target.getAttribute("data-row-number"),10);var n=r.props,o=n.sheetIndex,a=n.updateChartData;var i=r.props.chartEntity.chart;var u=i.get("data");var c=u[o];var l;l=[c[t-1],c[t]],c[t]=l[0],c[t-1]=l[1],i.set("data",u),(0,g.updateChart)(i),a(u)}),I(P(r),"moveDown",function(e){r.deselect(),e.stopPropagation();var t=parseInt(e.target.getAttribute("data-row-number"),10);var n=r.props,o=n.sheetIndex,a=n.updateChartData;var i=r.props.chartEntity.chart;var u=i.get("data");var c=u[o];var l;l=[c[t+1],c[t]],c[t]=l[0],c[t+1]=l[1],i.set("data",u),(0,g.updateChart)(i),a(u)}),I(P(r),"changeIcon",function(e){r.deselect(),e.stopPropagation();var t=parseInt(e.currentTarget.getAttribute("data-row-number"),10);r.props.selectIcon(t),(0,h.pushInspectorPanel)(b.default,{})}),I(P(r),"onTextEdit",function(e){e.stopPropagation();var t=r.props,n=t.readOnly,o=t.selectCell,a=t.data,i=t.entity,u=t.sheetIndex;if(!n){var c=parseInt(e.currentTarget.getAttribute("data-row-number"),10);var l=parseInt(e.currentTarget.getAttribute("data-col-number"),10);if(c===r.props.rowNumber&&l===r.props.colNumber)return(0,m.startEditingActiveCell)();r.deselect();var s=0===l?"h2":"body";var f=a.get(c).get(l);(0,m.focusTextEditor)(f,c,l,u),(0,h.pushInspectorPanel)(y.default,{entity:i,design:d.default.editorState.getDesign(),template:s}),o(c,l)}}),I(P(r),"edit",function(e){e.stopPropagation();var t=r.props.chartId;r.props.editFactsAndFigures(t)}),I(P(r),"showChart",function(){var e=r.props.chartEntity;e&&e.instance.root.style("opacity",1)}),I(P(r),"componentDidUpdate",function(e){r.props.editing&&!e.editing?(0,w.default)():!r.props.editing&&e.editing&&r.showChart()}),e.prepareEditor(),r}return T(n,[{key:"componentWillUnmount",value:function(){this.props.editing&&this.showChart()}},{key:"render",value:function(){if(this.props.editing){this.props.chartEntity.instance.root.style("opacity",0);var e=this.props.readOnly;return i.createElement(ee,{onClick:this.deselect,marginTop:this.props.sheetSwitcherHeight},i.createElement(ev,{data:this.props.editorData,deleteEntry:this.deleteEntry,moveUp:this.moveUp,moveDown:this.moveDown,iconWidth:this.props.iconSize,changeIcon:this.changeIcon,design:this.props.design,entity:this.props.entity,sheetIndex:this.props.sheetIndex,onTextEdit:this.onTextEdit,activeRowNumber:this.props.rowNumber,activeColNumber:this.props.colNumber,deselect:this.deselect,canReorder:!e,id:this.props.chartId,zoom:this.props.zoom,showIcons:this.props.showIcons,somethingIsFocused:this.props.somethingIsFocused}),!e&&i.createElement(ed,{onClick:this.onAddEntry}),i.createElement(O.default,{onSelect:m.endEditing,maxWidth:this.props.maxWidth,inPlaceEditing:!0}))}return i.createElement(R.default,{onClick:this.edit,"data-tooltip":a.default.t("app.freelayout_editor.edit"),"data-tooltip-position":"bottom"})}}]),n}(i.PureComponent),I(Q,"propTypes",{chartEntity:c().object,responsive:c().bool,editing:c().bool,sheetIndex:c().number,rowNumber:c().number,colNumber:c().number,chartId:c().any,data:c().object,readOnly:c().bool,updateChartData:c().func.isRequired,prepareEditor:c().func.isRequired,selectCell:c().func.isRequired,editFactsAndFigures:c().func.isRequired,selectIcon:c().func.isRequired,maxWidth:c().number,iconSize:c().number,entity:c().object,design:c().object,zoom:c().number,showIcons:c().bool,somethingIsFocused:c().bool,sheetSwitcherHeight:c().number,editorData:c().object}),Q);ep=function(e,t,n,r){var o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r,i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([(0,l.connect)(function(e,t){var n=p.default.getEntity(t.chartId);var r=n.instance;var o=n.container.getBoundingClientRect().width-92;var a=e.get("chartEditor"),i=a.editing,u=a.sheetIndex,c=a.rowStart,l=a.colStart,s=a.iconSize,f=a.data,v=a.readOnly,g=a.showIcons,h=a.editorData;var b=e.get("editorZoom");var y=r.root.node().getBoundingClientRect().top-r.container.node().getBoundingClientRect().top;return{editing:i,sheetIndex:u,rowNumber:c,colNumber:l,iconSize:s,data:f,readOnly:v,maxWidth:o,entity:t.entity,design:d.default.editorState.getDesign(),zoom:b.zoom,showIcons:g,somethingIsFocused:-1!==c||-1!==l,sheetSwitcherHeight:y,editorData:h,chartEntity:n}},function(e){return{prepareEditor:function(){e({type:S.FACTS_AND_FIGURES_PREPARE_EDITOR})},editFactsAndFigures:function(t){f.default.dispatch({type:k.DATA_TABLE_OPEN,inPlaceEditing:!0}),e({type:S.FACTS_AND_FIGURES_START_EDITING,payload:{chartId:t}})},selectCell:function(t,n){e({type:S.FACTS_AND_FIGURES_SELECT_CELL,payload:{rowNumber:t,colNumber:n}})},selectIcon:function(t){e({type:S.FACTS_AND_FIGURES_SELECT_ICON,payload:{rowNumber:t}})},updateChartData:function(t){e({type:S.FACTS_AND_FIGURES_UPDATE_CHART_DATA,payload:{data:t}})}}}),N("design:type",Function),N("design:paramtypes",[void 0])],ep);var ev=function(e){"use strict";D(n,e);var t=M(n);function n(){return j(this,n),t.apply(this,arguments)}return T(n,[{key:"render",value:function(){var e=this;var t=this.props,n=t.iconWidth,r=t.id,o=t.sheetIndex,a=t.zoom,u=t.showIcons,c=t.somethingIsFocused,l=t.data,s=t.canReorder,f=t.activeRowNumber,d=t.activeColNumber;return i.createElement(eo,{onClick:this.props.deselect,somethingIsFocused:c},l.map(function(t,c){var l=t.get("icon");var p=t.get("figure");var v=t.get("fact");var g=u&&i.createElement(el,{onClick:e.props.changeIcon,"data-row-number":c,active:f===c&&-1===d,size:n,style:{zoom:a}},i.createElement("svg",{width:n,height:n,viewBox:l.get("viewBox"),style:{opacity:l.get("opacity")}},i.createElement("path",{className:"igc-textual-path",fill:l.get("color"),transform:l.get("transform"),d:l.get("path")})));return i.createElement(ea,{key:c},s&&i.createElement(es,null,t.get("canMoveUp")&&i.createElement(eu,{"data-row-number":c,onClick:e.props.moveUp}),i.createElement(ei,null,c+1),t.get("canMoveDown")&&i.createElement(ec,{"data-row-number":c,onClick:e.props.moveDown})),g&&(l.get("link")?i.createElement(x.default,{url:l.get("link")},g):g),i.createElement(et,{iconWidth:n,style:{zoom:a}},p&&i.createElement(er,{onClick:e.props.onTextEdit,"data-row-number":c,"data-col-number":0,active:f===c&&0===d},i.createElement($,{scaleX:1,scaleY:1,entity:e.props.entity,design:e.props.design,location:{id:r,row:c,column:0,sheetIndex:o},color:p.get("color")})),v&&i.createElement(en,{onClick:e.props.onTextEdit,"data-row-number":c,"data-col-number":1,active:f===c&&1===d},i.createElement($,{scaleX:1,scaleY:1,entity:e.props.entity,design:e.props.design,location:{id:r,row:c,column:1,sheetIndex:o}}))),t.get("canDelete")&&i.createElement(ef,{onClick:e.props.deleteEntry,"data-row-number":c}))}))}}]),n}(i.PureComponent)},7168:(e,t,n)=>{n.r(t),n.d(t,{default:()=>x});var r=n(406);var o=n(413);var a=n.n(o);var i=n(374);var u=n(423);var c=n(4198);var l=n(1061);var s=n(4585);var f=n(422);function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function b(){var e=h(["\n    background-color: #3b3b3b;\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n\n    ","\n"]);return b=function(){return e},e}function y(){var e=h(["\n    flex-grow: 1;\n    position: relative;\n"]);return y=function(){return e},e}function m(){var e=h(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 30px;\n"]);return m=function(){return e},e}var _=u.default.div(b(),function(e){return e.theme.id===f.default.id&&"\n        background-color: ".concat(f.default.white,";\n    ")});var E=u.default.div(y());var O=u.default.div(m());var x=function(e){"use strict";var t;!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(o,e);var n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=v(o),n;if(t){var r=v(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);var a;return(a=n)&&("object"==(a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof a)?a:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this)});function o(){return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o),n.apply(this,arguments)}var a,u;return a=[{key:"render",value:function(){var e,t;return r.createElement(_,null,r.createElement(c.default,{title:i.default.t("app.chart_settings.element_text")}),r.createElement(E,null,r.createElement(O,null,r.createElement(l.default,{height:"100%"},r.createElement(s.default,(e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};var r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){p(e,t,n[t])})}return e}({},this.props),t=t={disableAccessibility:!0},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e))))))}}],d(o.prototype,a),u&&d(o,u),o}(r.PureComponent);p(x,"propTypes",{entity:a().any,design:a().any,template:a().string})},7167:(e,t,n)=>{n.r(t),n.d(t,{default:()=>q});var r=n(406);var o=n(423);var a=n(374);var i=n(552);var u=n(413);var c=n.n(u);var l=n(4687);var s=n(4198);var f=n(4663);var d=n(4315);var p=n(485);var v=n(4597);var g=n(4390);var h=n(1061);var b=n(2180);var y=n(732);var m=n(1972);var _=n(822);function E(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function k(){var e=S(["\n    width: 60px;\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    margin: auto;\n"]);return k=function(){return e},e}function P(){var e=S(["\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n"]);return P=function(){return e},e}function j(){var e=S(["\n    flex-grow: 1;\n    position: relative;\n"]);return j=function(){return e},e}function C(){var e=S(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 30px;\n"]);return C=function(){return e},e}function T(){var e=S(["\n    display: block;\n    position: relative;\n    margin: 10px;\n"]);return T=function(){return e},e}function I(){var e=S(["\n    font-size: 11px;\n    line-height: 26px;\n"]);return I=function(){return e},e}var z;var D=o.default.img(k());var A=o.default.div(P());var L=o.default.div(j());var M=o.default.div(C());var N=o.default.div(T());var B=o.default.div(I());var q=(z=function(e){"use strict";var t;(function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)})(o,e);var n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=w(o),n;if(t){var r=w(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);var a;return(a=n)&&("object"==(a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof a)?a:E(this)});function o(){var e;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o),e=n.apply(this,arguments),x(E(e),"onChangeOpacity",function(t){var n=e.props,r=n.sheetIndex,o=n.chartId,a=n.rowNumber,i=n.setProperty;var u=y.default.getEntity(o).chart;var c=u.get("data");c[r][a][2].opacity=t/100,u.set("data",c),i("opacity",t/100),(0,b.updateChart)(u)}),x(E(e),"onChangeLink",function(t){var n=e.props,r=n.sheetIndex,o=n.chartId,a=n.rowNumber,i=n.setProperty;var u=y.default.getEntity(o).chart;var c=u.get("data");c[r][a][2].link=t,u.set("data",c),i("link",t),(0,b.updateChart)(u)}),x(E(e),"onChangeTooltip",function(t){var n=t.target.value;var r=e.props,o=r.sheetIndex,a=r.chartId,i=r.rowNumber,u=r.setProperty;var c=y.default.getEntity(a).chart;var l=c.get("data");l[o][i][2].tooltip=n,c.set("data",l),u("tooltip",n),(0,b.updateChart)(c)}),x(E(e),"onChangeIcon",function(t){var n=e.props,r=n.sheetIndex,o=n.chartId,a=n.rowNumber,i=n.setIcon;var u=y.default.getEntity(o).chart;var c=u.get("data");c[r][a][2].name=t.value,u.set("data",c),i(t.value),(0,b.updateChart)(u)}),x(E(e),"onChangeColor",function(t){var n=e.props,r=n.sheetIndex,o=n.chartId,a=n.rowNumber,i=n.setProperty;var u=y.default.getEntity(o).chart;var c=u.get("data");c[r][a][2].color=t.displayValue,u.set("data",c),i("color",t.displayValue),(0,b.updateChart)(u)}),e}var i,u;return i=[{key:"render",value:function(){var e=this.props,t=e.path,n=e.transform,o=e.opacity,i=e.tooltip,u=e.link,c=e.color,b=e.fillRule;var y=r.createElement(D,{src:'data:image/svg+xml;utf8,\n                    <svg\n                        width="'.concat(32,'"\n                        height="').concat(32,'"\n                        version="1.1"\n                        xmlns="http://www.w3.org/2000/svg"\n                        viewBox="0 0 ').concat(32," ").concat(32,'"\n                    >\n                        <path d="').concat(t,'" fill="rgb(0,0,0)" transform="').concat(n,'" fill-rule="').concat(b||"evenodd",'"/>\n                    </svg>\n                '),alt:a.default.t("inspector.responsive.graphics.graphic_preview")});return r.createElement(A,null,r.createElement(s.default,{title:a.default.t("app.chart_settings.change_icon")}),r.createElement(L,null,r.createElement(M,null,r.createElement(h.default,{height:"100%"},r.createElement(l.default,{activeGraphicThumbnail:y,graphicType:"svg-icon",onChange:this.onChangeIcon}),r.createElement(f.default,null),r.createElement(N,null,r.createElement(B,null,a.default.t("inspector.free.entity.opacity")),r.createElement(d.default,{min:0,max:100,value:100*o,onChange:this.onChangeOpacity,formatDecimals:0,default:0})),r.createElement(f.default,null),r.createElement(N,null,r.createElement(g.default,{activeColor:c,onChange:this.onChangeColor,name:a.default.t("inspector.free.color_fill")})),r.createElement(f.default,null),r.createElement(N,null,r.createElement(p.default,{customInputCss:"\n                                        height: 30px;\n                                        font-size: 13px;\n                                    ",customLabelCss:"line-height: 26px;",name:name,label:a.default.t("inspector.responsive.graphics.tooltip"),value:i,onChange:this.onChangeTooltip,onBlur:this.onChangeTooltip})),r.createElement(v.default,{link:u,onChange:this.onChangeLink})))))}}],O(o.prototype,i),u&&O(o,u),o}(r.PureComponent),x(z,"propTypes",{path:c().string,transform:c().string,opacity:c().number,tooltip:c().string,link:c().string,color:c().string,chart:c().object,sheetIndex:c().number,rowNumber:c().number,setIcon:c().func.isRequired,setProperty:c().func.isRequired,chartId:c().any,fillRule:c().string.isRequired}),z);q=function(e,t,n,r){var o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r,i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([(0,i.connect)(function(e){var t=e.get("chartEditor");return{path:t.path,transform:t.transform,opacity:t.opacity,tooltip:t.tooltip,link:t.link,color:t.color,chart:t.chart,sheetIndex:t.sheetIndex,rowNumber:t.rowStart,chartId:m.default.chartId}},function(e){return{setProperty:function(t,n){e({type:_.FACTS_AND_FIGURES_SET_ICON_PROPERTY,payload:{name:t,value:n}})},setIcon:function(t){e({type:_.FACTS_AND_FIGURES_SET_ICON,payload:{icon:t}})}}})],q)},7090:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var r=n(374);var o=n(406);var a=n(7091);var i=n.n(a);function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){"use strict";var t;!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(a,e);var n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=c(a),n;if(t){var r=c(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);var o;return(o=n)&&("object"==(o&&"undefined"!=typeof Symbol&&o.constructor===Symbol?"symbol":typeof o)||"function"==typeof o)?o:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this)});function a(){return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a),n.apply(this,arguments)}var s;return u(a.prototype,[{key:"showUpgradeDialog",value:function(){window.app.router.saveLocation(),window.app.router.navigate("//upgrade/flex_pages",{promote:{from:"flex_pages"}})}},{key:"render",value:function(){return o.createElement("div",{className:i().button,onClick:this.showUpgradeDialog},r.default.t("inspector.free.unlock_more_pages"))}}]),s&&u(a,s),a}(o.PureComponent)},7186:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});var r=n(1204);var o=n(434);function a(){o.default.dispatch({type:r.START_MOVING})}},7184:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});var r=n(1204);var o=n(434);function a(){o.default.dispatch({type:r.START_NAVIGATING})}},7137:(e,t,n)=>{function r(e,t,n){var r=!0,o=!1,a=void 0;try{for(var i=t[Symbol.iterator](),u;!(r=(u=i.next()).done);r=!0){var c=u.value;e=e.setEntity(c,{hidden:n})}}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return e}n.r(t),n.d(t,{setVisibility:()=>r})},7076:(e,t,n)=>{n.r(t),n.d(t,{default:()=>P});var r=n(413);var o=n.n(r);var a=n(406);var i=n(454);var u=n.n(i);var c=n(440);var l=n(423);var s=n(1205);var f=n(1203);var d=n(7077);var p=n(4705);var v=n(1196);var g=n(422);var h=n(7078);var b=n.n(h);var y=n(7080);var m=n.n(y);function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(){var e,t;var n=(e=["\n    border: 1px solid #3195cb;\n    position: absolute;\n    top: 30px;\n    right: 30px;\n    bottom: 30px;\n    left: 30px;\n    cursor: move;\n\n    ","\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return x=function(){return n},n}n(7081);var w=l.default.div(x(),function(e){return e.theme.id===g.default.id&&"\n        border-color: ".concat(g.default.blue500,";\n    ")});var R=function(e){"use strict";var t;!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(r,e);var n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=E(r),n;if(t){var o=E(this).constructor;n=Reflect.construct(e,arguments,o)}else n=e.apply(this,arguments);var a;return(a=n)&&("object"==(a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof a)?a:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this)});function r(e){var t;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),(t=n.call(this,e))._refs={},t._handlers={rotate:t._assignHandler("rotate"),resize:t._assignHandler("resize")},t}var o,i;return o=[{key:"_assignHandler",value:function(e){var t=this;return function(n){n?v.default.addHandler(n,e,t.props.handlerKey):t._refs[e]&&v.default.removeHandler(t._refs[e],e,t.props.handlerKey),t._refs[e]=n}}},{key:"render",value:function(){var e=this.state,t=e.isRotating,n=e.isResizing,r=e.isDragging,o=e.boundingBox;if(!o)return null;var i={transform:"rotate(".concat(o.rotation||0,"deg)"),top:o.top*this.props.scaleY,left:o.left*this.props.scaleX,width:o.width*this.props.scaleX,height:o.height*this.props.scaleY,position:"absolute",pointerEvents:"none",zIndex:2,opacity:r?.5:1};return a.createElement("div",{style:i},a.createElement("div",{className:u()(b().selector)},a.createElement(w,null),!this.props.commenting&&a.createElement(a.Fragment,null,(t||!n)&&a.createElement("img",{ref:this._handlers.rotate,className:b().rotationIcon,src:m()}),!t&&!r&&a.createElement(a.Fragment,null,a.createElement(d.default,{width:i.width,height:i.height,handlers:this._handlers,rotation:o.rotation,resizing:n,mode:p.OVERLAY_MODES.RECTANGLE})))))}}],i=[{key:"getStores",value:function(){return[s.default,f.default]}},{key:"calculateState",value:function(e,t){var n=f.default.activeHandle;var r=s.default.boundingBox;return r&&["top","left","width","height"].some(function(e){return!isFinite(r[e])})&&(r=null),{isRotating:n&&"rotate"===n.get("type")&&n.get("key")===t.handlerKey,isResizing:f.default.resizing,isDragging:f.default.dragging,boundingBox:r}}}],o&&_(r.prototype,o),i&&_(r,i),r}(a.Component);var S,k;S="propTypes",k={scaleX:o().number.isRequired,scaleY:o().number.isRequired,handlerKey:o().string.isRequired,commenting:o().bool},S in R?Object.defineProperty(R,S,{value:k,enumerable:!0,configurable:!0,writable:!0}):R[S]=k;let P=c.Container.create(R,{withProps:!0})},7181:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});var r=n(406);function o(){var e,t;var n=(e=["\n    position: absolute;\n    top: -2px;\n    left: -2px;\n    bottom: -2px;\n    right: -2px;\n    pointer-events: none;\n    border: 2px dotted #ff00ff;\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return o=function(){return n},n}var a=n(423).default.div(o());function i(){return r.createElement(a,null)}},7097:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r.default});var r=n(7098)},7083:(e,t,n)=>{n.r(t),n.d(t,{default:()=>B});var r=n(374);var o=n(406);var a=n(413);var i=n.n(a);var u=n(552);var c=n(454);var l=n.n(c);var s=n(423);var f=n(4076);var d=n(4332);var p=n(2158);var v=n(731);var g=n(2587);var h=n(1205);var b=n(2161);var y=n(460);var m=n(1202);var _=n(2590);var E=n(4334);var O=n(4313);var x=n(1968);var w=n(2162);var R=n(2588);var S=n.n(R);var k=n(2160);function P(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function D(){var e=z(["\n    display: none;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    padding: 0 25px;\n    z-index: 1;\n"]);return D=function(){return e},e}function A(){var e=z(["\n    &:hover {\n        "," {\n            display: inline-block;\n        }\n    }\n"]);return A=function(){return e},e}var L;var M=(0,s.default)(y.default)(D());var N=s.default.div(A(),M);var B=(L=function(e){"use strict";var t;(function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)})(a,e);var n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=T(a),n;if(t){var r=T(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);var o;return(o=n)&&("object"==(o&&"undefined"!=typeof Symbol&&o.constructor===Symbol?"symbol":typeof o)||"function"==typeof o)?o:P(this)});function a(){var e;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a),e=n.apply(this,arguments),C(P(e),"renderBlock",function(t){switch(e.state.layout[t]){case"logo":return e.renderLogo();case"text":return e.renderText()}return null}),C(P(e),"onClick",function(){if(e.state.showUpgradeLink)return window.app.router.navigate("//upgrade/embed_button",{promote:{from:"embed_button"}});(0,x.popInspectorPanel)(),e.makeFooterSelection(),(0,d.changeFreeLayoutSettingsTab)(1),(0,E.setActiveSection)(O.PROJECT_SETTINGS_FOOTER_SECTION)}),C(P(e),"makeFooterSelection",function(){var e=h.default.currentSelection.clear();(0,f.updateSelectionState)(e),(0,p.selectFooter)()}),e}var i,u;return i=[{key:"render",value:function(){if(this.state.disabled)return null;var e=this.state,t=e.containerStyle,n=e.showUpgradeLink,a=e.selected;var i=o.createElement(M,{blue:!0,className:S().button,small:!0},r.default.t("app.infographic.edit_footer"));var u;return n&&(i=o.createElement(M,{green:!0,className:S().button,small:!0},r.default.t("app.infographic.upgrade_to_customize"))),o.createElement(N,{className:l()(S().container,S().selectable,(C(u={},S().selected,a),C(u,S().upgradable,n),C(u,S().disabled,!this.props.mouseEventsEnabled),u)),onClick:this.onClick,style:t},o.createElement("div",{className:S().innerContainer},o.createElement("div",{style:this.state.blockStyle,className:S().left},this.renderBlock("left")),o.createElement("div",{style:this.state.centerBlockStyle,className:S().center},this.renderBlock("center")),o.createElement("div",{style:this.state.blockStyle,className:S().right},this.renderBlock("right"))),i)}},{key:"renderLogo",value:function(){var e=this.props,t=e.logoType,n=e.logoImage;return"custom_logo-infogram"===t||"custom_logo-custom"===t?o.createElement("div",{className:S().logo},o.createElement(b.default,{background:this.props.logoColor,text:!n&&r.default.t("app.infographic.made_with")||"",url:n,link:this.props.logoLink,logoName:this.props.logoName,width:"custom_logo-infogram"===t?this.props.logoWidth:void 0,height:"custom_logo-infogram"===t?this.props.logoHeight:void 0})):null}},{key:"renderText",value:function(){var e=this.state,t=e.textStyle,n=e.buttonStyle,r=e.text;switch(this.props.footnoteType){case"shareButton":return o.createElement(w.default,{style:n,fullWidth:this.state.fullWidthButton,onButtonClick:this.onClick,text:this.props.buttonText});case"text":if(this.props.customLink)return o.createElement("a",{style:t,href:this.props.customLink,target:"_blank",rel:"nofollow noopener noreferrer"},r);return o.createElement("div",{style:t},r);case"autoPagination":return o.createElement("div",{style:t},r)}}}],u=[{key:"getStores",value:function(){return[g.default]}},{key:"calculateState",value:function(e,t){var n=v.default.editorState,r=v.default.isWhiteLabel;var o=n&&n.getDesign()||{};if(!t.showFooter&&r)return{disabled:!0};var a=(0,_.calculateFooterStyles)(t,o),i=a.containerStyle,u=a.blockStyle,c=a.centerBlockStyle,l=a.textStyle,s=a.buttonStyle,f=a.text;return{buttonStyle:s,containerStyle:i,disabled:!1,layout:a.layout,selected:g.default.selected,showUpgradeLink:!r,text:f,textStyle:l,blockStyle:u,centerBlockStyle:c,fullWidthButton:t.width>k.FULL_WIDTH_BUTTON_LIMIT}}}],i&&j(a.prototype,i),u&&j(a,u),a}(o.Component),C(L,"propTypes",{mouseEventsEnabled:i().bool,backgroundColor:i().string,backgroundOpacity:i().number,bold:i().bool,buttonBackgroundColor:i().string,buttonText:i().string,buttonTextColor:i().string,customLink:i().string,flex:i().bool,fontSize:i().number,footerLayout:i().string,footnoteText:i().string,footnoteType:i().string,italic:i().bool,logoColor:i().string,logoType:i().string,logoImage:i().string,logoLink:i().string,logoName:i().string,pageNumber:i().number,pageCount:i().number,paginationFormat:i().string,paginationStartWith:i().number,showFooter:i().bool,textColor:i().string,logoWidth:i().number,logoHeight:i().number}),C(L,"defaultProps",{mouseEventsEnabled:!0}),L);B=function(e,t,n,r){var o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r,i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([(0,u.connect)(function(e){return(0,_.getFooterSettings)(e.get("footerSettings"))}),(0,m.default)({withProps:!0})],B)},7225:(e,t,n)=>{n.r(t),n.d(t,{loadTemplate:()=>c});var r=n(434);var o=n(5182);var a=n(743);var i=n(843);function u(e,t,n,r,o,a,i){try{var u=e[a](i);var c=u.value}catch(e){n(e);return}u.done?t(c):Promise.resolve(c).then(r,o)}function c(e){return l.apply(this,arguments)}function l(){var e;return e=function(e){var t,n,u,c,l;return function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}(this,function(s){switch(s.label){case 0:if(!e)return r.default.dispatch({type:o.FLEX_TEMPLATE_LOADED,data:{pages:[],assets:{}}}),window.loadingLog&&window.loadingLog.push("no templateId FLEX_TEMPLATE_LOADED"),[2];r.default.dispatch({type:o.FLEX_TEMPLATE_LOADING}),s.label=1;case 1:return s.trys.push([1,6,,7]),[4,fetch("/api/flex/template/".concat(e),{credentials:"same-origin"})];case 2:if(t=s.sent(),window.loadingLog&&window.loadingLog.push("template fetched"),t.ok)return[3,4];return n=Error.bind,[4,t.text()];case 3:throw new(n.apply(Error,[void 0,s.sent()]));case 4:return[4,t.json()];case 5:return c=(u=s.sent()).pages.map(function(e){return a.default.createFromJSONObject(e.key,e)}),window.loadingLog&&window.loadingLog.push("data parsed and FLEX_TEMPLATE_LOADED"),r.default.dispatch({type:o.FLEX_TEMPLATE_LOADED,data:{pages:c,assets:u.assets}}),[3,7];case 6:return l=s.sent(),r.default.dispatch({type:o.FLEX_TEMPLATE_LOADING_ERROR}),(0,i.logError)("Flex template loading error",l),[3,7];case 7:return[2]}})},(l=function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){u(a,r,o,i,c,"next",e)}function c(e){u(a,r,o,i,c,"throw",e)}i(void 0)})}).apply(this,arguments)}},7105:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r.default});var r=n(7106)},7222:(e,t,n)=>{n.r(t),n.d(t,{default:()=>_});var r=n(374);var o=n(406);var a=n(413);var i=n.n(a);var u=n(875);var c=n.n(u);var l=n(552);var s=n(7223);var f=n.n(s);var d=n(2695);function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h;var b,y,m;var _=(b=h=function(e){"use strict";var t;(function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)})(a,e);var n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=v(a),n;if(t){var r=v(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);var o;return(o=n)&&("object"==(o&&"undefined"!=typeof Symbol&&o.constructor===Symbol?"symbol":typeof o)||"function"==typeof o)?o:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this)});function a(){return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a),n.apply(this,arguments)}var i,u;return i=[{key:"render",value:function(){var e=this.props,t=e.block,n=e.children,a=e.content,i=e.totalPages;var u=a.getBlockIndex(t.getKey())+1;return o.createElement("div",{className:f().blockContainer},o.createElement("div",{className:f().pageIndicatorText},r.default.t("app.freelayout_editor.page_n_of_m",{current:u,total:i})),o.createElement(d.default,{block:this.props.block,assets:this.props.assets,width:this.props.width,height:this.props.height,observer:this.props.observer},n))}}],p(a.prototype,i),u&&p(a,u),a}(o.PureComponent),y="propTypes",m={content:i().object.isRequired,children:i().node.isRequired,block:c().record.isRequired,assets:i().shape({getURL:i().func.isRequired}),totalPages:i().number.isRequired,width:i().number.isRequired,height:i().number.isRequired,observer:i().shape({observe:i().func.isRequired,unobserve:i().func.isRequired}).isRequired},y in b?Object.defineProperty(b,y,{value:m,enumerable:!0,configurable:!0,writable:!0}):b[y]=m,h);_=function(e,t,n,r){var o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r,i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([(0,l.connect)(function(e){var t=e.getIn(["revisions","editorState"]).getCurrentContent();return{content:t,totalPages:t.getBlocks().size}})],_)},7221:(e,t,n)=>{n.r(t),n.d(t,{default:()=>P});var r=n(406);var o=n(409);var a=n(413);var i=n.n(a);var u=n(454);var c=n.n(u);var l=n(552);var s=n(1063);var f=n(728);var d=n(2385);var p=n(7222);var v=n(2487);var g=n(2586);var h=n(2112);var b=n(7223);var y=n.n(b);var m=n(2373);var _=n(2703);function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}var S;var k=function(e,t,n,r){return n.renderItemContentsFn||(n.renderItemContentsFn=v.default),n.readOnly=!0,n.design=t,(0,v.default)(e,t,n,r)};var P=(S=function(e){"use strict";var t;(function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)})(a,e);var n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=x(a),n;if(t){var r=x(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);var o;return(o=n)&&("object"==(o&&"undefined"!=typeof Symbol&&o.constructor===Symbol?"symbol":typeof o)||"function"==typeof o)?o:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a),(t=n.call(this,e)).contents=r.createRef(),t}var i,u;return i=[{key:"componentDidMount",value:function(){!this.scroller&&this.contents.current&&(this.scroller=new s.default(this.contents.current)),this.props.requestLiveDataRefresh()}},{key:"componentWillUnmount",value:function(){this.scroller&&this.scroller.destroy()}},{key:"render",value:function(){var e;var t=this.props,n=t.editorState,a=t.zoom,i=t.userHasAccess;return r.createElement("div",{className:c()(y().contents,O({},y().contentsPaywall,!i)),ref:this.contents},r.createElement(d.default,{editorState:n,renderItemContentsFn:k,blockWrapperComponent:p.default,scaleX:a,scaleY:a,readOnly:!0,scroll:this.scroller,blockOverlayComponent:g.default}),o.createPortal(r.createElement(h.default,{style:(0,_.getTooltipStyle)(null===(e=f.default)||void 0===e?void 0:e.model.get("theme"))}),document.getElementById("tooltip-container")))}}],E(a.prototype,i),u&&E(a,u),a}(r.PureComponent),O(S,"propTypes",{userHasAccess:i().bool.isRequired,editorState:i().object,zoom:i().number,requestLiveDataRefresh:i().func.isRequired}),S);P=function(e,t,n,r){var o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r,i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([(0,l.connect)(function(e){return{editorState:e.getIn(["revisions","editorState"]),zoom:e.getIn(["editorZoom","zoom"])}},function(e){return{requestLiveDataRefresh:function(){e({type:m.LOAD_LIVE_DATA_ONCE})}}}),R("design:type",Function),R("design:paramtypes",[void 0])],P)},7215:(e,t,n)=>{n.r(t),n.d(t,{default:()=>P});var r=n(374);var o=n(406);var a=n(413);var i=n.n(a);var u=n(552);var c=n(703);var l=n.n(c);var s=n(454);var f=n.n(s);var d=n(1211);var p=n(1061);var v=n(478);var g=n(7216);var h=n.n(g);var b=n(838);function y(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t,n){return t&&_(e.prototype,t),n&&_(e,n),e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n=x(e),r;if(t){var o=x(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);var a;return(a=r)&&("object"==(a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof a)?a:y(this)}}var k;var P=(O(k=function(e){"use strict";w(n,e);var t=S(n);function n(){return m(this,n),t.apply(this,arguments)}return E(n,[{key:"render",value:function(){var e=this.props,t=e.loading,n=e.revisions,r=e.selectedIndex,a=e.previewRevision;return t?o.createElement(d.default,{customCss:"margin-top: 50px;"}):o.createElement(p.default,{height:"100%"},o.createElement("ul",{className:h().list},n.map(function(e,t){return o.createElement(j,{key:t,idx:t,revision:e,selected:r===t,previewFunc:a})})))}}]),n}(o.PureComponent),"propTypes",{previewRevision:i().func.isRequired,loading:i().bool.isRequired,revisions:i().any.isRequired,selectedIndex:i().number.isRequired}),k);P=function(e,t,n,r){var o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r,i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([(0,u.connect)(function(e){return{loading:e.getIn(["revisions","loading"]),revisions:e.getIn(["revisions","revisions"]).filter(function(e){return!e.get("hidden")}),selectedIndex:e.getIn(["revisions","selectedIndex"])}},function(e){return{previewRevision:function(t){e({type:b.REVISION_PREVIEW,revisionIndex:t})}}})],P);var j=function(e){"use strict";w(n,e);var t=S(n);function n(e){var r;return m(this,n),(r=t.call(this,e)).previewRevision=r.previewRevision.bind(y(r)),r}return E(n,[{key:"previewRevision",value:function(){this.props.previewFunc(this.props.idx)}},{key:"render",value:function(){var e=this.props,t=e.idx,n=e.revision,a=e.selected;var i=n.get("createdAt");var u=n.get("userName");var c=n.get("userAvatar");var s;return s=0===t?r.default.t("app.revisions.current_version"):l().unix(i).format("YYYY-MM-DD, H:mm"),o.createElement("li",{className:f()(h().item,O({},h().selected,a)),onClick:this.previewRevision},o.createElement("div",null,o.createElement("div",null,s),o.createElement("div",{className:h().author},o.createElement(v.default,{avatarClass:h().avatar,avatarImage:c,fullName:u}),o.createElement("div",{className:h().name},u))))}}]),n}(o.PureComponent);O(j,"propTypes",{idx:i().number.isRequired,revision:i().object.isRequired,selected:i().bool.isRequired,previewFunc:i().func.isRequired})},7214:(e,t,n)=>{n.r(t),n.d(t,{default:()=>T});var r=n(374);var o=n(406);var a=n(413);var i=n.n(a);var u=n(552);var c=n(501);var l=n(1250);var s=n(4167);var f=n(3188);var d=n(2716);var p=n(460);var v=n(7215);var g=n(7218);var h=n(7221);var b=n(434);var y=n(497);var m=n(838);var _=n(438);var E=n(730);var O=n(7223);var x=n.n(O);function w(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}var C;var T=(C=function(e){"use strict";var t;(function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)})(a,e);var n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=k(a),n;if(t){var r=k(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);var o;return(o=n)&&("object"==(o&&"undefined"!=typeof Symbol&&o.constructor===Symbol?"symbol":typeof o)||"function"==typeof o)?o:w(this)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a),S(w(t=n.call(this,e)),"triggerUpgrade",function(){(0,c.logStartUpgradeWebJs)({upgrade_trigger:l.upgrade_trigger.REVISIONS}),window.app.router.navigate("settings/plans",{trigger:!0}),t.props.hideRevisions()}),t.restoreRevision=t.restoreRevision.bind(w(t)),t}var i,u;return i=[{key:"restoreRevision",value:function(){b.default.dispatch({type:E.APPLY_REVISION,editorState:this.props.editorState}),b.default.dispatch({type:_.RECEIVE_EXTRA_DATA,payload:this.props.extraData}),this.props.hideRevisions()}},{key:"componentDidMount",value:function(){this.props.userHasAccess||this.props.logPaywallHit()}},{key:"render",value:function(){var e=this.props,t=e.hideRevisions,n=e.editorState,a=e.selectedIndex,i=e.userHasAccess,u=e.loading;var c;var l;return a&&n&&(c=o.createElement(p.default,{useButtonTag:!0,className:x().toolbarRestoreButton,onClick:this.restoreRevision},r.default.t("app.revisions.restore_version"))),i||(l=o.createElement("div",null,o.createElement("div",{className:x().paywallBackground}),o.createElement("div",{className:x().paywallContent},o.createElement("img",{className:x().paywallImage,src:"/i/revisions/paywall_icon.png"}),o.createElement("h3",{className:x().paywallTitle},r.default.t("popup.upgrade_promo.revisions_title")),o.createElement("p",{className:x().paywallText,dangerouslySetInnerHTML:{__html:r.default.t("popup.upgrade_promo.revisions_text")}}),o.createElement(p.default,{blue:!0,className:x().paywallButton,onClick:this.triggerUpgrade},r.default.t("popup.upgrade_promo.revisions_upgrade"))))),o.createElement("div",{className:x().root},o.createElement(f.default,{fixed:!0},o.createElement(f.ToolbarGroup,null,o.createElement(d.default,{onClick:t}),o.createElement(g.default,null)),o.createElement(f.ToolbarGroup,null,c)),o.createElement(s.default,{showChat:!1,side:"right"},o.createElement("p",{className:x().panelTitle},r.default.t("app.revisions.version_history")),o.createElement(v.default,null)),u||o.createElement(h.default,{userHasAccess:i}),l)}}],R(a.prototype,i),u&&R(a,u),a}(o.PureComponent),S(C,"propTypes",{hideRevisions:i().func.isRequired,logPaywallHit:i().func.isRequired,selectedIndex:i().number.isRequired,editorState:i().object,extraData:i().object,userHasAccess:i().bool.isRequired,loading:i().bool.isRequired}),C);T=function(e,t,n,r){var o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r,i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([(0,u.connect)(function(e){var t=e.getIn(["revisions","extraData"]);return{selectedIndex:e.getIn(["revisions","selectedIndex"]),editorState:e.getIn(["revisions","editorState"]),loading:e.getIn(["revisions","loading"]),extraData:t?t.toJS():{},userHasAccess:y.default.canAccessRevisions}},function(e){return{hideRevisions:function(){e({type:m.REVISIONS_HIDE})},logPaywallHit:function(){e({type:m.REVISIONS_PAYWALL_HIT})}}}),j("design:type",Function),j("design:paramtypes",[void 0])],T)},7218:(e,t,n)=>{n.r(t),n.d(t,{default:()=>O});var r=n(374);var o=n(406);var a=n(413);var i=n.n(a);var u=n(552);var c=n(703);var l=n.n(c);var s=n(454);var f=n.n(s);var d=n(478);var p=n(7219);var v=n.n(p);function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y;var m,_,E;var O=(m=y=function(e){"use strict";var t;(function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)})(a,e);var n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=h(a),n;if(t){var r=h(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);var o;return(o=n)&&("object"==(o&&"undefined"!=typeof Symbol&&o.constructor===Symbol?"symbol":typeof o)||"function"==typeof o)?o:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this)});function a(){return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a),n.apply(this,arguments)}var i,u;return i=[{key:"render",value:function(){var e;return e=this.props.selectedIndex?o.createElement("div",{className:v().version},o.createElement("div",{className:v().date},this.props.date),o.createElement(d.default,{avatarClass:v().avatar,avatarImage:this.props.avatar,fullName:this.props.name}),o.createElement("div",{className:v().name},this.props.name)):o.createElement("div",{className:v().version},r.default.t("app.revisions.current_version")),o.createElement("div",{className:v().title},o.createElement("div",{className:f()("icon-history",v().icon)}),o.createElement("div",{className:v().label},r.default.t("app.revisions.version_history_label")),e)}}],g(a.prototype,i),u&&g(a,u),a}(o.PureComponent),_="propTypes",E={selectedIndex:i().number.isRequired,date:i().string,avatar:i().string,name:i().string},_ in m?Object.defineProperty(m,_,{value:E,enumerable:!0,configurable:!0,writable:!0}):m[_]=E,y);O=function(e,t,n,r){var o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r,i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([(0,u.connect)(function(e){var t=e.getIn(["revisions","selectedIndex"]);var n=e.getIn(["revisions","revisions"]);var r={selectedIndex:t};if(t&&n.size){var o=n.filter(function(e){return!e.get("hidden")}).get(t);o&&(r.name=o.get("userName"),r.avatar=o.get("userAvatar"),r.date=l().unix(o.get("createdAt")).format("YYYY-MM-DD, H:mm"))}return r})],O)},7213:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r.default});var r=n(7214)},7096:(e,t,n)=>{n.r(t),n.d(t,{default:()=>A});var r=n(374);var o=n(406);var a=n(1165);var i=n.n(a);var u=n(413);var c=n.n(u);var l=n(552);var s=n(423);var f=n(731);var d=n(728);var p=n(7097);var v=n(7105);var g=n(7115);var h=n(7125);var b=n(1202);var y=n(840);var m=n(422);function _(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function S(){var e=R(["\n    cursor: default;\n    user-select: none;\n    font-size: 12px;\n    font-weight: 500;\n    padding: 18px 0;\n    background: #2b2b2b;\n    z-index: 2;\n    position: relative;\n\n    ","\n"]);return S=function(){return e},e}function k(){var e=R(["\n    z-index: -2; /*to hide shadow under minimap*/\n    position: absolute;\n    left: -260px;\n    transition: left 0.25s;\n    bottom: 0px;\n    background: #2b2b2b;\n    width: 180px;\n    padding: 9px 6px 11px 0;\n    box-shadow: 0px 10px 40px rgba(0, 0, 0, 0.5);\n\n    ","\n"]);return k=function(){return e},e}function P(){var e=R(["\n    display: inline-block;\n    background: #3c3c3c;\n    width: 2px;\n    border-radius: 1px;\n    display: inline-flex;\n    margin-left: 10px;\n    margin-right: 10px;\n    vertical-align: middle;\n    height: 30px;\n\n    ","\n"]);return P=function(){return e},e}function j(){var e=R(["\n    cursor: pointer;\n    color: #fff;\n    font-size: 14px;\n    padding: 7px 5px;\n    display: inline-flex;\n    vertical-align: middle;\n    text-align: center;\n\n    &:hover {\n        text-decoration: none;\n        color: #646464;\n        background: ",";\n        border-radius: 4px;\n    }\n\n    ","\n"]);return j=function(){return e},e}var C;var T=s.default.div(S(),function(e){return e.theme.id===m.default.id?"\n        background: ".concat(m.default.neutral400,";\n    "):""});var I=s.default.div(k(),function(e){return e.theme.id===m.default.id?"\n        background: ".concat(m.default.neutral400,";\n        bottom: -2px;\n    "):""});var z=s.default.div(P(),function(e){return e.theme.id===m.default.id?"\n        background: #FFFFFF;\n    ":""});var D=s.default.a(j(),function(e){return e.theme.id===m.default.id?m.default.neutral300:"#656565;"},function(e){return e.disabled&&"\n        opacity: 0.4;\n        pointer-events: none;\n    "});var A=(C=function(e){"use strict";var t;(function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)})(u,e);var a=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=x(u),n;if(t){var r=x(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);var o;return(o=n)&&("object"==(o&&"undefined"!=typeof Symbol&&o.constructor===Symbol?"symbol":typeof o)||"function"==typeof o)?o:_(this)});function u(){var e;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,u),e=a.apply(this,arguments),O(_(e),"state",{showGridPopup:!1,showLayoutPopup:!1,showLayerMap:!1,advancedSettingsPosition:{left:-200}}),O(_(e),"_zoomIn",function(){e.props.toSingleView({subAction:"zoom",value:1})}),O(_(e),"_zoomOut",function(){e.props.toSingleView({subAction:"zoom",value:-1})}),O(_(e),"_zoomReset",function(){e.props.toSingleView({subAction:"scale",value:1})}),O(_(e),"_onZoomHover",function(){e.setState({advancedSettingsPosition:{left:48}})}),O(_(e),"_onZoomHoverEnd",function(){e.setState({advancedSettingsPosition:{left:-260}})}),O(_(e),"_fillWidth",function(){e.props.toSingleView({subAction:"fullWidth"})}),O(_(e),"_toggleFullScreen",function(){i().enabled&&i().toggle(),e._fillWidth()}),O(_(e),"_toggleGridPopup",function(){e.setState({showGridPopup:!e.state.showGridPopup,showLayoutPopup:!1})}),O(_(e),"_toggleLayoutPopup",function(){e.setState({showGridPopup:!1,showLayoutPopup:!e.state.showLayoutPopup})}),O(_(e),"_toggleLayoutPopup",function(){e.setState({showLayoutPopup:!e.state.showLayoutPopup})}),O(_(e),"_toggleLayerMap",function(){e.setState({showLayerMap:!e.state.showLayerMap})}),e}var c,l;return c=[{key:"render",value:function(){return o.createElement("div",null,o.createElement(o.Fragment,null,o.createElement(g.default,{title:r.default.t("app.freelayout_editor.layerMap.buttonTitle"),tooltipText:r.default.t("app.freelayout_editor.layerMap.tooltip"),toggle:this._toggleLayerMap,open:this.state.showLayerMap,icon:"layers",iconSize:"15px 15px",iconPosition:"center 10px"},o.createElement(h.default,null)),o.createElement(g.default,{title:r.default.t("app.freelayout_editor.layout.buttonTitle"),tooltipText:r.default.t("app.freelayout_editor.layout.buttonTooltip_1"),toggle:this._toggleLayoutPopup,open:this.state.showLayoutPopup,icon:this.state.layoutIcon,iconSize:"24px 24px",iconPosition:"center 9px"},o.createElement(v.default,null)),o.createElement(g.default,{title:r.default.t("app.freelayout_editor.grid.buttonTitle"),tooltipText:r.default.t("app.freelayout_editor.grid.buttonTooltip"),toggle:this._toggleGridPopup,open:this.state.showGridPopup,icon:"grid"},o.createElement(p.default,null))),o.createElement("div",{onMouseEnter:this._onZoomHover,onMouseLeave:this._onZoomHoverEnd},o.createElement(T,{onDoubleClick:this._zoomReset,"data-tooltip":r.default.t("app.freelayout_editor.reset_zoom_double_click")},"".concat(Math.round(100*this.props.zoom),"%")),o.createElement(I,{style:this.state.advancedSettingsPosition},o.createElement(D,{onClick:this._zoomIn,"data-tooltip":r.default.t("app.freelayout_editor.zoom_in"),"data-tooltip-position":"top"},o.createElement("img",{src:n(7138)})),o.createElement(D,{onClick:this._zoomOut,"data-tooltip":r.default.t("app.freelayout_editor.zoom_out"),"data-tooltip-position":"top"},o.createElement("img",{src:n(7139)})),o.createElement(D,{onClick:this._fillWidth,"data-tooltip":r.default.t("app.freelayout_editor.fit_to_screen"),"data-tooltip-position":"top"},o.createElement("img",{src:n(7140)})),o.createElement(D,{disabled:this.state.thumbsViewDisabled,onClick:this.props.toThumbnailsView,"data-tooltip":r.default.t("app.freelayout_editor.thumbnails"),"data-tooltip-position":"top"},o.createElement("img",{src:n(7141)})),o.createElement(z,null),o.createElement(D,{onClick:this._toggleFullScreen,"data-tooltip":r.default.t("app.freelayout_editor.full_screen"),"data-tooltip-position":"top"},o.createElement("img",{src:n(7142)})))))}}],l=[{key:"getStores",value:function(){return[f.default,d.default]}},{key:"calculateState",value:function(e){var t,n;return t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};var r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){O(e,t,n[t])})}return e}({},e),n=n={thumbsViewDisabled:1===f.default.editorState.getCurrentContent().getBlocks().size,editorState:f.default.editorState,layoutIcon:f.default.editingDefaultLayout?"default":"mobile"},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t}}],c&&E(u.prototype,c),l&&E(u,l),u}(o.Component),O(C,"propTypes",{toThumbnailsView:c().func.isRequired,toSingleView:c().func.isRequired,zoom:c().number.isRequired,featureSwitches:c().object}),C);A=function(e,t,n,r){var o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r,i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([(0,l.connect)(function(e){var t=e.get("editorZoom");return{zoom:t.zoom*t.zoomChange}},function(e){return{toThumbnailsView:function(){e({type:y.ZOOM_SWITCH_TO_THUMBS_VIEW})},toSingleView:function(t){e({type:y.ZOOM_SWITCH_TO_SINGLE_VIEW,payload:t})}}},null,{areStatesEqual:function(e,t){return e.get("editorZoom")===t.get("editorZoom")},areStatePropsEqual:function(e,t){return e.zoom===t.zoom}}),(0,b.default)()],A)},7095:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r.default});var r=n(7096)},7116:(e,t,n)=>{function r(e){if(!e)return!1;if(document.contains)return document.contains(e);var t=e;for(;t;){if(t===document)return!0;t=t.parentNode}return!1}n.r(t),n.d(t,{documentContains:()=>r})}}]);