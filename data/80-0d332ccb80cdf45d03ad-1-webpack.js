(self.webpackChunkbackend=self.webpackChunkbackend||[]).push([[80],{7053:(e,t,n)=>{var r=n(649);(t=e.exports=n(482)(!1)).push([e.id,".IjHs9OWma8oy9-LvuSOUc {\n    position: absolute;\n    right: 14px;\n    top: 14px;\n    width: 20px;\n    height: 20px;\n    border-radius: 100%;\n    background-color: #C32F2F;\n    color: #FFF;\n}\n\n._2dPU4qVT7itx36u2l5xZoI {\n    display: block;\n    position: absolute;\n    top: -2px;\n    width: 20px;\n    height: 20px;\n    cursor: help;\n    background: url("+r(n(2712))+") center no-repeat;\n    background-size: 51%;\n}\n",""]),t.locals={container:"IjHs9OWma8oy9-LvuSOUc",icon:"_2dPU4qVT7itx36u2l5xZoI"}},7072:(e,t,n)=>{e.exports=n.p+"fc5dce66e80cd6a1e34ea10ae2556c68.jpg"},7052:(e,t,n)=>{var r=n(7053);var o;"string"==typeof r&&(r=[[e.id,r,""]]);var a={hmr:!0};a.transform=o,a.insertInto=void 0,n(483)(r,a),r.locals&&(e.exports=r.locals)},7070:(e,t,n)=>{n.r(t),n.d(t,{default:()=>w});var r=n(406);var o=n(552);var a=n(423);var u=n(374);var i=n(5988);var c=n(7063);var l=n(422);function f(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function h(){var e=b(["\n    box-sizing: content-box;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 5px 5px 5px 10px;\n    width: 135px;\n    height: 21px;\n    background: #272727;\n    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);\n    border-radius: 4px;\n    font-weight: 500;\n    font-size: 11px;\n    color: white;\n\n    ","\n"]);return h=function(){return e},e}function y(){var e=b(["\n    font-size: 11px;\n    margin: 0 10px 0 0;\n"]);return y=function(){return e},e}var g=a.default.div(h(),function(e){return e.theme.id===l.default.id&&"\n        background: ".concat(l.default.neutral50,";\n        color: ").concat(l.default.neutral600,";\n    ")});var m=a.default.label(y());var O=function(e){"use strict";var t;!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(o,e);var n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=p(o),n;if(t){var r=p(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);var a;return(a=n)&&("object"==(a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof a)?a:f(this)});function o(){var e;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o),e=n.apply(this,arguments),d(f(e),"onChange",function(t){e.props.onChange(e.props.pageId,t)}),e}var a,i;return a=[{key:"render",value:function(){var e=this.props,t=e.duration;return e.loading?null:r.createElement(g,null,r.createElement(m,null,u.default.t("app.download.duration_in_seconds")),r.createElement(c.default,{value:t,onChange:this.onChange}))}}],s(o.prototype,a),i&&s(o,i),o}(r.Component);let w=(0,o.connect)(function(e,t){var n=e.get("videoDownload"),r=n.durations,o=n.loading;return{duration:r.get(t.pageId),loading:o}},function(e){return{onChange:function(t,n){e({type:i.VIDEO_DOWNLOAD_SET_PAGE_DURATION,payload:{durations:d({},t,n)}})}}},null,{areStatesEqual:function(e,t){return e.get("videoDownload")===t.get("videoDownload")},areStatePropsEqual:function(e,t){return e.duration===t.duration&&e.loading===t.loading}})(O)},7071:(e,t,n)=>{n.r(t),n.d(t,{default:()=>x});var r=n(406);var o=n(374);var a=n(552);var u=n(423);var i=n(422);var c=n(685);var l=n(5988);function f(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function s(){var e=f(["\n            background-color: ",";\n        "]);return s=function(){return e},e}function d(){var e=f(["\n    position: relative;\n    display: flex;\n    align-items: center;\n    padding: 3px 5px;\n    border-radius: 4px;\n    background-color: #2d2d2d;\n\n    ","\n"]);return d=function(){return e},e}function p(){var e=f(["\n    display: inline-block;\n    margin: 0 2px 0 7px;\n"]);return p=function(){return e},e}function v(){var e=f(["\n            background-color: ",";\n        "]);return v=function(){return e},e}function b(){var e=f(["\n    position: absolute;\n    left: calc(50% - 1px);\n    top: -14px;\n    width: 2px;\n    height: 10px;\n    background-color: #656565;\n\n    ","\n"]);return b=function(){return e},e}function h(){var e=f(["\n            background-color: ",";\n        "]);return h=function(){return e},e}function y(){var e=f(["\n    position: absolute;\n    left: calc(50% - 1px);\n    bottom: -14px;\n    width: 2px;\n    height: 10px;\n    background-color: #656565;\n\n    ","\n"]);return y=function(){return e},e}var g=u.default.div(d(),function(e){return e.theme.id===i.default.id&&(0,u.css)(s(),i.default.neutral50)});var m=u.default.img.attrs(function(e){return{src:e.theme.id===i.default.id?n(7027):n(7028)}})(p());var O=u.default.div(b(),function(e){return e.theme.id===i.default.id&&(0,u.css)(v(),i.default.neutral200)});var w=u.default.div(y(),function(e){return e.theme.id===i.default.id&&(0,u.css)(h(),i.default.neutral200)});let x=function(e){var t=(0,a.useSelector)(function(e){return e.get("videoDownload")}),n=t.transition;var u=t.pageTransitions.get(e.pageId,!1);var i=(0,a.useDispatch)();return n&&"none"!==n&&"no-animation"!==n?r.createElement(g,null,r.createElement(O,null),r.createElement(c.default,{noWrap:!0,checked:u,onChange:function(){i({type:l.VIDEO_DOWNLOAD_SET_PAGE_TRANSITION,payload:{pageId:e.pageId,enabled:!u}})},type:"check",caption:o.default.t("app.download.show_page_transition")}),r.createElement(m,null),r.createElement(w,null)):null}},7048:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var r=n(434);var o=n(823);var a=n(731);var u=n(2432);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t,n,r,o,a,u){try{var i=e[a](u);var c=i.value}catch(e){n(e);return}i.done?t(c):Promise.resolve(c).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function u(e){c(a,r,o,u,i,"next",e)}function i(e){c(a,r,o,u,i,"throw",e)}u(void 0)})}}function f(e,t){var n,r,o,a,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=t.call(e,u)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}var s;var d=(s=l(function(){var e,t;return f(this,function(n){switch(n.label){case 0:var c;return e=a.default.editorState.getCurrentContent().getBlocks().reduce(function(e,t){var n=t.getKey();return t.getEntities().reduce(function(e,t){var r=a.default.editorState.getAssetURL(t.getProperty("assetId"));return"IMAGE"===t.getType()&&"icon"!==t.getProperty("subType")&&r&&e.push({pageId:n,url:r,width:t.getWidth(),height:t.getHeight()}),e},e)},[]),t=new Map,[4,Promise.all(e.map((c=l(function(e){var n,r,o,a,i,c,l;return f(this,function(f){switch(f.label){case 0:n=e.pageId,r=e.url,o=e.width,a=e.height,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,(0,u.default)(r)];case 2:if(i=f.sent(),t.has(n)&&t.get(n))return[2];return c=a/i.height,l=o/i.width,t.set(n,c>2||l>2),[3,4];case 3:return f.sent(),t.set(n,!1),[3,4];case 4:return[2]}})}),function(e){return c.apply(this,arguments)})))];case 1:return n.sent(),r.default.dispatch({type:o.default.UPDATE_PAGE_RESOLUTION_FLAGS,pages:Array.from(t).map(function(e){var t=function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r=[];var o=!0;var a=!1;var u,i;try{for(n=n.call(e);!(o=(u=n.next()).done)&&(r.push(u.value),!t||r.length!==t);o=!0);}catch(e){a=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(a)throw i}}return r}}(e,2)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();return{id:t[0],isLowResolution:t[1]}})}),[2]}})}),function(){return s.apply(this,arguments)});let p=d},7050:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});var r=n(434);var o=n(823);function a(){r.default.dispatch({type:o.default.TOGGLE_ALL_PAGE_SELECTION})}},7049:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});var r=n(434);var o=n(823);function a(e){r.default.dispatch({type:o.default.TOGGLE_PAGE_SELECTION,pageId:e})}},7045:(e,t,n)=>{n.r(t),n.d(t,{default:()=>W});var r=n(406);var o=n(552);var a=n(423);var u=n(413);var i=n.n(u);var c=n(728);var l=n(731);var f=n(7046);var s=n(2653);var d=n(6103);var p=n(6985);var v=n(7047);var b=n(2385);var h=n(2487);var y=n(1086);var g=n(6107);n(2593);var m=n(434);var O=n(823);var w=n(2376);var x=n(701);var P=n(7054);var k=n(2656);var _=n(1202);var E=n(6108);function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(){var e,t;var n=(e=["\n    padding-bottom: 50px;\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return I=function(){return n},n}var C;function A(){}var D=function(e,t,n,r){if(n.renderItemContentsFn||(n.renderItemContentsFn=D),n.readOnly=!0,n.design=t,n.renderThumbnail=(0,E.mediaTypeHasThumbnail)(e.getProperty("mediaType")),"CHART"===e.getType()){var o,a;return(0,h.default)(e,t,(o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};var r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){T(e,t,n[t])})}return e}({},n),a=a={viewMode:"download",onSheetClick:function(e,t){var n=e.sheetIndex;m.default.dispatch({type:O.default.CHANGE_CHART_TAB,entityKey:t,sheetIndex:n})},captureSheetIndex:k.default.all.get(e.getKey())},Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(a)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(a)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(a,e))}),o),r)}return(0,h.default)(e,t,n,r)};var z=a.default.div(I());var B=(T(C=function(e){"use strict";var t;(function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)})(o,e);var n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=R(o),n;if(t){var r=R(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);var a;return(a=n)&&("object"==(a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof a)?a:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this)});function o(){return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o),n.apply(this,arguments)}var a,u;return a=[{key:"componentDidMount",value:function(){document.addEventListener("scroll",y.onScroll),requestAnimationFrame(function(){return(0,y.onScroll)({target:document})})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("scroll",y.onScroll)}},{key:"render",value:function(){var e;var t;var n=this.state,o=n.editorState,a=n.zoom,u=n.transparentBackground;var i;return i=g.default,o&&a&&(e=r.createElement(b.default,{editorState:o,onChange:A,readOnly:!0,canDownload:!0,renderItemContentsFn:D,scaleX:a,scaleY:a,blockWrapperComponent:P.default,blockOverlayComponent:i,transparentBackground:u})),o&&o.getCurrentContent().getBlocks().size>1&&(t=r.createElement(v.default,null)),r.createElement(p.default,{leftSidebar:t,goBackToProject:this.props.goBackToProject},r.createElement(z,null,e))}}],u=[{key:"getStores",value:function(){return[c.default,l.default,f.default,d.default,s.default]}},{key:"calculateState",value:function(){return{editorState:l.default.editorState,infographicModel:c.default.model,zoom:f.default.zoom,transparentBackground:s.default.get("transparentBackground")&&w.TYPES_WITH_TRANSPARENCY.includes(d.default.activeTab)}}}],a&&j(o.prototype,a),u&&j(o,u),o}(r.Component),"propTypes",{hasWatermark:i().bool.isRequired,goBackToProject:i().func.isRequired}),C);B=function(e,t,n,r){var o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r,u;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(u=e[i])&&(a=(o<3?u(a):o>3?u(t,n,a):u(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([(0,o.connect)(function(e){return{hasWatermark:"none"!==e.getIn(["projectMetadata","logoType"])}},function(e){return{goBackToProject:function(){e({type:x.NAVIGATE_TO_PROJECT,payload:{projectId:c.default.infographicId}})}}},null,{areStatesEqual:function(e,t){return e.get("projectMetadata")===t.get("projectMetadata")},areStatePropsEqual:function(e,t){return e.hasWatermark===t.hasWatermark}}),(0,_.default)()],B);let W=B},7054:(e,t,n)=>{n.r(t),n.d(t,{default:()=>L});var r=n(374);var o=n(413);var a=n.n(o);var u=n(406);var i=n(875);var c=n.n(i);var l=n(423);var f=n(1202);var s=n(7055);var d=n(7069);var p=n(2655);var v=n(2653);var b=n(6103);var h=n(2376);var y=n(7070);var g=n(7071);var m=n(422);function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function k(){var e=P(["\n            top: -25px;\n        "]);return k=function(){return e},e}function _(){var e=P(["\n    position: absolute;\n    top: -22px;\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    z-index: 2;\n    pointer-events: auto;\n\n    ","\n"]);return _=function(){return e},e}function E(){var e=P(["\n    position: absolute;\n    top: 35px;\n    right: 10px;\n    z-index: 2;\n    pointer-events: auto;\n"]);return E=function(){return e},e}function j(){var e=P(["\n            display: none;\n        "]);return j=function(){return e},e}function T(){var e=P(["\n            ::before {\n                position: absolute;\n                content: '';\n                top: 25px;\n                left: 0;\n                right: 0;\n                bottom: 0;\n                background: transparent url(",") repeat;\n            }\n        "]);return T=function(){return e},e}function R(){var e=P(["\n    margin-top: 40px;\n    position: relative;\n\n    ","\n\n    ","\n"]);return R=function(){return e},e}var S;var I=[h.default.TYPE_VIDEO,h.default.TYPE_GIF];var C=[h.default.TYPE_VIDEO,h.default.TYPE_GIF];var A=n(7072);var D=l.default.div(_(),function(e){return e.theme.id===m.default.id&&(0,l.css)(k())});var z=l.default.div(E());var B=l.default.div(R(),function(e){return!e.visible&&(0,l.css)(j())},function(e){return e.transparentBackground&&(0,l.css)(T(),A)});var W,N,q;var L=(W=S=function(e){"use strict";var t;(function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)})(o,e);var n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=w(o),n;if(t){var r=w(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);var a;return(a=n)&&("object"==(a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof a)?a:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this)});function o(){return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o),n.apply(this,arguments)}var a,i;return a=[{key:"render",value:function(){return u.createElement(B,{visible:this.state.visible,transparentBackground:this.state.transparentBackground},this.state.withTransitionToggle&&u.createElement(D,null,u.createElement(g.default,{pageId:this.props.block.getKey()})),u.createElement(d.default,{blockKey:this.props.block.getKey(),pageIndex:this.props.index},r.default.t("download")),this.state.withDurationInput&&u.createElement(z,null,u.createElement(y.default,{pageId:this.props.block.getKey()})),u.createElement(s.default,{selected:!1,block:this.props.block,width:this.props.width,height:this.props.height,interactive:!1,observer:this.props.observer,assets:this.props.assets},this.props.children))}}],i=[{key:"getStores",value:function(){return[p.default,v.default,b.default]}},{key:"calculateState",value:function(e,t){var n=t.block.getKey();var r=p.default.pageIsVisible(n);var o=r&&p.default.firstVisiblePageId===n;return{visible:r,transparentBackground:v.default.get("transparentBackground")&&h.TYPES_WITH_TRANSPARENCY.includes(b.default.activeTab),withDurationInput:I.includes(b.default.activeTab),withTransitionToggle:C.includes(b.default.activeTab)&&!o&&r}}}],a&&O(o.prototype,a),i&&O(o,i),o}(u.Component),N="propTypes",q={selected:a().bool.isRequired,children:a().node.isRequired,block:c().record.isRequired,index:a().number.isRequired,width:a().number.isRequired,height:a().number.isRequired,observer:a().shape({observe:a().func.isRequired,unobserve:a().func.isRequired}).isRequired,assets:a().shape({getURL:a().func.isRequired})},N in W?Object.defineProperty(W,N,{value:q,enumerable:!0,configurable:!0,writable:!0}):W[N]=q,S);L=function(e,t,n,r){var o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r,u;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(u=e[i])&&(a=(o<3?u(a):o>3?u(t,n,a):u(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([(0,f.default)({withProps:!0})],L)},7051:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});var r=n(374);var o=n(406);var a=n(7052);var u=n.n(a);let i=function(){return o.createElement("div",{className:u().container},o.createElement("span",{className:u().icon,"data-tooltip":r.default.t("app.download.low_resolution"),"data-tooltip-position":"right"}))}},7047:(e,t,n)=>{n.r(t),n.d(t,{default:()=>W});var r=n(374);var o=n(406);var a=n(440);var u=n(423);var i=n(458);var c=n.n(i);var l=n(2655);var f=n(6103);var s=n(2376);var d=n(7048);var p=n(7049);var v=n(7050);var b=n(5164);var h=n(7038);var y=n(7051);var g=n(684);var m=n(1161);var O=n(1086);var w=n(2443);var x=n(422);function P(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function T(){var e=j(["\n    text-align: center;\n\n    ","\n"]);return T=function(){return e},e}function R(){var e=j(["\n    height: 112px;\n    position: relative;\n    padding: 9px 10px 9px 14px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    box-sizing: content-box;\n    border-bottom: 1px solid #4b4a4a;\n\n    ","\n\n    ","\n"]);return R=function(){return e},e}function S(){var e=j(["\n    position: absolute;\n    display: block;\n    text-align: center;\n    width: 40px;\n    left: 0px;\n    margin-top: 5px;\n    font-size: 13px;\n    font-weight: 500;\n    color: #fff;\n    pointer-events: none;\n\n    ","\n"]);return S=function(){return e},e}function I(){var e=j(["\n    border-radius: 6px;\n    border: 2px solid transparent;\n    overflow: hidden;\n    pointer-events: none;\n    transform: translate3d(0, 0, 0); /* for border-radius to work on other '3d' elements */\n\n    ",":hover & {\n        border: 2px solid #3195cb;\n\n        ","\n    }\n\n    ","\n\n    ","\n\n    ","\n"]);return I=function(){return e},e}var C=u.default.ul(T(),function(e){return e.theme.id===x.default.id&&"\n        /* TODO check with dragon.css maybe reset */\n        padding-inline-start: 0;\n        font-family: Raleway Prezi, Roboto, Arial;\n        font-size: 11px;\n        line-height: 1.5;\n        color: ".concat(x.default.neutral600,";\n    ")});var A=u.default.li(R(),function(e){var t=e.active,n=e.theme;return t&&"\n        background-color: #4b4a4a;\n\n        ".concat(n.id===x.default.id&&"\n            background-color: ".concat(x.default.neutral60,";\n        "),"\n    ")},function(e){return e.theme.id===x.default.id&&"\n        border-bottom: none;\n    "});var D=u.default.p(S(),function(e){return e.theme.id===x.default.id&&"\n        color: ".concat(x.default.neutral700,";\n    ")});var z=u.default.div(I(),A,function(e){return e.theme.id===x.default.id&&"\n            border: 2px solid ".concat(x.default.blue500,";\n        ")},function(e){return e.active&&"\n        border: 2px solid #3195cb;\n    "},function(e){return e.disabled&&"\n        opacity: .2;\n    "},function(e){return e.theme.id===x.default.id&&"\n        border: none;\n        box-shadow: 0px 5px 20px rgba(0, 0, 0, 0.1);\n    "});var B=function(e){"use strict";var t;!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(a,e);var n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=_(a),n;if(t){var r=_(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);var o;return(o=n)&&("object"==(o&&"undefined"!=typeof Symbol&&o.constructor===Symbol?"symbol":typeof o)||"function"==typeof o)?o:P(this)});function a(e){var t;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a),(t=n.call(this,e))._handlePageCheckboxChange=t._handlePageCheckboxChange.bind(P(t)),t._pageThumbnailClicked=t._pageThumbnailClicked.bind(P(t)),t.observer=new w.default({tail:1/0}),t}var u,i;return u=[{key:"componentDidMount",value:function(){(0,d.default)()}},{key:"render",value:function(){var e=this;var t=this.state,n=t.pages,a=t.allSelected,u=t.selectAllType,i=t.activePageIndex,c=t.activeTab;return o.createElement(h.default,{title:r.default.t("app.download.page_list_title"),selectAllChecked:a,selectAllType:u,onSelectAllChange:v.default},o.createElement("div",null,o.createElement(C,null,n.map(function(t,n){var r=t.get("id");var a=t.get("checked");var u=t.get("isLowResolution");var l=n===i;var f=c===s.default.TYPE_PRINT&&u&&o.createElement(y.default,null);return o.createElement(A,{key:r,active:l,onClick:e._pageThumbnailClicked,"data-page-index":n},o.createElement(D,null,n+1),o.createElement(z,{active:l,disabled:!a},o.createElement(b.default,{pageId:r,maxHeight:108,maxWidth:134,observer:e.observer})),o.createElement(g.default,{checked:a,customCss:"position: absolute; left: 10px; top: 12px;",type:"check",onChange:e._handlePageCheckboxChange,"data-page-id":r}),f)}))))}},{key:"_handlePageCheckboxChange",value:function(e){var t=e.target.dataset.pageId;c()(!!t,"page-id data attribute must be present"),(0,p.default)(t)}},{key:"_pageThumbnailClicked",value:function(e){if("INPUT"!==e.target.tagName){var t=e.currentTarget.dataset.pageIndex;c()(!!t,"page-index data attribute must be present"),(0,O.scrollToPage)(t)}}}],i=[{key:"getStores",value:function(){return[l.default,m.default,f.default]}},{key:"calculateState",value:function(){return{allSelected:l.default.allSelected,selectAllType:l.default.selectAllType,pages:l.default.pages,activePageIndex:m.default.activePageIndex,activeTab:f.default.activeTab}}}],u&&k(a.prototype,u),i&&k(a,i),a}(o.Component);let W=a.Container.create(B)},7069:(e,t,n)=>{n.r(t),n.d(t,{default:()=>_});var r=n(413);var o=n.n(r);var a=n(406);var u=n(423);var i=n(552);var c=n(6103);var l=n(2376);var f=n(460);var s=n(497);var d=n(2650);n(4186);var p=n(4180);n(1166);var v=n(1202);var b=n(844);var h=n(5988);function y(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(){var e,t;var n=(e=["\n    position: absolute;\n    z-index: 2;\n    pointer-events: auto;\n    font-size: 11px;\n    right: 0;\n    /* Aligned with page number on content block */\n    line-height: 16px;\n    padding: 2px 0;\n\n    &:hover {\n        text-decoration: underline;\n    }\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return x=function(){return n},n}var P;var k=(0,u.default)(f.default)(x());var _=(P=function(e){"use strict";var t;(function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)})(r,e);var n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=O(r),n;if(t){var o=O(this).constructor;n=Reflect.construct(e,arguments,o)}else n=e.apply(this,arguments);var a;return(a=n)&&("object"==(a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof a)?a:y(this)});function r(){var e;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),e=n.apply(this,arguments),m(y(e),"_handleDownload",function(){if(!s.default.getCurrentProfile().pro)return(0,p.default)();if([l.default.TYPE_VIDEO,l.default.TYPE_GIF].includes(e.state.activeTab))return e.props.onDownloadVideo(e.props.blockKey,e.state.activeTab);var t={pageIndex:e.props.pageIndex};switch(e.state.activeTab){case l.default.TYPE_PRINT:t.format="pdf";break;case l.default.TYPE_HTML:t.format="html";break;case l.default.TYPE_IMAGE_JPG:t.format="raster",t.imageFormat="jpg";break;case l.default.TYPE_IMAGE_PNG:default:t.format="raster",t.imageFormat="png"}(0,d.downloadSinglePage)(t)}),e}var o,u;return o=[{key:"render",value:function(){return a.createElement(k,{onClick:this._handleDownload},this.props.children)}}],u=[{key:"getStores",value:function(){return[c.default]}},{key:"calculateState",value:function(){return{activeTab:c.default.activeTab}}}],o&&g(r.prototype,o),u&&g(r,u),r}(a.Component),m(P,"propTypes",{blockKey:o().string.isRequired,pageIndex:o().number.isRequired,openDialog:o().func,children:o().string,onDownloadVideo:o().func.isRequired}),P);_=function(e,t,n,r){var o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r,u;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(u=e[i])&&(a=(o<3?u(a):o>3?u(t,n,a):u(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([(0,i.connect)(null,function(e){return{onDownloadVideo:function(t,n){e({type:h.VIDEO_DOWNLOAD,payload:{blockKey:t,format:n}})}}}),(0,b.withDialogs)(),(0,v.default)({withProps:!0})],_)},7046:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var r=n(440);var o=n(456);var a=n(434);var u=n(823);var i=n(731);function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){"use strict";var t;!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(r,e);var n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=l(r),n;if(t){var o=l(this).constructor;n=Reflect.construct(e,arguments,o)}else n=e.apply(this,arguments);var a;return(a=n)&&("object"==(a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof a)?a:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this)});function r(){return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),n.apply(this,arguments)}var a,s;return a=[{key:"getInitialState",value:function(){return(0,o.Map)({zoom:null,viewportWidth:null})}},{key:"reduce",value:function(e,t){switch(t.type){case u.default.SET_VIEWPORT_SIZE:case u.default.DOWNLOAD_VIEW_LOADED:var n=t.width||e.get("viewportWidth");var r=i.default.editorState;var o={viewportWidth:n,zoom:null};if(r&&null!==n){var a=r.getPageSize().width;n<a?o.zoom=n/a:o.zoom=1}return e.merge(o)}return e}},{key:"zoom",get:function(){return this.getState().get("zoom")}},{key:"viewportWidth",get:function(){return this.getState().get("viewportWidth")}}],c(r.prototype,a),s&&c(r,s),r}(r.ReduceStore);let d=new s(a.default)}}]);